/*! For license information please see player-api.modern.js.LICENSE.txt */
(()=>{function e(r){var a=n[r];if(void 0!==a)return a.exports;var i=n[r]={id:r,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.exports}var t={856:(e,t,n)=>{(t=e.exports=n(6805)(!1)).push([e.id,"@keyframes _1f86Je8{0%{transform:rotate(0deg)}to{transform:rotate(360deg)}}._3dwjosp{position:absolute;top:50%;left:50%;pointer-events:none}._2iJDT4A{position:absolute;top:-19px;left:-19px;width:38px;height:38px;animation-name:_1f86Je8;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}",""]),t.locals={spinner:"_3dwjosp",spinner__svg:"_2iJDT4A",spinner_animation:"_1f86Je8"}},5654:(e,t,n)=>{(e.exports=n(6805)(!1)).push([e.id,"yaplayertag,yaplayertag:before,yaplayertag:after,yaplayertag *,yaplayertag :before,yaplayertag :after{hyphens:manual;font-size:inherit;color:inherit;background:0 0;border:0;border-radius:0;border-spacing:0;border-collapse:collapse;box-sizing:content-box;clear:none;float:none;font-variant:normal;font-weight:inherit;letter-spacing:normal;line-height:normal;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;outline:0;padding:0;position:static;text-align:left;text-decoration:none;text-indent:0;text-transform:none;vertical-align:baseline;visibility:inherit;word-spacing:normal}",""])},7792:e=>{e.exports='<svg viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 1.5a13 13 0 1 0 12.898 14.63" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},310:e=>{e.exports='<svg viewBox="0 0 18 18"><path d="M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"></path></svg>'},4780:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});const r="playerskin-native-ui-mode"},5983:e=>{e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e})},3089:(e,t,n)=>{"use strict";function r(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}n.d(t,{i:()=>r})},5791:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});const r=n(6386),a=function(e){void 0===e&&(e=window);const t=r(e);return"boolean"===typeof t?-1:t}},6211:(e,t,n)=>{"use strict";function r(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&(0,a.b)(e)}n.d(t,{B:()=>r});var a=n(9816)},2445:(e,t,n)=>{"use strict";function r(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!(0,a.f)(e)}n.d(t,{P:()=>r});var a=n(6623)},6475:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(3089);const a=function(e){void 0===e&&(e=window);const t=(0,r.i)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const n=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===n.length&&"mozilla"===n[0]&&"applewebkit"===n[1]&&"version"===n[2]&&"safari"===n[3]}},674:(e,t,n)=>{"use strict";function r(e){return void 0===e&&(e=window),(0,o.B)(e)||(0,i.P)(e)||(0,a.B)(e)}n.d(t,{z:()=>r});var a=n(6211),i=n(2445),o=n(6475)},8986:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});const r=(0,n(674).z)()},9816:(e,t,n)=>{"use strict";function r(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:n,maxTouchPoints:r}=t;return n||r||0}(e)>0&&!function(e){void 0===e&&(e=window);return(0,o.N)(e)>11}(e)}function a(e,t){if(!(0,l.m)(e.matchMedia))return!1;const n=e.matchMedia(t);return(0,c.K)(n)&&Boolean(n.matches)}function i(e){return void 0===e&&(e=window),r(e)||function(e){return a(e,u)}(e)||function(e){return a(e,h)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||function(e){return"ontouchstart"in e}(e)}n.d(t,{b:()=>i});var o=n(5791);var s=n(8558),l=n(6351),c=n(3770),d=n(2370);const u=(0,s.U)(d.p,e=>"("+e+"any-pointer:coarse)").join(","),h=(0,s.U)(d.p,e=>"("+e+"touch-enabled)").join(",")},6623:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});const r=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1}},413:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var r=n(4006),a=n(4460),i=n(7880);const o=n(5983);class s extends Error{constructor(e,t){void 0===t&&(t={});const n="object"===typeof e?e:{message:String(e||i.J.message)};super(),o(this,s.prototype),this.message=t.message||n.message||i.J.message,this.code=t.code||n.code||n.id||i.J.code,this.isFatal=Boolean((0,r.d)([t.isFatal,n.isFatal,i.J.isFatal])),this.details=t.details||n.details||i.J.details;const l=t.stack||n.stack||function(e){const{url:t,line:n,col:r,fileName:a,columnNumber:i,lineNumber:o}=e;return(t||a||"?")+":"+(n||o||"?")+":"+(r||i||"?")}(n);let c=l===i.J.stack?this.stack:l;if(c&&c!==i.J.stack)this.stack=c;else if(!this.stack)try{throw new Error(this.message)}catch(d){this.stack=c=d.stack||i.J.stack}this.toString=()=>(0,a.Y)(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:c})}}},7880:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0}},8914:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{L:()=>r})},1951:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});const r=!(0,n(5638).E)(Math.random)||Math.random()===Math.random()},3685:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(1951),a=n(762);const i=r.i?a.U:function(){return Math.random()}},762:(e,t,n)=>{"use strict";function r(){return i=16807*i%2147483647,(i-1)/2147483646}n.d(t,{U:()=>r});var a=n(7293);let i=Date.now()*(0,a.no)()%2147483647},5638:(e,t,n)=>{"use strict";function r(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}n.d(t,{E:()=>r})},6690:(e,t,n)=>{"use strict";function r(e){return void 0===e&&(e=window),void 0===s&&(s=function(e){void 0===e&&(e=window);return e.JSON&&(0,o.E)(e.JSON.stringify)&&(0,o.E)(e.JSON.parse)}(e)?e.JSON:{stringify:l("stringify"),parse:l("parse")}),s}n.d(t,{LA:()=>r});var a=n(4007),i=n(5587),o=n(5638);let s;const l=e=>t=>{const{JSON:n,clean:r}=function(e){void 0===e&&(e=document.body);const t=(0,a.$)(e);return{JSON:t.contentWindow.JSON,clean:()=>(0,i.Q)(t)}}();try{return n[e](t)}finally{r()}}},984:(e,t,n)=>{"use strict";function r(e,t){let n=e[t];if(!(0,a.E)(n)){const a=n;try{delete e[t];const r=e[t];"function"===typeof r&&(n=r),e[t]=a}catch(r){}}return n}n.d(t,{C:()=>r});var a=n(5638)},141:(e,t,n)=>{"use strict";function r(e,t,n){for(const r in e)(0,a.n)(e,r)&&t.call(n,e[r],r,e)}n.d(t,{M:()=>r});var a=n(8258)},3222:(e,t,n)=>{"use strict";function r(e){return"function"===typeof Object.entries?Object.entries(e):(0,a.Z)(e).map(t=>[t,e[t]])}n.d(t,{J:()=>r});var a=n(5999)},5999:(e,t,n)=>{"use strict";function r(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const n in e)(0,a.n)(e,n)&&t.push(n);return t}}n.d(t,{Z:()=>r});var a=n(8258)},8258:(e,t,n)=>{"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.d(t,{n:()=>r})},3770:(e,t,n)=>{"use strict";function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}n.d(t,{K:()=>r})},4589:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var r=n(3770);const a=(e,t)=>{for(const n of t.split(".")){if(!(0,r.K)(e)){e=void 0;break}e=e[n]}return e}},9373:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});const r="YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME"},6836:(e,t,n)=>{"use strict";var r=n(1409),a=n(9373);(0,r.n)({propertyName:a.m,win:window})},3142:(e,t,n)=>{"use strict";function r(e){const t=100*(0,a.M)();let n=0;for(let r=0;r<e.length;r++)if(n+=e[r].percent,t<n)return e[r].id;return e[0].id}n.d(t,{e:()=>r});var a=n(3685)},5971:(e,t,n)=>{"use strict";function r(){if(f.h&&f.h.document&&"function"===typeof f.h.document.hasFocus)try{return f.h.document.hasFocus()}catch(e){}}function a(e){return g?(0,v.w)(e.location.ancestorOrigins):[]}function i(e){const t={};return e.forEach(e=>{let[n,r]=e;t[n]=r}),t}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){const n=(0,d.J)({UrlParams:()=>{const n=(0,c.F)(e.document);for(let e=0;e<n.length;e++){const{location:r}=n[e],a=(0,T.FW)(r)[t];if(a)return a}},LocalStorage:()=>e.localStorage.getItem(t),globalVariable:()=>{const n=(0,l.T)(e);for(let e=0;e<n.length;e++){const r=n[e],a=r&&r.Ya&&r.Ya.hardcodedParams&&r.Ya.hardcodedParams[t];if(a)return String(a)}}});for(let r=0;r<n.length;r++){const[e,a]=n[r],i=(0,Q.Y)(a);if("string"===typeof i&&i.length>0)return z.deprecated("HardcodedParamObtainedFrom"+e,"ATTENTION! Product parameter obtained from "+e+" ["+t+"]["+i+"]"),i}}n.d(t,{O:()=>s});var l=n(3424),c=n(2646),d=n(3222),u=n(4397),h=n(2439),f=n(2202),p=n(413),m=n(8914);const g=Boolean(window.location.ancestorOrigins);var v=n(7469);const E=a(window);var y=n(2625),_=n(9878),S=n(8558),R=n(7409);const A=function(){const e=(0,S.U)(R.z,e=>e.ownerDocument),{length:t}=e,n=(t?e[t-1]:document).defaultView;return!!n&&n.self!==n.parent}();var T=n(222);const{topAncestor:O,isTrusted:b}=function(e){void 0===e&&(e=window);const t=a(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:n,referrer:r}=(0,_.w)(e.document),i=A?r:n,o=!A||(0,y.r)(f.h).length<2,{protocol:s,hostname:l,host:c,port:d}=(0,T.en)(i);return{topAncestor:(0,T.hA)({protocol:s,hostname:l,host:c,port:d,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:o}}(),I=O,P=b;var C=n(4392),w=n(2239),N=n(6838),k=n(6351),L=n(4460),D=n(874),M=n(141),F=n(3770),x=n(3685);const U=(0,x.M)();var V=n(1070);const j="_$".split("").reverse().join(""),B=e=>"_$invalid_"+e+j,Y={sensorName:B("sensor_name"),labelKey:B("label_key"),labelValue:B("label_value")};var K;!function(e){e.event="event",e.error="error",e.fatal="fatal",e.deprecated="deprecated",e.warning="warning",e.value="value",e.values="values"}(K||(K={}));n(6836);const G=["onLogError"],H=e=>{let{eventType:t,eventName:n,value:r,values:a}=e;const i={};return(0,M.M)(a,(e,r)=>{i[t+"_"+n+"_"+r]=e}),o({[t+"_"+n]:r},i)},Z=e=>e.isFatal?K.fatal:K.error,W=/^\w(\-|_|:|\s|\.|\w){1,20}$/,q=/^\w(\-|_|:|\s|\.|\w){0,70}$/,J=/^\w(\-|_|:|\s|\.|\w){1,70}$/;class X{constructor(e){this.rootFields={},this.labels={},this.event=e=>{let{name:t,data:n,labels:r,probability:a,extraRootFields:i}=e;this.push({eventType:K.event,eventName:t,data:n,additionalStatsLabels:r,probability:a,extraRootFields:i})},this.error=e=>{let{error:t,labels:n,probability:r,extraRootFields:a}=e;const i=new p.s(t);this.push({eventName:String(i.code),eventType:Z(i),data:i,additionalStatsLabels:n,probability:r,extraRootFields:a})},this.value=e=>{let{name:t,value:n,data:r,labels:a,probability:i,extraRootFields:o}=e;this.push({eventName:t,value:n,eventType:K.value,data:r,additionalStatsLabels:a,probability:i,extraRootFields:o})},this.values=e=>{let{name:t,values:n,data:r,labels:a,probability:i,extraRootFields:o}=e;this.push({eventName:t,eventType:K.values,data:r,additionalStatsLabels:a,probability:i,values:n,extraRootFields:o})},this.warning=e=>{let{name:t,message:n,probability:r,extraRootFields:a}=e;(0,F.K)(console)&&(0,k.m)(console.warn)&&console.warn(n),this.push({eventName:t,eventType:K.warning,data:{message:n},probability:r,extraRootFields:a})},this.getParams=()=>function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(this.params,G),this.setRootFields=e=>{(0,d.J)(e).forEach(e=>{let[t,n]=e;void 0===n?delete this.rootFields[t]:this.rootFields[t]=n})},this.setLabels=e=>{(0,d.J)(e).forEach(e=>{let[t,n]=e;void 0===n?delete this.labels[t]:this.labels[t]=n})},this.eventToStats=(e,t,n,r)=>{this.push({eventType:K.event,eventName:e,data:t,additionalStatsLabels:n,extraRootFields:r})},this.errorToStats=(e,t,n)=>{const r=new p.s(e);this.push({eventName:String(r.code),eventType:Z(r),data:r,additionalStatsLabels:t,extraRootFields:n})},this.deprecated=(e,t)=>{(0,F.K)(console)&&(0,k.m)(console.warn)&&console.warn(t),this.push({eventName:e,eventType:K.deprecated,data:{message:t}})},this.valueToStats=(e,t,n,r)=>{this.push({eventName:e,value:t,eventType:K.value,data:n,additionalStatsLabels:r})};const{onLogError:t}=e;this.params=o({},e,{sid:e.sid||(0,N.a)(64),onLogError:t?e=>{try{t(e)}catch(e){(0,m.L)(e)}}:m.L}),this.logUrl=X.getLogUrl(e),this.isStrmLogUrl="https://strm.yandex.ru/log"===this.logUrl}static getLogUrl(e){return e.logUrl?e.logUrl:!0===e.useAlias?"https://jstracer.yandex.ru/jstracer":"https://an.yandex.ru/jstracer"}push(e){let{eventName:t,eventType:n,data:r={},additionalStatsLabels:a,value:i=1,probability:s=1,values:l={},extraRootFields:c={}}=e;if(!function(e,t,n,r){void 0===r&&(r=!1);const a=(r?(0,x.M)():U)<e,i=a?t:n;return"function"===typeof i&&i(),a}(s))return;const{service:d,version:u}=this.params,h={service:d,version:u,data:r,eventName:t,eventType:n,additionalStatsLabels:a,value:i,values:l};if(X.isSendingData)throw new p.s({message:"RecursiveStatsRequests",details:{service:d,version:u,eventType:n,eventName:t}});X.isSendingData=!0;try{let e=this.logUrl;this.params.sendOnlyPrimaryParams||(e=(0,T.Sr)(this.logUrl,o({[d]:u,[n]:t},a)));const r=this.createFullStatsObject(h,c),{routeToJSTracer:i=!0}=c;this.isStrmLogUrl&&i&&(r.routeToJSTracer=!0),this.sendData(e,(0,L.Y)(r))}catch(f){X.isSendingData=!1,this.params.onLogError(new p.s(f,{details:{service:d,version:u,eventType:n,eventName:t}}))}X.isSendingData=!1}sendData(e,t){if(this.params.useSendBeacon){if((0,V.P)(e,t))return}(0,D.W)({url:e,data:t,method:"POST",onBeforeSend:this.params.onBeforeSend})}createFullStatsObject(e,t){const{service:n,version:a,eventName:s,eventType:l,data:c,additionalStatsLabels:f,value:p}=e,m=(this.params.createTagsFunction||H)(e),g=o({},this.labels,f,{version:this.params.version}),v={service:n,tags:i((0,d.J)(m).map(e=>{let[t,n]=e;return J.test(t)?[t,n]:[Y.sensorName,n]})),labels:i((0,d.J)(g).map(e=>{let[t,n]=e,r=t,a=n;return W.test(r)||(r=Y.labelKey),q.test(a)||(a=Y.labelValue),[r,a]}))},{location:y,referrer:S}=(0,_.w)(document);return o({},t,this.rootFields,v,{timestamp:Date.now(),eventType:l,eventName:s,data:c,sid:this.params.sid,version:a,location:(0,w.b)(window),topLocation:y,topAncestor:I,isTopAncestorUndetermined:!P||void 0,ancestorOrigins:E,documentIsVisible:(0,h.s)(document),referrer:window.document.referrer,topReferrer:S,currentScriptSrc:C.D,secureIFrame:A,isVideoADB:(0,k.m)(u.O),value:p,rnd:U,topDocumentFocus:r()})}}X.isSendingData=!1;const z=new X({service:"CommonPcode",version:"0",sid:(0,N.a)(64)});var Q=n(2818);n(3142)},6875:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});const r="__ADB_CONFIG__"},2541:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(6351),a=n(3770),i=n(6875);const o=(0,a.K)(i.M)&&i.M.fn&&(0,r.m)(i.M.fn.encodeUrl)?i.M.fn.encodeUrl:void 0,s=void 0!==o?e=>o(e):void 0},8247:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(3424),a=n(6351),i=n(4589),o=n(2541);const s=function(e){if(void 0===e&&(e=window),o.M)return o.M;const t=(0,r.T)(e);for(;t.length;){const e=t.pop();if(!e)continue;const n=(0,i.U)(e,"ya.videoAd.encodeUrl");if((0,a.m)(n))return n}}},4397:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});const r=(0,n(8247).x)(window)},2055:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});const r=(e,t,n)=>{const r=[];for(let a=0;a<e.length;a++){const i=e[a];t.call(n,i,a,e)&&r.push(i)}return r}},3888:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(5638);const a=[].find,i=(0,r.E)(a)?(e,t)=>a.call(e,t):(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(t(r,n,e))return r}}},4006:(e,t,n)=>{"use strict";function r(e){const[t]=(0,a.h)(e,e=>void 0!==e);return t}n.d(t,{d:()=>r});var a=n(2055)},5371:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(8062);const a=(0,n(984).C)(Array,"isArray"),i=Boolean(a)?e=>a.call(Array,e):e=>"Array"===(0,r.M)(e)},8558:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});const r=(e,t,n)=>{const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=t.call(n,e[a],a,e);return r}},2553:(e,t,n)=>{"use strict";function r(e,t){let{content:n,size:r}=void 0===t?{}:t;const a=e.ownerDocument.createElement("iframe");a.scrolling="no",a.setAttribute("allowfullscreen",""),a.style.display="block",r&&(a.height=r.height,a.width=r.width),e.appendChild(a);const i=a.contentDocument;return i.open(),n&&i.write(n),i.close(),i.body.style.margin="0",a.style.borderWidth="0",a}n.d(t,{Q:()=>r})},2370:(e,t,n)=>{"use strict";n.d(t,{p:()=>a,q:()=>r});const r=["","webkit","moz","o","ms"],a=["","-webkit-","-ms-","-moz-","-o-"]},9183:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(6351);const a=Date&&(0,r.m)(Date.now)?()=>Date.now():()=>(new Date).getTime()},3351:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},2439:(e,t,n)=>{"use strict";function r(e,t){void 0===t&&(t=!0);const n=(0,a.k)(e);if(!n)return t;return!e[n]}n.d(t,{s:()=>r});var a=n(3351)},2202:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(7409);const{length:a}=r.z,i=a>0?r.z[a-1].ownerDocument.defaultView:window},3424:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(2239);const a=e=>{const t=[];for(;e;)try{if((0,r.b)(e),t.push(e),e.parent===e)break;e=e.parent}catch(n){break}return t}},2625:(e,t,n)=>{"use strict";function r(e){let t=e;const n=[e],{top:r}=e;for(;t!==r;)t=t.parent,n.push(t);return n}n.d(t,{r:()=>r})},8692:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(0,a.k)(e)&&e.forEach(e=>{"function"===typeof e&&e(...n)})}n.d(t,{p:()=>r});var a=n(5371)},6862:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});class r{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const a=function(e,t,n){return void 0===t&&(t=e=>e),void 0===n&&(n=new r({})),function(){const r=t.apply(this,arguments);if(n.has(r))return n.get(r);const a=e.apply(this,arguments);return n.set(r,a),a}}},5386:(e,t,n)=>{"use strict";function r(e){let t=function(){t=()=>n;const n=e.apply(this,arguments);return n};return function(){return t.apply(this,arguments)}}n.d(t,{I:()=>r})},4392:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});const r=(0,n(3120).P)(),a=r?r.src:""},3120:(e,t,n)=>{"use strict";function r(e,t){void 0===e&&(e=document);const n=e.currentScript;if(n)return n;{const n=e.getElementsByTagName("script"),r=[];for(let e=0;e<n.length;e++)r.push(n[e]);if("function"===typeof t){const e=r.filter(t);return e[e.length-1]}return r[r.length-1]}}n.d(t,{P:()=>r})},8062:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});const r={}.toString,a=/\[object (\w+)\]/,i=e=>{const t=r.call(e);if(!t)return null;const n=t.match(a);if(!n)return null;const i=n[1];return i||null}},2646:(e,t,n)=>{"use strict";function r(e){const t=(0,i.A)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:(0,a.b)(e.defaultView),referrer:e.referrer}))}n.d(t,{F:()=>r});var a=n(2239),i=n(6566)},9878:(e,t,n)=>{"use strict";function r(e){let t="",n="";if(e){(0,a.F)(e).reverse().forEach(e=>{let{location:r,referrer:a}=e;t=t||r,n=n||a})}return{location:t,referrer:n}}n.d(t,{w:()=>r});var a=n(2646)},2239:(e,t,n)=>{"use strict";function r(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}n.d(t,{b:()=>r})},3582:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});n(8692);const r=n(6652).Z},3094:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r=n(6652).Z},1409:(e,t,n)=>{"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{n:()=>c});var a=n(3582),i=n(3094),o=n(870),s=n(6741),l=n(9082);const c=e=>{let{win:t,propertyName:n}=e;return{call:e=>(0,a.K)(r({win:t,propertyName:n},e)),subscribe:e=>(0,o.T)(r({win:t,propertyName:n},e)),wait:e=>(0,s.E)(r({win:t,propertyName:n},e)),waitUntil:e=>(0,l.Q)(r({win:t,propertyName:n},e)),clear:e=>(0,i.q)(r({win:t,propertyName:n},e))}}},870:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r=n(6652).Z},6741:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(870);const a=e=>{let{propertyName:t,win:n}=e;return new Promise(e=>{(0,r.T)({callback:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(n)},propertyName:t,win:n})})}},9082:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var r=n(870);const a=e=>{let{propertyName:t,win:n,comparator:a}=e;return new Promise(e=>{(0,r.T)({propertyName:t,win:n,callback:function(){a(...arguments)&&e()}})})}},6838:(e,t,n)=>{"use strict";function r(e){let t="";for(let n=0;n<e;n++)t+=(16*(0,a.M)()|0).toString(16);return t}n.d(t,{a:()=>r});var a=n(3685)},4007:(e,t,n)=>{"use strict";function r(e){const t=(0,a.Q)(e);return t.width="0",t.height="0",t.style.position="absolute",t}n.d(t,{$:()=>r});var a=n(2553)},5587:(e,t,n)=>{"use strict";function r(e){e.src="",(0,a.L)(e)}n.d(t,{Q:()=>r});var a=n(4532)},6351:(e,t,n)=>{"use strict";function r(e){return"function"===typeof e||"Function"===(0,a.M)(e)}n.d(t,{m:()=>r});var a=n(8062)},4460:(e,t,n)=>{"use strict";function r(e){return(0,o.LA)().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(n,r)=>{if(void 0!==e)try{e.set(n,r)}catch(a){t.push({path:r,value:n})}else t.push({path:r,value:n})},get:n=>{const r=(0,a.s)(t,e=>e.value===n);return void 0!==e&&void 0===r?e.get(n):r?r.path:void 0}}}();return(n,r)=>{if((0,i.m)(r))return(0,l.H)(r.name)?r.name:"[Function]";if(!(0,s.K)(r))return r;const a=t.get(r);if(a)return"[Circular "+a+"]";for(;e.length>0&&e[e.length-1].value[n]!==r;)e.pop();const o=(e.length>0?e[e.length-1].path:"")+(n?"/"+n:"~");return e.push({path:o,value:r}),t.set(r,o),r}}())}n.d(t,{Y:()=>r});var a=n(3888),i=n(6351),o=n(6690),s=n(3770),l=n(8833)},7469:(e,t,n)=>{"use strict";function r(e){if(!e)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t}n.d(t,{w:()=>r})},874:(e,t,n)=>{"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){const{method:t,url:n,async:c=!0,data:d,responseType:u="text",onBeforeSend:h=o.Z,onRetry:f=o.Z,checkStatus:p=(e=>l===e),headers:m={},xhrConstructor:g=XMLHttpRequest,retries:v=0,timeout:E=0,withCredentials:y,onAbort:_,onSetup:S}=e,R=e.onSuccess?(0,i.I)(e.onSuccess):o.Z,A=e.onError?(0,i.I)(e.onError):o.Z;let T,O=!1,b=0,I=e=>{O=!0,I=o.Z,T=e,P(new Error("Abort request")),"function"===typeof _&&_(e)};const P=t=>{C.onerror=null,C.onreadystatechange=null,b&&clearTimeout(b);if(b&&4!==C.readyState||O)try{C.abort()}catch(t){}if(!O)if(v>0){const n=f(t,C);if("boolean"!==typeof n||Boolean(n)||I(),O)return;a(r({},e,{onSetup:e=>{let{abort:t}=e;I=e=>t(e),O&&t(T)},retries:v-1}))}else I=o.Z,A(t,C)},C=new g;try{C.open(t,n,c)}catch(w){return void P(w)}if(C.responseType=u,C.withCredentials=Boolean(y),(0,s.M)(m,(e,t)=>{try{C.setRequestHeader(t,e)}catch(w){}}),E>0&&isFinite(E)&&(b=window.setTimeout(()=>{P(new Error("Request timeout, "+n))},E)),C.onerror=P,C.onreadystatechange=()=>{if(4===C.readyState){const{status:e}=C;p(e)?(I=o.Z,clearTimeout(b),R(C)):P(new Error("Invalid request status "+e+", "+n))}},("function"!==typeof S||(S({abort:e=>I(e)}),!O))&&(h(C,e),!O))try{C.send(d)}catch(w){P(w)}}n.d(t,{W:()=>a});var i=n(5386),o=n(6652),s=n(141);const l=200},6652:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},6566:(e,t,n)=>{"use strict";function r(e,t){if(void 0===t&&(t=!0),a.$&&t)return[];{const t=[];let r=e;for(;;)try{if(r=r.ownerDocument.defaultView.frameElement,!r)return t;t.push(r)}catch(n){return t}}}n.d(t,{A:()=>r});var a=n(8986)},7409:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=(0,n(6566).A)(document.documentElement)},7293:(e,t,n)=>{"use strict";n.d(t,{no:()=>c});var r=n(9183),a=n(6351);const i="undefined"===typeof window?void 0:window.performance,o=i&&(0,a.m)(i.now),s=i&&i.timing&&i.timing.navigationStart?i.timing.navigationStart:(0,r.m)();let l=0;const c=o?()=>i.now():()=>(()=>{const e=(0,r.m)()-s;return l=Math.max(e,l),l})()},4532:(e,t,n)=>{"use strict";function r(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}n.d(t,{L:()=>r})},1390:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var r=n(5638);const a=e=>(0,r.E)(e.navigator.sendBeacon)},1070:(e,t,n)=>{"use strict";function r(e,t){return!!a&&window.navigator.sendBeacon(e,t)}n.d(t,{P:()=>r});const a=(0,n(1390).d)(window)},8833:(e,t,n)=>{"use strict";function r(e){return"string"===typeof e}n.d(t,{H:()=>r})},2818:(e,t,n)=>{"use strict";function r(e,t){try{return e()}catch(n){"function"===typeof t&&t(n)}}n.d(t,{Y:()=>r})},1229:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=document.createElement("a")},222:(e,t,n)=>{"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){p.A.href=e;let t=p.A.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const n=(p.A.search||"")+(p.A.hash||""),i=e.lastIndexOf(n),o=-1===i?e:e.slice(0,i);if(m.test(e)){const t=a(e.replace(m,"https:"));return p.A.href=e,r({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:p.A.href})}const s=p.A.protocol&&/^[a-z\-]+:/i.test(p.A.protocol)?p.A.protocol:"";return{originalPath:o,href:p.A.href,protocol:s,host:p.A.host,hostname:p.A.hostname,port:p.A.port,pathname:t,search:p.A.search,hash:p.A.hash}}function i(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,n="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(n?"/":"")+e.search+e.hash}const n="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+n+e.pathname+e.search+e.hash}function o(e){const t={},n=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<n.length;r++){const e=n[r].indexOf("=");let a,i;if(-1===e?(a=g(n[r]),i=""):(a=g(n[r].slice(0,e)),i=n[r].slice(e+1)),a){const e=Boolean(/(\[\])$/.exec(a));a=a.replace(/\[\]$/,""),e?void 0===t[a]?t[a]=[g(i)]:t[a]=[].concat(t[a],g(i)):t[a]=g(i)}}return t}function s(e){return o(a(e).search)}function l(e){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];(0,u.k)(r)?t.push(v(n,r)):void 0!==r&&t.push(n+"="+encodeURIComponent(r))}return"?"+t.join("&")}function c(e,t,n){if(void 0===n)return e;const s=a(e),c=o(s.search);return c[t]=n,i(r({},s,{search:l(c)}))}function d(e,t,n){let{override:s=!0,saveOriginalPath:c=!1}=void 0===n?{}:n;const d=a(e),u=o(d.search);(0,f.M)(t,(e,t)=>{(void 0===u[t]||s)&&(u[t]=e)});return i(r({},d,{search:l(u)}),c)}n.d(t,{FW:()=>s,Ou:()=>c,Sr:()=>d,dD:()=>o,en:()=>a,hA:()=>i});var u=n(5371),h=n(6862),f=n(141),p=n(1229);(0,h.H)(e=>r({},a(e)));const m=/^(android-app:|chrome-extension:)/,g=e=>{try{return decodeURIComponent(e)}catch(t){return e}},v=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&")},2868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HAS_URL=void 0,t.HAS_URL=(()=>{try{return new URL("https://yandex.ru"),!0}catch(e){return!1}})()},7343:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.CSPLogger=void 0;const i=n(2868),o=n(1025);t.CSPLogger=class{constructor(e,t){void 0===t&&(t={});var{url:n="https://csp.yandex.net/csp"}=e,i=a(e,["url"]);this.additional=t,this.cspEventListener=e=>{try{const t=new URL(e.blockedURI);if(this.url===t.origin+t.pathname&&"1"===t.searchParams.get("js_client"))return this.unsubscribe(),void(console.warn&&console.warn("URL for logging CSP was blocked"))}catch(i){}const t={"csp-report":{"blocked-uri":e.blockedURI,"column-number":e.columnNumber,disposition:e.disposition,"document-uri":e.documentURI,"effective-directive":e.effectiveDirective,"line-number":e.lineNumber,"original-policy":e.originalPolicy,referrer:e.referrer,"script-sample":e.sample,"status-code":e.statusCode,"violated-directive":e.violatedDirective}},n=JSON.stringify(t),a=this.addParamsToUrl(this.url,r(r(r({},this.config),this.additional),{js_client:"1"}));o.sendLog(a,n)},this.url=n,this.config=i}setAdditional(e){this.additional=r(r({},this.additional),e)}addParamsToUrl(e,t){const n=new URL(e);for(const r in t){const e=t[r];e&&"string"===typeof e&&t.hasOwnProperty(r)&&n.searchParams.append(r,e)}return n.toString()}subscribe(e){void 0===e&&(e=document),"onsecuritypolicyviolation"in document&&i.HAS_URL&&e.addEventListener("securitypolicyviolation",this.cspEventListener)}unsubscribe(e){void 0===e&&(e=document),e.removeEventListener("securitypolicyviolation",this.cspEventListener)}}},1025:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendLog=void 0,t.sendLog=function(e,t){if(navigator.sendBeacon&&navigator.sendBeacon(e,t))return;const n=new XMLHttpRequest;n.open("POST",e),n.send(t)}},1299:(e,t)=>{"use strict";function n(e,t){try{return t(e)}catch(n){return e}}t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var a={},o=t||{},s=e.split(i),l=o.decode||r,c=0;c<s.length;c++){var d=s[c],u=d.indexOf("=");if(!(u<0)){var h=d.substr(0,u).trim(),f=d.substr(++u,d.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==a[h]&&(a[h]=n(f,l))}}return a},t.serialize=function(e,t,n){var r=n||{},i=r.encode||a;if("function"!==typeof i)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var l=e+"="+s;if(null!=r.maxAge){var c=r.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");l+="; Max-Age="+Math.floor(c)}if(r.domain){if(!o.test(r.domain))throw new TypeError("option domain is invalid");l+="; Domain="+r.domain}if(r.path){if(!o.test(r.path))throw new TypeError("option path is invalid");l+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(l+="; HttpOnly"),r.secure&&(l+="; Secure"),r.sameSite)switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return l};var r=decodeURIComponent,a=encodeURIComponent,i=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},6805:e=>{function t(e,t){var n,r=e[1]||"",a=e[3];if(!a)return r;if(t&&"function"===typeof btoa){var i=(n=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),o=a.sources.map((function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"}));return[r].concat(o).concat([i]).join("\n")}return[r].join("\n")}e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r=t(n,e);return n[2]?"@media "+n[2]+"{"+r+"}":r})).join("")},n.i=function(e,t){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"===typeof i&&(r[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"===typeof o[0]&&r[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),n.push(o))}},n}},6386:e=>{e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var a=t.indexOf("Edge/");return a>0&&parseInt(t.substring(a+5,t.indexOf(".",a)),10)}},6048:e=>{"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty;e.exports=function e(a,i){if(a===i)return!0;if(a&&i&&"object"==typeof a&&"object"==typeof i){var o,s,l,c=t(a),d=t(i);if(c&&d){if((s=a.length)!=i.length)return!1;for(o=s;0!==o--;)if(!e(a[o],i[o]))return!1;return!0}if(c!=d)return!1;var u=a instanceof Date,h=i instanceof Date;if(u!=h)return!1;if(u&&h)return a.getTime()==i.getTime();var f=a instanceof RegExp,p=i instanceof RegExp;if(f!=p)return!1;if(f&&p)return a.toString()==i.toString();var m=n(a);if((s=m.length)!==n(i).length)return!1;for(o=s;0!==o--;)if(!r.call(i,m[o]))return!1;for(o=s;0!==o--;)if(!e(a[l=m[o]],i[l]))return!1;return!0}return a!==a&&i!==i}},502:(e,t,n)=>{"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hasCookies=function(){var e=new d;try{e.setItem("__test","1");var t=e.getItem("__test");return e.removeItem("__test"),"1"===t}catch(n){return!1}};var o,s=n(1299),l=(o=s)&&o.__esModule?o:{default:o},c="lS_",d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.cookieOptions=r({path:"/"},t),c=t.prefix||c}return i(e,[{key:"getItem",value:function(e){var t=l.default.parse(document.cookie);return t&&t.hasOwnProperty(c+e)?t[c+e]:null}},{key:"setItem",value:function(e,t){return document.cookie=l.default.serialize(c+e,t,this.cookieOptions),t}},{key:"removeItem",value:function(e){var t=r({},this.cookieOptions,{maxAge:-1});return document.cookie=l.default.serialize(c+e,"",t),null}},{key:"clear",value:function(){var e=l.default.parse(document.cookie);for(var t in e)0===t.indexOf(c)&&this.removeItem(t.substr(c.length));return null}}]),e}();t.default=d},4585:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return n(e,[{key:"getItem",value:function(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0}},{key:"setItem",value:function(e,t){return this._data[e]=String(t)}},{key:"removeItem",value:function(e){return delete this._data[e]}},{key:"clear",value:function(){return this._data={}}}]),e}();t.default=r},2741:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(1402)),i=r(n(502)),o=r(n(4585)),s=null;s=(0,a.default)("localStorage")?window.localStorage:(0,a.default)("sessionStorage")?window.sessionStorage:(0,a.default)("cookieStorage")?new i.default:new o.default,t.ZP=s,a.default,i.default,o.default},1402:(e,t,n)=>{"use strict";function r(e){try{var t=window[e];return t.setItem("__test","1"),t.removeItem("__test"),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"localStorage",t=String(e).replace(/storage$/i,"").toLowerCase();if("local"===t)return r("localStorage");if("session"===t)return r("sessionStorage");if("cookie"===t)return(0,a.hasCookies)();if("memory"===t)return!0;throw new Error("Storage method `"+e+"` is not available.\n    Please use one of the following: localStorage, sessionStorage, cookieStorage, memoryStorage.")};var a=n(502)},8139:e=>{"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e})}},n={};e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function t(e){void 0===e&&(e=xn.no);const t=e();return()=>Math.max(0,e()-t)}function n(e){return Math.floor(e)}function r(e){return e}function a(e){return e}function i(e){if(void 0===e)return Kn.DEFAULT;const t=function(e){switch(e){case Gn.DEFAULT_ERROR:return Kn.DEFAULT;case Gn.BROADCAST_AD_BLOCK_INIT_ERROR:case Gn.AD_TYPE_IS_NOT_RECOGNIZED:case Gn.AD_IS_ALREADY_PLAYING:case Gn.MULTIROLL_INIT_ERROR:case Gn.PLAY_AD_VIEWERS_ERROR:return Kn.ADS;case Gn.INVALID_METADATA:case Gn.NO_STREAMS:return Kn.CONFIG;case Gn.YANDEX_RPC_ERROR:case Gn.ON_TICK_ERROR:case Gn.SAGA_ERROR:case Gn.SHAKA_FILTER_ERROR:case Gn.SHAKA_CONFIGURE_ERROR:case Gn.SHAKA_LOAD_SOURCE_ERROR:case Gn.REFRESH_SUBTITLES_ERROR:case Gn.NO_HLS_JS_INSTANCE:case Gn.REACT_COMPONENT_DID_CATCH_ERROR_INFO:case Gn.RECOVER_TASK_ERROR:case Gn.PRELOAD_SOURCE_FAILED:case Gn.MEDIA_ERR_ABORTED:return Kn.EXCEPTION;case Gn.UNSUPPORTED_MEDIA_TYPE:case Gn.NATIVE_HLS_NOT_SUPPORTED_ERROR:case Gn.HLS_JS_NOT_SUPPORTED_ERROR:case Gn.MEDIA_ERR_SRC_NOT_SUPPORTED:case Gn.MEDIA_ERR_CUSTOM:case Gn.MEDIA_ERR_DECODE:case Gn.REPRESENTATION_CHANGE:return Kn.MEDIA;case Gn.SCRIPT_INIT_ERROR:case Gn.MPD_SHAKA_INIT_ERROR:case Gn.META_INFO_REQUEST_FAILED:case Gn.STRM_ABD_INVALID_RESPONSE:return Kn.NETWORK_PLAYER;case Gn.MEDIA_ERR_NETWORK:return Kn.NETWORK_MEDIA;case Gn.MPD_WIDEVINE_CERT_LOAD_ERROR:case Gn.FAIRPLAY_CERT_LOAD_ERROR:case Gn.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR:case Gn.FAIRPLAY_CREATE_KEY_SESSION_ERROR:case Gn.FAIRPLAY_SPC_LOAD_ERROR:case Gn.FAIRPLAY_CREATE_KEY_ERROR:case Gn.FAIRPLAY_INVALID_CONTENT_ID:case Gn.DRM_PROXY_ERROR:case Gn.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:case Gn.MEDIA_ERR_ENCRYPTED:case Gn.FAIRPLAY_NOT_SUPPORTED:case Gn.NO_DRM:return Kn.DRM;case Gn.REGIONAL_LIMITATION_MANIFEST:case Gn.REGIONAL_LIMITATION_LEVEL:case Gn.REGIONAL_LIMITATION_SEGMENT:return Kn.REGIONAL;case Gn.SIGNATURE_EXPIRED_MANIFEST:case Gn.SIGNATURE_EXPIRED_LEVEL:case Gn.SIGNATURE_EXPIRED_SEGMENT:return Kn.ACCESS;case Gn.NO_CODECS:return Kn.NO_CODECS;case Gn.NO_PLAYABLE_STREAMS:return Kn.CANNOT_PLAY;case Gn.NO_MSE:return Kn.UNSUPPORTED_ENV;case Gn.INVALID_STREAM_URL:return Kn.INVALID_STREAM_URL}return Kn.DEFAULT}(e);if(t!==Kn.DEFAULT)return t;switch(e){case Hn.BUFFER_FULL_ERROR:case Hn.BUFFER_NUDGE_ON_STALL:case Hn.BUFFER_STALLED_ERROR:case Hn.SHAKA_VIDEO_ERROR_3016:case Hn.FRAG_PARSING_ERROR:case Hn.BUFFER_SEEK_OVER_HOLE:case Hn.BUFFER_APPENDING_ERROR:case Hn.PIPELINE_ERROR_DECODE:case Hn.DECODER_ERROR_NOT_SUPPORTED:case Hn.BUFFER_APPEND_ERROR:case Hn.SHAKA_MEDIA_SOURCE_OPERATION_THREW_3015:case Hn.MEDIA_ELEMENT_ERROR_FORMAT_ERROR:case Hn.REMUX_ALLOC_ERROR:case Hn.BUFFER_ADD_CODEC_ERROR:case Hn.DEMUXER_ERROR_COULD_NOT_OPEN:case Hn.NS_ERROR_DOM_INVALID_STATE_ERR:case Hn.SHAKA_DASH_INVALID_XML_4001:case Hn.SHAKA_QUOTA_EXCEEDED_ERROR_3017:case Hn.CHUNK_DEMUXER_ERROR_APPEND_FAILED:case Hn.FAILED_TO_INIT_DECODER:case Hn.PIPELINE_ERROR_INITIALIZATION_FAILED:case Hn.NS_ERROR_FAILURE:case Hn.SHAKA_MEDIA_SOURCE_OPERATION_FAILED_3014:case Hn.REQUEST_FAILED:case Hn.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED:case Hn.PIPELINE_ERROR_COULD_NOT_RENDER:case Hn.NS_ERROR_DOM_MEDIA_METADATA_ERR:case Hn.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE:case Hn.NS_ERROR_DOM_MEDIA_FATAL_ERR:case Hn.SHAKA_RESTRICTIONS_CANNOT_BE_MET_4012:case Hn.MANIFEST_PARSING_ERROR:return Kn.MEDIA;case Hn.FRAG_LOAD_ERROR:case Hn.SHAKA_BAD_HTTP_STATUS_1001_MANIFEST:case Hn.SHAKA_HTTP_ERROR_1002_SEGMENT:case Hn.MANIFEST_LOAD_ERROR:case Hn.LEVEL_LOAD_ERROR:case Hn.SHAKA_HTTP_ERROR_1002_MANIFEST:case Hn.SHAKA_BAD_HTTP_STATUS_1001_SEGMENT:case Hn.SHAKA_UNSUPPORTED_SCHEME_1000:case Hn.AUDIO_TRACK_LOAD_ERROR:return Kn.NETWORK_MEDIA;case Hn.SHAKA_TIMEOUT_1003_SEGMENT:case Hn.FRAG_LOAD_TIME_OUT:case Hn.MANIFEST_LOAD_TIME_OUT:case Hn.LEVEL_LOAD_TIME_OUT:case Hn.SHAKA_TIMEOUT_1003_MANIFEST:case Hn.SHAKA_TIMEOUT_1003_LICENSE:case Hn.AUDIO_TRACK_LOAD_TIME_OUT:return Kn.NETWORK_TIMEOUT;case Hn.INTERNAL_EXCEPTION:case Hn.SHAKA_OPERATION_ABORTED_7001:case Hn.ON_PLAYER_INIT_ERROR_INTERNAL:case Hn.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case Hn.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case Hn.LOAD_SKIN_ERROR:case Hn.INSERT_INTO_WITH_SECURE_FRAME:case Hn.ERROR_SCREEN_LOAD_ERROR:return Kn.EXCEPTION;case Hn.UNABLE_TO_LOAD_PLAYER_IFRAME:case Hn.ON_PLAYER_INIT_ERROR:case Hn.LOADER_INIT_ERROR:case Hn.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT:case Hn.FAILED_TO_DOWNLOAD_DEBUG_INFO:case Hn.SHAKA_REQUEST_FILTER_ERROR_1006:return Kn.NETWORK_PLAYER;case Hn.PLAYER_CONTAINER_NOT_FOUND:case Hn.KEY_LOAD_ERROR:case Hn.FEATURE_HANDLER_ERROR:case Hn.SHAKA_NO_LICENSE_SERVER_GIVEN_6012:case Hn.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER:case Hn.INVALID_CONFIG_LANG_IN_CREATE_PLAYER:case Hn.INVALID_CONFIG_IN_CREATE_PLAYER:case Hn.INVALID_CONFIG_IN_SET_SOURCE:case Hn.INVALID_CONFIG_IN_SOURCE_UPDATE:case Hn.ELEMENT_NOT_IN_DOM:return Kn.CONFIG;case Hn.SHAKA_FAILED_TO_CREATE_CDM_6002:case Hn.SHAKA_HTTP_ERROR_1002_LICENSE:case Hn.SHAKA_LICENSE_REQUEST_FAILED_6007:case Hn.SHAKA_FAILED_TO_GENERATE_LICENSE_REQUEST_6006:case Hn.SHAKA_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001:case Hn.SHAKA_FAILED_TO_ATTACH_TO_VIDEO_6003:case Hn.SHAKA_LICENSE_RESPONSE_REJECTED_6008:case Hn.SHAKA_INVALID_SERVER_CERTIFICATE_6004:case Hn.SHAKA_EXPIRED_6014:case Hn.SHAKA_BAD_HTTP_STATUS_1001_LICENSE:return Kn.DRM;case Hn.SHAKA_CONTENT_UNSUPPORTED_BY_BROWSER_4032:return Kn.NO_CODECS}return Kn.DEFAULT}function o(e,t,n,r){const a=function(e){let t=!1,n=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),n=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:n,once:r}}(r),i=er?a:a.capture,o=a.once&&!Qn?function(e){s(),n.call(this,e)}:n,s=()=>{zn(e,t,o,i)};return Xn(e,t,o,i),s}function s(e,t){const n=function(e){const t=(0,tr.k)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return n?o(e,n,()=>{t((0,Wn.s)(e))}):qn.Z}function l(e,t,n,r){let{params:a}=e;(0,lr.K)(a[0])?((0,sr.M)(a[0],(e,r)=>{r===t&&(Array.isArray(e)?e.forEach(e=>e(n)):e(n))}),r&&(a[0][t]=[])):a[0]===t&&(0,or.m)(a[1])&&(a[1](n),r&&(a[1]=qn.Z))}function c(e,t,n){for(let r=0;r<e.length;r++){const a=e[r];"on"===a.name?l(a,t,n,!1):"once"===a.name&&l(a,t,n,!0)}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){function t(t){if(e&&console.log("[PLAYER] [CALL]",t.name,t.params),void 0!==r)return r[t.name].apply(r,t.params);if(void 0!==a&&cr.indexOf(t.name)>-1)return a[t.name].apply(a,t.params);if(!t.async)return void o.push(t);const n=d({},t,{resolve:qn.Z,reject:qn.Z});return o.push(n),new Promise((e,t)=>{n.resolve=e,n.reject=t})}function n(e,t){e.forEach(e=>{e.async?t[e.name].apply(t,e.params).then(e.resolve,e.reject):t[e.name].apply(t,e.params)}),e.length=0}let r,a,i=!1,o=[];const s={getReadyState:()=>i?ir.broken:r?r.getReadyState():ir.init,getState:()=>{if(r)return r.getState()},setReadyInstance(e){r=e,n(o,r)},handlePlayerDestroy(){r=void 0,a=void 0},setInstance(e){a=e;const[t,r]=function(e,t){const n=[],r=[];return((e,t,n)=>{for(let r=0;r<e.length;r++)t.call(n,e[r],r,e)})(e,(a,i)=>{t(a,i,e)?n.push(a):r.push(a)}),[n,r]}(o,e=>{let{name:t}=e;return wn.indexOf(t)>-1});o=r,n(t,a)},emitErrorOnStart(e){if(r)throw new Error("Can't emit error on lazyApi after #setInstance()");i=!0,function(e,t){c(e,"ErrorChange",{error:t})}(o,e)},emitEventOnStart(e,t){a||c(o,e,t)}};return Object.defineProperty(s,"skin",{get:()=>r?r.skin:void 0}),Nn.forEach(e=>{s[e]="pause"===e?function(n){return void 0===n&&(n=ar.ExternalApi),s.emitEventOnStart("RequestPlayingState",{playingState:rr.PAUSE,playingStateReason:n}),t({name:e,params:Array.prototype.slice.call(arguments),async:!1})}:function(){return t({name:e,params:Array.prototype.slice.call(arguments),async:!1})}}),Cn.forEach(e=>{s[e]="play"===e?function(n){return void 0===n&&(n=ar.ExternalApi),s.emitEventOnStart("RequestPlayingState",{playingState:rr.PLAY,playingStateReason:n}),t({name:e,params:Array.prototype.slice.call(arguments),async:!0})}:function(){return t({name:e,params:Array.prototype.slice.call(arguments),async:!0})}}),s}function h(e){return"number"===typeof e&&isFinite(e)}function f(e){let n,r=qn.Z,a=qn.Z,i=qn.Z,o=qn.Z;e.once("Ready",e=>{n=e});const l=()=>{e.off("RequestPlayingState",r),e.off("PlayingStateChange",a),e.off("ContentImpression",i),e.off("AdPodStart",o)};e.on("StreamChange",()=>{let c;l();let d=!1,u=!1,f=qn.Z,p=qn.Z;const m=()=>{if(l(),d||!c||!c.engine)return;const{hasPreroll:e=!1,engine:t}=c,r=f(),a=p();h(r)&&(0,Yn.Y)(()=>n.logDelta(e?hr[t]:ur[t],r,{sampled:!0})),h(a)&&(0,Yn.Y)(()=>n.logDelta(e?pr[t]:fr[t],a,{sampled:!0}))};r=e=>{let{playingState:n}=e;if(n===rr.PAUSE)return;f=t(),d=!(0,Wn.s)(document,!0);const r=s(document,e=>{e||(d=!0,r())});void 0!==c?m():u=!0},a=e=>{let{playingState:n}=e;n===rr.BUFFERING?p=t():n===rr.PAUSE?p=()=>0:n===rr.PLAY&&l()},i=t=>{e.off("AdPodStart",o),t&&t.engine&&(c=t,u&&m())},o=()=>{c={engine:"AD",hasPreroll:!0},e.off("ContentImpression",i),u&&m()},e.once("RequestPlayingState",r),e.on("PlayingStateChange",a),e.once("ContentImpression",i),e.once("AdPodStart",o)})}function p(e){const t=e.document;let n=t.getElementsByTagName("head")[0];return n||(n=t.createElement("head"),t.documentElement.appendChild(n)),n}function m(e,t){void 0===e&&(e="a"),void 0===t&&(t="z");const n=function(e,t){let n=e+(0,Er.M)()*(t+1-e);return n=Math.floor(n),n}(e.charCodeAt(0),t.charCodeAt(0));return String.fromCharCode(n)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){const{dropCacheOnRetry:t=!1,onBeforeLoad:n=qn.Z,retries:r=0}=e;if(e.checkLoad&&e.checkLoad())return void(e.onLoad&&e.onLoad());let a=n,i=0;return t&&r>0&&(a=e=>{if(n(e),i>0){const t=-1===e.src.indexOf("?")?"?":"&",n=function(e){const t=[];for(let n=0;n<e;n++)t.push(m());return t.join("")}(4);e.src+=t+n}i++}),function e(t){const{src:n,win:r=window,charset:a=yr,async:i=!0,retries:o=0,onRetry:s=qn.Z,retryDelay:l=0,checkLoad:c=_r,onBeforeLoad:d=qn.Z,onLoad:u=qn.Z,onError:h=qn.Z}=t,f=r.document.createElement("script"),m=r=>{o>0?(s(r),e(g({},t,{src:n,retries:o-1}))):h(r),(0,vr.L)(f)};f.type="text/javascript",f.async=i,f.onload=()=>c(f)?u():m(new Error("checkLoad for "+n+" failed")),f.onerror=e=>{try{r.setTimeout(()=>{m(e)},l)}catch(e){}},f.src=n,f.charset=a,d(f),p(r).appendChild(f)}(g({},e,{onBeforeLoad:a}))}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){const{win:t=window,src:n,retries:r=0,onError:a=qn.Z}=e,i=new jn.s({id:gr.LOAD_SCRIPT_ERROR,message:"Failed to load script ["+n+"]",details:{src:n,isSelfWindow:t===window,onBeforeLoad:Boolean(e.onBeforeLoad),retries:r}});v(E({},e,{win:t,onError:()=>a(i)}))}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e){return new Promise((t,n)=>{y(_({},e,{onLoad:t,onError:n}))})}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(){return Tr||(!function(){try{Ar=encodeURIComponent(JSON.stringify(R({},Sr,Rr)))}catch(e){}}(),Tr=!0),Ar}function T(e){return void 0===e||void 0===e.additional?A():encodeURIComponent(JSON.stringify(R({},Sr,Rr,e.additional)))}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function I(e,t){void 0===t&&(t={}),Or&&(0,Yn.Y)(()=>{const n=b(t,Ir);window.Ya.Rum.timeEnd(e,O({},n,{"-additional":T(t)}))})}function P(e){let{win:t=window,src:n,checkLoad:r,onBeforeLoad:a=qn.Z,onLoad:i=qn.Z,withCredentials:o=!1}=e;Mn["ll1.0-9279"]=Mn["ll1.0-9279"]||{};const s=Mn["ll1.0-9279"];return s[n]||(s[n]=S({checkLoad:r,win:t,src:n,retries:3,dropCacheOnRetry:!0,onBeforeLoad:e=>{o||(e.crossOrigin="anonymous"),a()}}).then(i),s[n].catch(()=>delete s[n])),s[n]}function C(e){const t=window;let n=!1;return e.player.once(mr.Destroy,()=>n=!0),P({src:"https://yastatic.net/yandex-video-player-iframe-api-bundles/1.0-9279/js/skin-loader.js",checkLoad:()=>(0,lr.K)(t.Ya)&&(0,lr.K)(t.Ya.playerSkin)&&(0,or.m)(t.Ya.playerSkin.init)}).then(()=>{if(!n)return t.Ya.playerSkin.init(e)})}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,n){const r=n(e),a=u(r.getDebugConfig().logCalls);!function(e,n){if(void 0===n&&(n=!0),!(0,Wn.s)(document,!0))return;let r=!1;const a=s(document,e=>{e||(r=!0,a())}),i=n?"loader":"create",o=0===nr++,l=o?i+".player.firstready":i+".player.ready",c=o?i+".player.firststart":i+".player.start",d=t();let u,h=!0;e.once("Ready",e=>{const t=d();u=e,(0,Yn.Y)(()=>{r||e.logDelta(l,t,{initSubpage:!0,sampled:!0})})}),e.once("ResourcesIdle",()=>{h=!1}),e.once("ContentImpression",()=>{const e=d();!r&&h&&void 0!==u&&(0,Yn.Y)(()=>u.logDelta(c,e,{initSubpage:!0,sampled:!0}))})}(a,!1),!0!==e.skipPlayRumLogger&&f(a);const{setReadyInstance:i,setInstance:o}=a,l=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(a,Pr);o(r),r.once(mr.Ready,i),r.once(mr.SkinReady,()=>l.skin=r.skin);const c=(0,Fn.I)(async()=>{if(!1===e.loadSkin)return;const n=e.skinParams||{},{loadSkin:a=C}=e;try{const i=a===C;if(i){const e=t();r.once(mr.SkinReady,t=>{let{error:n}=t;r.logSkinDelta(n?"skin.error":"skin.load",e(),{sampled:!0,initSubpage:!0})})}r.skin=await a(w({},n,{container:r.getContainer(),player:l,modern:!0},i?{flags:e.flags}:{})),r.emit(mr.SkinReady,{})}catch(i){r.logError(new Zn({code:Hn.LOAD_SKIN_ERROR,isFatal:!1,details:i})),r.setNativeControlsVisibility(!0),r.setNativeAdControlsVisibility(!0),r.emit(mr.SkinReady,{error:i})}}),d=e=>{let{error:t}=e;t&&t.isFatal&&c()};r.once(mr.ErrorChange,d);const h=()=>{r.off(mr.ErrorChange,d),c()};let p=!1,m=!1;return r.once(mr.Ready,()=>{m=!0,p&&h()}),r.once(mr.ResourcesIdle,()=>{m?h():p=!0}),l}function k(e,t){const n=e.style;for(const r in t)if(t.hasOwnProperty(r)){n[xr(r)]=t[r]}}function L(e,t){void 0===t&&(t=window);return("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function D(e){const t=e.getRootNode;if((0,or.m)(t))return t.call(e);let n=e;for(;n.parentNode;)n=n.parentNode;return n}function M(e){return!!e&&"ShadowRoot"===(0,Cr.M)(e)}function F(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let n=e;for(;n;){if(n&&t.document.body.contains(n))return!0;const e=D(n);if(!M(e)||!Br(e.host))return!1;n=e.host}return!1}function x(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}function U(e,t){e.forEach(e=>{x(e,t)})}function V(e,t){if(void 0===t&&(t=!1),e===Gn.NO_CODECS&&Qr&&$r>6)return{title:"NO_CODECS_TITLE",message:"NO_CODECS_MESSAGE",helpLink:"https://yandex.ru/support/video-player/player-issues.html#no-codecs",helpLinkButtonText:"NO_CODECS_HELP_LINK_TITLE"};const n=i(e);return t&&function(e){return[Kn.NETWORK_PLAYER,Kn.NETWORK_MEDIA,Kn.NETWORK_TIMEOUT,Kn.DRM,Kn.ADS].indexOf(e)>-1}(n)?{title:"ADBLOCK_DETECTED_TITLE",message:"ADBLOCK_DETECTED_MESSAGE",helpLink:"https://yandex.ru/support/video-player/blocker-settings.html",helpLinkButtonText:"ERROR_SCREEN_DEFAULT_HELP_LINK"}:function(e){return{title:ta[e],message:na[e],helpLink:ea[e],helpLinkButtonText:ra[e]||"ERROR_SCREEN_DEFAULT_HELP_LINK"}}(n)}function j(e){let{reqid:t,from_block:n,frontend_vh_reqid:r,recommender_reqid:a,stream_block:i,ppi:o,rid:s}=e;return{reqid:t,from_block:n,frontend_vh_reqid:r,recommender_reqid:a,stream_block:i,ppi:o,rid:s}}function B(e){return(t=e.supportInfo).supported&&void 0!==t.engine;var t}function Y(e){return void 0===e?[]:(e.testIds||"").split(",").map(e=>parseInt(e,10)).filter(h)}function K(e){const t=e;return t.Ya||(t.Ya={}),t.Ya.streamPlayer||(t.Ya.streamPlayer={}),t.Ya.streamPlayer}function G(e){ga.flagsInited||(ga.flagsInited=!0,(0,lr.K)(e)&&(0,lr.K)(e.flags)&&(0,Yn.Y)(()=>{(0,sr.M)(e.flags,(e,t)=>{Ea[t]=String(e)})}))}function H(e){return q(e),Ea[e]}function Z(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&void 0}function W(e){const t=Z(H(e));if("undefined"===typeof t){return Z(va[e])}return t}function q(e){if(ga.flagsInited)return;const t=new Error(e?"Unexpected usage of player's flag "+e+" before any flag configuration":"Unexpected usage of player's getFlagsJson before any flag configuration");setTimeout(()=>{throw t})}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");La(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function z(e,t,n,r){return new(n=n||Promise)((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function Q(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,(n=i?[2&n[0],i.value]:n)[0]){case 0:case 1:i=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,a=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){o=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){o.label=n[1];break}if(6===n[0]&&o.label<i[1]){o.label=i[1],i=n;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(n);break}i[2]&&o.ops.pop(),o.trys.pop();continue}n=t.call(e,o)}catch(s){n=[6,s],a=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,a,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function $(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function te(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e}function ne(e){return new ki({values:e,typeName:_i.ZodEnum})}function re(e){let{url:t,adConfig:n,additionalParams:r}=e;t=((e,t)=>{if(!e||!t)return e;const n={"partner-id":"number"===typeof t.partnerId?String(t.partnerId):t.partnerId,"video-category-id":"number"===typeof t.category?String(t.category):t.category,"imp-id":String(t.impId),gzip:"1"};return(0,So.Sr)(e,n,{override:!0,saveOriginalPath:!0})})(t,n);const{from:a,vsid:i}=r,o=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,Ro);return t=(0,So.Sr)(t,{from:a,vsid:i},{override:!0,saveOriginalPath:!0}),(0,So.Sr)(t,o,{override:!1,saveOriginalPath:!0})}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){if(!e.servers)return e;const n={};return(0,Ao.J)(e.servers).forEach(e=>{let[r,a]=e;!function(e){const{hostname:t}=(0,So.en)(e);return-1!==To.indexOf(t)}(a)?n[r]=a:n[r]=(0,So.Ou)(a,"vsid",t)}),ae({},e,{servers:n})}function oe(e){return void 0===e.loadSkin?"defaultInstream":void 0}function se(e,t){const n=new RegExp("[?&]"+e+"=*([^&#]*)","g");let r=null,a=null;for(;a=n.exec(t);)r=a;return r&&"string"===typeof r[1]?decodeURIComponent(r[1]):void 0}function le(e,t,n){void 0===n&&(n=window);const r=t(se(e,(0,Io.b)(n)));if(r)return console&&(0,or.m)(console.warn)&&console.warn("using "+e+"="+r+" from query"),r;const a=t(function(e){try{const t=localStorage.getItem(e);if(!t)return;return t}catch(t){return}}(e));return a?(console&&(0,or.m)(console.warn)&&console.warn("using "+e+"="+a+" from localStorage"),a):void 0}function ce(e){return ko.indexOf(e)>-1}function de(e){if(!(0,lr.K)(e))return!1;const{utcStart:t,utcEnd:n}=e;return(void 0===t||h(t))&&(void 0===n||h(n))}function ue(e){return Array.isArray(e)?e.filter(e=>"string"===typeof e):[]}function he(e){if(!(0,lr.K)(e))return{init:[],start:[],end:[],setSource:[],adStart:[],adEnd:[],adPodStart:[],adPodEnd:[],adPodSkip:[],sourceStart:[],play:[],pause:[],seek:[],firstQuartile:[],midpoint:[],thirdQuartile:[],viewed:[],heartbeat:[],watchedTime:[],error:[]};const{init:t,start:n,end:r,setSource:a,adStart:i,adEnd:o,adPodStart:s,adPodEnd:l,adPodSkip:c,sourceStart:d,play:u,pause:f,seek:p,firstQuartile:m,midpoint:g,thirdQuartile:v,viewed:E,heartbeat:y,watchedTime:_,error:S}=e;return{init:ue(t),start:ue(n),end:ue(r),setSource:ue(a),adStart:ue(i),adEnd:ue(o),adPodStart:ue(s),adPodEnd:ue(l),adPodSkip:ue(c),sourceStart:ue(d),play:ue(u),pause:ue(f),seek:ue(p),firstQuartile:ue(m),midpoint:ue(g),thirdQuartile:ue(v),heartbeat:(T=y,Array.isArray(T)?T.filter(e=>{if(!Array.isArray(e)||2!==e.length)return!1;const[t,n]=e;if("string"!==typeof t||!de(n))return!1;const{offset:r,delay:a,callsCount:i}=n;return"number"===typeof a&&(void 0===r||h(r))&&(void 0===i||"number"===typeof i&&i>0)}):[]),viewed:(A=E,Array.isArray(A)?A.filter(e=>{if(Array.isArray(e)&&2===e.length){const[t,n]=e;if("string"!==typeof t)return!1;if(!(0,lr.K)(n))return!1;{const{percent:e}=n;if("number"!==typeof e)return!1}return!0}return!1}):[]),watchedTime:(R=_,Array.isArray(R)?R.filter(e=>{if(!Array.isArray(e)||2!==e.length)return!1;const[t,n]=e;if("string"!==typeof t||!(0,lr.K)(n))return!1;const{offset:r}=n;return de(n)&&"number"===typeof r}):[]),error:ue(S)};var R,A,T}function fe(e){if(void 0===e||!(0,lr.K)(e))return xo;const{trackingEvents:t}=e;return{trackingEvents:(Array.isArray(t)?t:[t]).map(he)}}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e){const t=e.filter(h).sort().join(",");return t.length>0?t:void 0}function ge(e){return me(e.map(e=>parseInt(e,10)))}function ve(e){try{return JSON.stringify(e),!0}catch(xa){return!1}}function Ee(e){return"number"===typeof e&&0<=e&&e<=1}function ye(e){const t=(0,Bn.H)(e)?(void 0===(n=e)&&(n=""),n.split(",").map(e=>e.trim()).filter(ce)):e||[];var n;return t.indexOf(No.ALL)>-1?ko:t}function _e(e,t){void 0===e&&(e={});const n={};return function(e,t){for(const n in t)(0,gs.n)(t,n)&&(e[n]=t[n])}(n,e),vs.forEach(e=>{"undefined"===typeof n[e]&&"undefined"!==typeof t[e]&&(n[e]=t[e])}),n}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ae(e,t){const n=_s.parse(e),{adConfig:r}=n.params;return(0,lr.K)(r)&&(0,lr.K)(t)&&void 0===r.skinType&&(r.skinType=oe(t)),n}function Te(e){return Math.floor(e/30)}function Oe(e,t,n){return"https://yastatic.net"+function(e,t){return(t?"/yandex-video-player-iframe-api-bundles-stable/":"/yandex-video-player-iframe-api-bundles/")+encodeURIComponent(e)+"/"}("1.0-"+t,n)+"js/"+e}function be(e){void 0===e&&(e=window);const{userAgent:t=""}=e.navigator,n=/Android/.test(t),r=Is(e),a=/com\.yandex\.mobile\.metrica\.ads\.sdk.*?Android/.test(t);return n&&!r||a}function Ie(e,t){void 0===t&&(t={});const{silent:n=!0,allowRelative:r=!1}=t;return r||function(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}(e)?new Promise((t,r)=>{const a=document.createElement("img");a.onload=()=>t(e),a.onerror=n?()=>t(null):()=>r(new Error("knockPixel failed to load image ["+e+"]")),a.src=e}):n?Promise.resolve(null):Promise.reject("["+e+"] is not an absolute url, to knock this pixel use { allowRelative: true } option")}async function Pe(e){let{url:t,data:n,contentType:r}=e;if(await js(),W("web_gogol_fetch_keepalive")&&Vs()){const e={method:"POST",body:n,keepalive:!0,priority:"low",credentials:"include"};void 0!==r&&(e.headers={"Content-Type":r});if((await fetch(t,e)).ok)return;if(!W("web_gogol_fetch_retry_once"))return;return await js(),void fetch(t,e)}if(((e,t)=>{if("function"!==typeof navigator.sendBeacon)return!1;try{return navigator.sendBeacon(e,t)}catch(n){return!1}})(t,r?new Blob([n],{type:r}):n))return;const a=new XMLHttpRequest;a.open("POST",t),a.withCredentials=!0,void 0!==r&&a.setRequestHeader("Content-Type",r),a.send(n)}function Ce(e){let[t,{offset:n,utcStart:r,utcEnd:a}]=e;return[t,{offset:n,utcStart:r,utcEnd:a,delay:1/0,callsCount:1}]}function we(e,t){return e.map(e=>[e,{percent:t}])}function Ne(e){const[t,{utcStart:n="none",offset:r="none",delay:a="none"}]=e;return"url="+t+"|"+n+"/"+r+"/"+a}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t,n){if(void 0===t)return e;if(void 0===n)return e;const r=encodeURIComponent(t)+"="+encodeURIComponent(n);return Js.href=e,Js.search=Js.search?Js.search+"&"+r:"?"+r,Js.href}function De(e,t,n){if(void 0===t)return e;if(void 0===n)return e;const r=encodeURIComponent(t)+"="+encodeURIComponent(n);return Js.href=e,Js.hash=Js.hash?Js.hash+"&"+r:"#"+r,Js.href}function Me(e,t,n){void 0===n&&(n={});for(const r in t)t.hasOwnProperty(r)&&(e=Le(e,r,t[r]));for(const r in n)n.hasOwnProperty(r)&&(e=De(e,r,n[r]));return e}function Fe(e){const t=e+"x"+Xs;return Xs++,t}function xe(e){try{return JSON.stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(n,r)=>{if(void 0!==e)try{e.set(n,r)}catch(a){t.push({path:r,value:n})}else t.push({path:r,value:n})},get:n=>{const r=(0,Qs.s)(t,e=>e.value===n);return void 0!==e&&void 0===r?e.get(n):r?r.path:void 0}}}();return(n,r)=>{if((0,or.m)(r))return(0,Bn.H)(r.name)?r.name:"[Function]";if(!(0,lr.K)(r))return r;if(a=r,"[object Window]"===Object.prototype.toString.call(a))return"[object Window]";var a;if(function(e){return(0,Bn.H)(e.tagName)}(r))return"[DOMNode "+r.tagName+"]";const i=t.get(r);if(i)return"[Circular "+i+"]";for(;e.length>0&&e[e.length-1].value[n]!==r;)e.pop();const o=(e.length>0?e[e.length-1].path:"")+(n?"/"+n:"~");return e.push({path:o,value:r}),t.set(r,o),r}}())}catch({message:t,stack:n}){return JSON.stringify({__stringifyError:{message:t,stack:n}})}}function Ue(e){return void 0===e&&(e="/log"),"https://log.strm.yandex.ru"+e}function Ve(){return Ue("/"+(0,tl.a)((e=rl,t=al,n(Math.floor(Math.random()*(t-e+1))+e))));var e,t}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(){const{location:e,referrer:t}=(0,sl.w)(document);return{location:(0,Io.b)(window),topLocation:e,referrer:window.document.referrer,topReferrer:t}}function Ye(e,t){return function(e,t){if(e.status===t.status)return 0;if(e.status===Jr.OFFLINE)return 1;return-1}(e,t)||function(e,t){return String.prototype.localeCompare.call(e.name,t.name)}(e,t)}function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function He(e){let t,n=qn.Z,r=0;const a=e=>{r=e.status,t=e.response};return{promise:new Promise((t,r)=>{(0,fl.W)(Ge({},e,{onSuccess:e=>{a(e),t(e)},onError:(e,t)=>{a(t),r(e)},onAbort:r,onSetup:e=>{let{abort:t}=e;return n=t}}))}),abort:e=>n(e),getStatus:()=>r,getResponse:()=>t}}function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function We(e){return e.replace(/<tld>/g,yl)}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Je(e,t,n){void 0===n&&(n=" ");const r=t-e.length;if(r>0){let t=n;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}function Xe(e){return Je(String(e%Math.pow(10,4)),4,"0")}function ze(e){return{name:e.name,bitrate:e.bitrate,lang:e.lang}}function Qe(e){return"undefined"===typeof e?null:{name:e.name,lang:e.lang}}function $e(e){return{auto:e.auto,name:e.name,bitrate:e.bitrate,width:e.width,height:e.height}}function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e){void 0===e&&(e={});const t={};for(const n in e){const r=e[n],a=typeof r;"string"!==a&&"number"!==a&&"boolean"!==a||(t[n]=r)}return t}function nt(){const{plugins:e}=window.navigator;return void 0===e||0===e.length?[]:(0,Tl.U)(e,tt)}function rt(){const e=window.navigator||{},t=window.performance||{},{location:n,referrer:r}=(0,sl.w)(document);return{navigator:et({},tt(e),{connection:tt(e.connection),plugins:nt()}),performance:{memory:tt(t.memory)},playerLocation:location.href,iframeApiLocation:n,iframeApiReferrer:r}}function at(e){let{videoType:t,currentTime:n,dvrStartTime:r,dvrDuration:a}=e;if(void 0===t||t===ks.VOD)return Ra;if(a===1/0||n>r+a-Ol)return Il;if(t!==ks.LIVE)return Ra;return r+(0===n?0:10)>n?bl:Ra}function it(e,t){const n=document.createElement("style");n.textContent+=e,t?t.appendChild(n):p(window).appendChild(n)}function ot(e){let t,{vsid:n,container:r,useFriendlyFrame:a}=e;return a?(t=function(e,t){void 0===t&&(t=document);const n=(0,wl.$)(t.body);return n.id="ya-video-player-frame-"+e,n}(n),r.appendChild(function(e){Cl();const t=document.createElement("yaplayertag");return t.id=function(e){return"ya-video-player-"+e}(e),k(t,{width:"100%",height:"100%",position:"relative",overflow:"hidden",display:"block"}),t}(n))):(t=function(){const e=document.createElement("iframe");return e.scrolling="no",e.setAttribute("allowfullscreen",""),e.setAttribute("gesture","media"),function(e,t){const{allow:n}=e;let r=t;n&&"function"===typeof n.supports&&(r=r.filter(e=>n.supports(e))),e.setAttribute("allow",r.join("; "))}(e,["autoplay","encrypted-media"]),k(e,{width:"100%",height:"100%",borderWidth:"0",display:"block"}),e}(),r.appendChild(t)),t}function st(e){return(0,Bn.H)(e)&&e.length>0}function lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ct(e){if("function"===typeof Object.keys)return Object.keys(e);const t=[];for(const n in e)lt(e,n)&&t.push(n);return t}function dt(e,t){try{return e()}catch(xa){"function"===typeof t&&t(xa)}}function ut(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function ht(e){return"function"===typeof Object.entries?Object.entries(e):((e,t,n)=>{const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=t.call(n,e[a],a,e);return r})(ct(e),t=>[t,e[t]])}function ft(e,t){const n={UrlParams:()=>Fl[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{var n,r;for(const a of(0,Ll.T)(e)){const e=null===(r=null===(n=a.Ya)||void 0===n?void 0:n.hardcodedParams)||void 0===r?void 0:r[t];if(e)return String(e)}}};for(const[a,i]of ht(n)){const e=dt(i);if(st(e))return r="VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+a+"]",ut(console)&&(0,or.m)(console.warn)&&console.warn(r),e}var r}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mt(e){return Gl||function(e){return Jl+"1.0-"+e+"/"}(e)}function gt(e){return"number"===typeof e&&isFinite(e)&&e>=0}function vt(e){let t=function(){let n;return t=()=>n,n=e.apply(this,arguments),n};return function(){return t.apply(this,arguments)}}function Et(e){if(void 0!==e){if(!(0,Bn.H)(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0!==e.length){for(const t of e.split(";")){const n=t.split(",");if(3!==n.length)throw new Error("testIdParts length error ["+e+"]");const[r,,a]=n;if(0===r.trim().length)throw new Error("testId length error ["+e+"]");if(0===a.trim().length)throw new Error("testId bucket length error ["+e+"]")}return e}}}function yt(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function St(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=oc(t,Boolean);if(0!==r.length)return r.join(";")}function Rt(e){var t;const n=(_c.h||window).console;if(!Rc||void 0===n)return;const r="AdSDKJS["+Hl+"]:";null===(t=n.log)||void 0===t||t.call(n,r,e)}function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tt(e){const t=Number(e);return gt(t)?(r=0,(n=t)>(a=1)?a:n<r?r:n):void 0;var n,r,a}function Ot(e){return function(e){return void 0===e&&(e=window),void 0===bc&&(bc=e.JSON),bc}().stringify(e,function(){const e=[],t=function(){const e="undefined"===typeof WeakMap?void 0:new WeakMap,t=[];return{set:(n,r)=>{if(void 0!==e)try{e.set(n,r)}catch(a){t.push({path:r,value:n})}else t.push({path:r,value:n})},get:n=>{const r=dc(t,e=>e.value===n);return void 0!==e&&void 0===r?e.get(n):r?r.path:void 0}}}();return(n,r)=>{if((0,or.m)(r))return(0,Bn.H)(r.name)?r.name:"[Function]";if(Xl(r))return{name:(a=r).name,message:a.message,stack:a.stack};var a;if(!ut(r))return r;const i=t.get(r);if(i)return"[Circular "+i+"]";for(;e.length>0&&e[e.length-1].value[n]!==r;)e.pop();const o=(e.length>0?e[e.length-1].path:"")+(n?"/"+n:"~");return e.push({path:o,value:r}),t.set(r,o),r}}())}function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function It(){}function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wt(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}function Nt(e){return"number"===typeof(t=e)&&isFinite(t)&&t>0&&function(e){return h(e)&&Math.floor(e)===e}(e);var t}function kt(e,t){var n,r,a;return null===(a=null===(r=null===(n=t.ya)||void 0===n?void 0:n.videoAd)||void 0===r?void 0:r.loadedModules)||void 0===a?void 0:a[e]}function Lt(e){return function(e){const{src:t,win:n,onBeforeLoad:r=It}=e,a=new Lc({});let i=It;return{promise:new Promise((e,o)=>{const s=n.document.createElement("script");let l=!1;i=()=>{l=!0,wt(s)};s.type="text/javascript",s.async=!0,s.onload=()=>{l||e()},s.onerror=e=>{l||(o(new Lc(a,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:n===window,event:e}})),i())},s.src=t,s.charset=yr,r(s),p(n).appendChild(s)}),teardown:i}}(e)}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mt(){return Yc}function Ft(e){const t=Mt();return Kc.subpageIndex!==t?(Kc.subpageIndex=t,Kc.deltas={},!1):Boolean(Kc.deltas[e])}function xt(e){br&&(Ft(e)||function(e){(0,Yn.Y)(()=>{window.Ya.Rum.time(e)})}(e))}function Ut(e,t){var n;(void 0===t&&(t={}),br)&&(Ft(e)||(I(e,t),n=e,Kc.deltas[n]=!0))}function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}async function jt(e,t,n){var r;void 0===e&&(e=window);const a=e===window;a&&xt("adsdk.multiroll.full");const i=(e=>{var t,n,r,a,i,o;const{win:s,config:{vasUaasConfig:l,additionalCustomRootFields:c,vh_sid:d},moduleName:u,vasLoaderUrl:h,serviceName:f,serviceVersion:p}=e,m=null!==(t=null===c||void 0===c?void 0:c.vsid)&&void 0!==t?t:Tc.VSID,g=(e=>{let{serviceName:t,serviceVersion:n,vsid:r}=e;const a=new Uc({rnd:Tc.VAS_USER_SESSION_RANDOM,vsid:r,defaultProbability:Vc}),i=(e,r)=>{const a=t||"unknown",i=n||"unknown";return{tags:{[e+"_"+r+"_"+a+"_"+i]:1},labels:{version:"loadVasModule_"+a+"_"+i}}};return{event:e=>a.event(Ct({getTagsAndLabels:i},e)),error:e=>a.error(Ct({getTagsAndLabels:i},e))}})({serviceName:f,serviceVersion:p,vsid:m}),v=(e=>{var t;const{error:n,config:r}=ac(e);if(!n){const e=r.flags,n=null!==(t=e.ADSDKVER)&&void 0!==t?t:e.VAS_STABLE_VERSION,a=st(n)?parseInt(n,10):void 0;if(gt(a))return{resolveType:"UAAS Config",version:a,parsedUaasConfig:r,parseUaasConfigError:void 0}}return{resolveType:"none",version:void 0,parsedUaasConfig:void 0,parseUaasConfigError:n}})(l);l?v.parseUaasConfigError?g.error({error:new Dc({code:"LOAD_VAS_MODULE_PARSE_UAAS_CONFIG_ERROR",details:{message:v.parseUaasConfigError.message,vasUaasConfig:l}})}):void 0===(null===(r=null===(n=v.parsedUaasConfig)||void 0===n?void 0:n.flags)||void 0===r?void 0:r.VAS_STABLE_VERSION)&&g.error({error:new Dc({code:"LOAD_VAS_MODULE_NO_VAS_STABLE_VERSION_IN_AB_FLAGS",details:{vasUaasConfig:l}})}):g.event({name:"LoadVasModule_NoUAAS",data:{}});const E=Dt({},c),y=st(d)?d:void 0;!st(E.vh_sid)&&y&&(E.vh_sid=y);const _=dt(()=>Et(null===E||void 0===E?void 0:E.testIds),e=>{g.error({error:new Dc({code:"LOAD_VAS_MODULE_INVALID_TEST_IDS",details:{message:e.message}})})}),S=null===(a=v.parsedUaasConfig)||void 0===a?void 0:a.testIds,R=null!==y&&void 0!==y?y:Oc,A={AB_FLAGS:null!==(o=null===(i=v.parsedUaasConfig)||void 0===i?void 0:i.flags)&&void 0!==o?o:{},ICOOKIE:null===l||void 0===l?void 0:l.iCookie,TEST_IDS:St(_,S),VAS_UAAS_CONFIG:v.parsedUaasConfig,AdditionalStatsRootFields:E,VSID:m,SID:R,VAS_USER_SESSION_RANDOM:Tc.VAS_USER_SESSION_RANDOM,LOADER_LOADED_FROM_AN_YANDEX_RU:void 0,STATS_ROOT_PARAMS:{}};return Fc(e=>{let{resolve:t,reject:n,subscribeForTeardown:r}=e;const a=e=>{g.event({name:"LoadVasModule_ModuleLoaded",probability:Vc,data:{bundleName:u}}),t(e)};v.version?(e=>{let{version:t,win:n,moduleName:r,vasLoaderUrl:a,scriptSessionParams:i,resolve:o,reject:s,subscribeForTeardown:l,loaderFunctionsStatsWrapper:c}=e;const{promise:d,teardown:u}=(e=>{let{moduleName:t,version:n,win:r,scriptSessionParams:a}=e;const i=kt(t,r);if(i)return{promise:Promise.resolve(i),teardown:It};const o=(e=>{let{bundleName:t,win:n,ecmaVersion:r,version:a}=e;const i=Yl[r],o=(0,Bl.x)(n),s=(e=>Kl[e]+".bundle.js")(t),l=""+mt(a)+i+"/"+s;return(0,or.m)(o)?o(l):l})({version:n,bundleName:t,win:r,ecmaVersion:jl}),{promise:s,teardown:l}=Lt({src:o,win:r,onBeforeLoad:e=>{(e=>{e.crossOrigin="anonymous"})(e),lc(e,a)}});return{promise:s.then(()=>kt(t,r)),teardown:l}})({moduleName:r,scriptSessionParams:i,version:t,win:n});let h=!1;l(()=>h=!0),l(u),d.then(o).catch(e=>{h?s(e):Bc({vasLoaderUrl:a,win:n,moduleName:r,scriptSessionParams:i,resolve:o,reject:s,subscribeForTeardown:l,loaderFunctionsStatsWrapper:c})})})({version:v.version,vasLoaderUrl:h,win:s,moduleName:u,scriptSessionParams:A,resolve:a,reject:n,subscribeForTeardown:r,loaderFunctionsStatsWrapper:g}):Bc({vasLoaderUrl:h,win:s,moduleName:u,scriptSessionParams:A,resolve:a,reject:n,subscribeForTeardown:r,loaderFunctionsStatsWrapper:g})})})({serviceName:"player",serviceVersion:"1.0-9279",vasLoaderUrl:"https://yandex.ru/ads/system/adsdk.js",config:Vt({},t,{additionalCustomRootFields:{vsid:n,contentPlayerVersion:"1.0-9279",testIds:null==(r=t.additionalParams)?void 0:r.slots}}),win:e,moduleName:"Multiroll"}).promise;return i.then(()=>{a&&Ut("adsdk.multiroll.full")}).catch(qn.Z),i}function Bt(e){let{useAbdBundle:t}=e;return"https://yastatic.net"+((e,t)=>(t?"/yandex-video-player-iframe-api-bundles-stable/":"/yandex-video-player-iframe-api-bundles/")+e+"/")("1.0-9279",t)}function Yt(e){void 0===e&&(e=(0,Io.b)(window));try{if("1"===localStorage.getItem("rumdebug"))return console&&(0,or.m)(console.warn)&&console.warn("using rumdebug=1 from localStorage"),!0}catch(t){}return/[?&#]rumdebug=1(?:[&#]|$)/.test(e)}function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gt(e){return function(e,t){void 0===t&&(t=document);const n=t.createElement("a");return n.href=e,n.href}(bs?"./js/player.v2.modern.js":"./js/player.v2.js",e)}function Ht(e){let{iframe:t,useAbdBundle:n,vsid:r,from:a,reqid:i,slots:o,shouldLoadAdSdk:s,adConfig:l,flags:c}=e;const d=t.contentDocument,u=t.contentWindow;!function(e,t){if(void 0===t&&(t=window),t.history&&(0,or.m)(t.history.replaceState)&&!Wc)try{t.history.replaceState(null,t.document.title,t.location.pathname+"#"+e)}catch(n){qc(e,t)}else qc(e,t)}(function(e){let{vsid:t,from:n,reqid:r,slots:a,flags:i}=e,o="use_friendly_frame=true&vsid="+encodeURIComponent(t)+"&from="+encodeURIComponent(n);return r&&(o+="&reqid="+encodeURIComponent(r)),a&&(o+="&slots="+encodeURIComponent(a)),Yt()&&(o+="&rumdebug=1"),o+="&flags="+encodeURIComponent(i),o}({vsid:r,from:a,reqid:i,slots:o,flags:c}),u),function(e,t){const n=Bt({useAbdBundle:t}),r=Nl?document.createElement("base"):e.createElement("base");r.href=n,e.head.appendChild(r)}(d,n);const h=K(u),f=function(e){return{win:e,retries:3,async:!0,dropCacheOnRetry:!0,onBeforeLoad:e=>{e.crossOrigin="anonymous"}}}(u);return function(e,t){S(Kt({src:"https://yastatic.net/yandex-video-player-iframe-api/is-android-player-supported/is-yandex-player-supported.js"},t,{checkLoad:()=>{try{return(0,or.m)(e.isYandexPlayerSupported)}catch(t){return!1}}})).catch(()=>{e.isYandexPlayerSupported=()=>!1,(0,or.m)(e.onYandexPlayerSupportedAvailable)&&e.onYandexPlayerSupportedAvailable()})}(h,f),s&&void 0!==l&&jt(u,l,r).catch(qn.Z),S(Kt({src:Gt(d)},f,{checkLoad:()=>{try{return h.playerJsLoaded}catch(e){return!1}}})).catch(e=>{throw new Gc(e,{code:Hn.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT})})}function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wt(e,t,n,r){let a,i,s=!1,l=0,c=qn.Z;const d=()=>{c(),clearTimeout(a),clearTimeout(i)};return new Promise((u,h)=>{const f=()=>{d(),u(l)},p=e=>window.setTimeout(()=>{s?f():m()},e),m=()=>{var n;l<3&&r()?(l++,e.src=l<=1?t:Le(t,"rnd",Math.random().toString().substr(2)),a=p(15e3)):(n=new Error("Fail to load ["+t+"] with 3 attempts"),d(),h(new Gc(n,{code:Hn.UNABLE_TO_LOAD_PLAYER_IFRAME})))};n.on("Event",e=>{let{eventName:t}=e;"onInit"===t&&(s=!0,f())}),c=o(e,"load",()=>{clearTimeout(a),i=p(15e3)}),m()})}async function qt(e){let{useFriendlyFrame:t,useAbdBundle:n,additionalParams:r,vsid:a,iframe:i,postMessenger:o,shouldRetry:s=(()=>!0),shouldLoadAdSdk:l,adConfig:c,flags:d}=e;if(t){const{from:e,reqid:t,slots:o}=r;return await Ht({iframe:i,vsid:a,useAbdBundle:n,from:e,reqid:t,slots:o,shouldLoadAdSdk:l,adConfig:c,flags:d}),1}return Wt(i,((e,t)=>{let{vsid:n,useAbdBundle:r,additionalParams:a={},flags:i}=e;const o=Zt({},Xc.reduce((e,n)=>{const r=(0,Jc.O)(t,n);return void 0!==r&&(e[n]=r),e},{}));0;const s={post_message_config:"true",vsid:n,reqid:a.reqid,from:a.from,slots:a.slots,flags:i};Yt()&&(s.rumdebug=1);return Me(Bt({useAbdBundle:r})+zc,o,s)})({vsid:a,additionalParams:r,useAbdBundle:n,flags:d},window),o,s)}function Jt(e,t){if(function(e){return!!(0,lr.K)(e)&&(!!(0,lr.K)(e.videoInfo)&&Boolean(e.enableRemoteProgressSaving&&e.videoInfo.videoContentId))}(e))return{playbackProgress:{time:t}}}function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zt(e,t){return ed.some(n=>{if(!e[n.element])return!1;let r=t;for(;r;){if(e[n.element]===r)return!0;r=r.parentElement}return!1})}function Qt(e){if(e&&function(e){const t=(0,So.en)(e).pathname;return 0===t.indexOf("/vod/")||0===t.indexOf("/live/")||0===t.indexOf("/kal/")}(e))return(0,So.Ou)(e,"json_preview","1")}function $t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("")}function en(){return(en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tn(){this.returnValue=!1}function nn(){this.cancelBubble=!0}function rn(e){return function(t){const n=function(e){return e.stopPropagation||(e.stopPropagation=nn),e.preventDefault||(e.preventDefault=tn),e.target||(e.target=e.srcElement),e}(t);e.call(this,n)}}function an(e){e&&e.un()}function on(e,t,n){return Math.max(Math.min(t,n)-Math.max(e,0),0)}function sn(e){const t=vd(e),n=t.width,r=t.height;let a=0;if(n>0&&r>0){const e=function(){const e=window;let t=e.innerWidth,n=e.innerHeight;if(!t){const r=e.document.documentElement;t=r.clientWidth,n=r.clientHeight}return{width:t,height:n}}();a=on(t.left,t.right,e.width)*on(t.top,t.bottom,e.height)/(n*r)}return a}function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dn(e){let{playingState:t}=e;return t===rr.BUFFERING||t===rr.PLAY}function un(e){let{playingState:t}=e;return t===rr.PLAY}function hn(){return(hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fn(e,t,n){(0,lr.K)(t)?(0,sr.M)(t,(t,n)=>{(Array.isArray(t)?t:[t]).forEach(t=>{e(n,t)})}):(0,or.m)(n)&&e(t,n)}function pn(){return((e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1})(Cd,e=>{let[t,n]=e;const r=function(e,t){void 0===t&&(t=window);const n=(0,zr.i)(t),r=new RegExp("\\b"+e+"/((?:\\d+)(?:\\.\\d+)*)\\b","i"),a=n.match(r);if(a)return a[1].split(".").map(e=>parseInt(e,10))}(t);if(void 0===r)return!1;const[a]=r;return a<n})}function mn(){return Pd||Ps&&function(){const e=us<5;return pn()||e}()}function gn(){return mn()||(window,!1)}function vn(){return!gn()&&((Ps||cs||bd)&&!mn())}function En(){return(En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yn(e){const t=[...e],n=t.pop();if(!n||0===t.length)throw new Error("memoizeSingle need at least 2 functions as arg");return{preparers:t,resolver:n}}function _n(e){return(0,Bn.H)(e.className)?e.className:e.namespaceURI===xd.svg&&e.getAttribute("class")||""}function Sn(e,t){(0,Bn.H)(e.className)?e.className=t:e.namespaceURI===xd.svg&&e.setAttributeNS("","class",t)}function Rn(e,t){void 0===t&&(t=""),0!==e.className.length?jd(e)?Kd(e,t):function(e,t){let n=_n(e).split(" ").concat(t.split(" "));n=function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=n;return(0,wo.Z)(t)}((0,Md.h)(n,(function(e){return""!==e}))),Sn(e,n.join(" "))}(e,t):e.className=t}function An(e){let{document:t,poster:n,onReady:r,hiddenControls:a=[],primaryColor:i=Od}=e;const o=t.createElement("div");k(o,{width:"100%",height:"100%",display:"block",position:"relative",pointerEvents:"none"}),new Dd({container:o,onReady:r,preview:n});const s=function(e){const t=e.createElement("div");return k(t,Jd),t}(t);if(-1===a.indexOf(No.ALL)&&-1===a.indexOf(No.PRELOADER)){const e=function(e){let{document:t,primaryColor:n,isMobileSkin:r=!1}=e;qd();const a=t.createElement("div");Rn(a,Hd().locals.spinner),a.innerHTML=r?Wd:Zd;const i=a.getElementsByTagName("svg")[0];return Rn(i,Hd().locals.spinner__svg),r||i.setAttributeNS("","fill",n||Od),a.appendChild(i),a}({document:t,primaryColor:i,isMobileSkin:vn()});s.appendChild(e)}return o.appendChild(s),o}function Tn(){function e(){return 0===n.length}function t(t){function a(){n.splice(n.indexOf(i),1),function(){if(!e())return;const t=r.shift();t&&t()}()}const i=t.then(a,a);return n.push(i),t}const n=[],r=[];return{waitAndLock:function(n){return e()?t(n()):new Promise(e=>{r.push(()=>{e(t(n()))})})},addLock:t,isFree:e}}function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bn(e){let{source:t}=e;return!!t&&(!!t.adConfig&&(!(!t.adConfig.partnerId&&!t.adConfig.adBreaks)&&!1!==t.adConfig.hasPreroll))}function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const Pn=["play"],Cn=["sendReportLog","setSource","preloadSource","requestVideoElementFullscreen","requestDebugInfo","destroy","requestExternalPlay","requestExternalPlayerList","insertInto",...Pn],wn=["pause","on","once","off","publicEmit"],Nn=["setVideoTrack","setAudioTrack","setTextTrack","changeAdditionalParams","exitVideoElementFullscreen","setPlaybackRate","setMuted","setVolume","setPictureInPictureAllowed","setVideoStyle","setNativeControlsVisibility","setNativeTextTrackVisibility","logEvent","logError","seek","openReportWindow","playInrollAd","skipAdPod","setNativeAdControlsVisibility","setFeed",...wn],kn=[...Cn,...Nn,"getState","getReadyState"],Ln=window;Ln.Ya||(Ln.Ya={}),Ln.Ya.playerApi||(Ln.Ya.playerApi={}),Ln.Ya.playerApi.METHODS||(Ln.Ya.playerApi.METHODS=kn);const Dn=window.Ya.playerApi,Mn=window.Ya.playerApi;var Fn=e(5386),xn=e(7293);const Un=function(e){let t=e;for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t+=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];return t},Vn=function(e){let t=e;for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t*=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];return t};var jn=e(413),Bn=e(8833),Yn=e(2818);let Kn,Gn,Hn;!function(e){e.DEFAULT="DEFAULT",e.MEDIA="MEDIA",e.NETWORK_MEDIA="NETWORK_MEDIA",e.NETWORK_PLAYER="NETWORK_PLAYER",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NO_CODECS="NO_CODECS",e.CANNOT_PLAY="CANNOT_PLAY",e.UNSUPPORTED_ENV="UNSUPPORTED_ENV",e.EXCEPTION="EXCEPTION",e.ADS="ADS",e.CONFIG="CONFIG",e.REGIONAL="REGIONAL",e.DRM="DRM",e.ACCESS="ACCESS",e.INVALID_STREAM_URL="INVALID_STREAM_URL"}(Kn||(Kn={})),function(e){e.DEFAULT_ERROR="DEFAULT_ERROR",e.YANDEX_RPC_ERROR="YANDEX_RPC_ERROR",e.BROADCAST_AD_BLOCK_INIT_ERROR="BROADCAST_AD_BLOCK_INIT_ERROR",e.AD_TYPE_IS_NOT_RECOGNIZED="AD_TYPE_IS_NOT_RECOGNIZED",e.INVALID_METADATA="INVALID_METADATA",e.INVALID_STREAM_URL="INVALID_STREAM_URL",e.UNSUPPORTED_MEDIA_TYPE="UNSUPPORTED_MEDIA_TYPE",e.SCRIPT_INIT_ERROR="SCRIPT_INIT_ERROR",e.MPD_WIDEVINE_CERT_LOAD_ERROR="MPD_WIDEVINE_CERT_LOAD_ERROR",e.MPD_SHAKA_INIT_ERROR="MPD_SHAKA_INIT_ERROR",e.NATIVE_HLS_NOT_SUPPORTED_ERROR="NATIVE_HLS_NOT_SUPPORTED_ERROR",e.HLS_JS_NOT_SUPPORTED_ERROR="HLS_JS_NOT_SUPPORTED_ERROR",e.REFRESH_SUBTITLES_ERROR="REFRESH_SUBTITLES_ERROR",e.ON_TICK_ERROR="ON_TICK_ERROR",e.FAIRPLAY_NOT_SUPPORTED="FAIRPLAY_NOT_SUPPORTED",e.FAIRPLAY_CERT_LOAD_ERROR="FAIRPLAY_CERT_LOAD_ERROR",e.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR="FAIRPLAY_CREATE_MEDIA_KEYS_ERROR",e.FAIRPLAY_CREATE_KEY_SESSION_ERROR="FAIRPLAY_CREATE_KEY_SESSION_ERROR",e.FAIRPLAY_SPC_LOAD_ERROR="FAIRPLAY_SPC_LOAD_ERROR",e.FAIRPLAY_CREATE_KEY_ERROR="FAIRPLAY_CREATE_KEY_ERROR",e.FAIRPLAY_INVALID_CONTENT_ID="FAIRPLAY_INVALID_CONTENT_ID",e.DRM_PROXY_ERROR="DRM_PROXY_ERROR",e.DRM_PROXY_ERROR_SIGNATURE_EXPIRED="DRM_PROXY_ERROR_SIGNATURE_EXPIRED",e.NO_HLS_JS_INSTANCE="NO_HLS_JS_INSTANCE",e.AD_IS_ALREADY_PLAYING="AD_IS_ALREADY_PLAYING",e.META_INFO_REQUEST_FAILED="META_INFO_REQUEST_FAILED",e.MULTIROLL_INIT_ERROR="MULTIROLL_INIT_ERROR",e.REACT_COMPONENT_DID_CATCH_ERROR_INFO="REACT_COMPONENT_DID_CATCH_ERROR_INFO",e.PLAY_AD_VIEWERS_ERROR="PLAY_AD_VIEWERS_ERROR",e.SAGA_ERROR="SAGA_ERROR",e.STRM_ABD_INVALID_RESPONSE="STRM_ABD_INVALID_RESPONSE",e.REPRESENTATION_CHANGE="REPRESENTATION_CHANGE",e.RECOVER_TASK_ERROR="RECOVER_TASK_ERROR",e.PRELOAD_SOURCE_FAILED="PRELOAD_SOURCE_FAILED",e.REGIONAL_LIMITATION_MANIFEST="REGIONAL_LIMITATION_MANIFEST",e.REGIONAL_LIMITATION_LEVEL="REGIONAL_LIMITATION_LEVEL",e.REGIONAL_LIMITATION_SEGMENT="REGIONAL_LIMITATION_SEGMENT",e.SIGNATURE_EXPIRED_MANIFEST="SIGNATURE_EXPIRED_MANIFEST",e.SIGNATURE_EXPIRED_LEVEL="SIGNATURE_EXPIRED_LEVEL",e.SIGNATURE_EXPIRED_SEGMENT="SIGNATURE_EXPIRED_SEGMENT",e.NO_STREAMS="NO_STREAMS",e.NO_CODECS="NO_CODECS",e.NO_MSE="NO_MSE",e.NO_DRM="NO_DRM",e.NO_PLAYABLE_STREAMS="NO_PLAYABLE_STREAMS",e.SHAKA_FILTER_ERROR="SHAKA_FILTER_ERROR",e.SHAKA_CONFIGURE_ERROR="SHAKA_CONFIGURE_ERROR",e.SHAKA_LOAD_SOURCE_ERROR="SHAKA_LOAD_SOURCE_ERROR",e.MEDIA_ERR_CUSTOM="MEDIA_ERR_CUSTOM",e.MEDIA_ERR_ABORTED="MEDIA_ERR_ABORTED",e.MEDIA_ERR_NETWORK="MEDIA_ERR_NETWORK",e.MEDIA_ERR_DECODE="MEDIA_ERR_DECODE",e.MEDIA_ERR_SRC_NOT_SUPPORTED="MEDIA_ERR_SRC_NOT_SUPPORTED",e.MEDIA_ERR_ENCRYPTED="MEDIA_ERR_ENCRYPTED"}(Gn||(Gn={})),function(e){e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.BUFFER_STALLED_ERROR="bufferStalledError",e.SHAKA_VIDEO_ERROR_3016="shaka.VIDEO_ERROR_3016",e.FRAG_PARSING_ERROR="fragParsingError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.PIPELINE_ERROR_DECODE="PIPELINE_ERROR_DECODE",e.DECODER_ERROR_NOT_SUPPORTED="DECODER_ERROR_NOT_SUPPORTED",e.SHAKA_CONTENT_UNSUPPORTED_BY_BROWSER_4032="shaka.CONTENT_UNSUPPORTED_BY_BROWSER_4032",e.BUFFER_APPEND_ERROR="bufferAppendError",e.SHAKA_MEDIA_SOURCE_OPERATION_THREW_3015="shaka.MEDIA_SOURCE_OPERATION_THREW_3015",e.MEDIA_ELEMENT_ERROR_FORMAT_ERROR="MEDIA_ELEMENT_ERROR: Format error",e.REMUX_ALLOC_ERROR="remuxAllocError",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.DEMUXER_ERROR_COULD_NOT_OPEN="DEMUXER_ERROR_COULD_NOT_OPEN",e.NS_ERROR_DOM_INVALID_STATE_ERR="NS_ERROR_DOM_INVALID_STATE_ERR",e.SHAKA_DASH_INVALID_XML_4001="shaka.DASH_INVALID_XML_4001",e.SHAKA_QUOTA_EXCEEDED_ERROR_3017="shaka.QUOTA_EXCEEDED_ERROR_3017",e.CHUNK_DEMUXER_ERROR_APPEND_FAILED="CHUNK_DEMUXER_ERROR_APPEND_FAILED",e.FAILED_TO_INIT_DECODER="Failed to init decoder",e.PIPELINE_ERROR_INITIALIZATION_FAILED="PIPELINE_ERROR_INITIALIZATION_FAILED",e.NS_ERROR_FAILURE="NS_ERROR_FAILURE",e.SHAKA_MEDIA_SOURCE_OPERATION_FAILED_3014="shaka.MEDIA_SOURCE_OPERATION_FAILED_3014",e.REQUEST_FAILED="2147500036: Request failed",e.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED="PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED",e.PIPELINE_ERROR_COULD_NOT_RENDER="PIPELINE_ERROR_COULD_NOT_RENDER",e.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE="MEDIA_ELEMENT_ERROR: Empty src attribute",e.NS_ERROR_DOM_MEDIA_METADATA_ERR="NS_ERROR_DOM_MEDIA_METADATA_ERR",e.NS_ERROR_DOM_MEDIA_FATAL_ERR="NS_ERROR_DOM_MEDIA_FATAL_ERR",e.SHAKA_RESTRICTIONS_CANNOT_BE_MET_4012="shaka.RESTRICTIONS_CANNOT_BE_MET_4012",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.FRAG_LOAD_ERROR="fragLoadError",e.SHAKA_BAD_HTTP_STATUS_1001_MANIFEST="shaka.BAD_HTTP_STATUS_1001_MANIFEST",e.SHAKA_HTTP_ERROR_1002_SEGMENT="shaka.HTTP_ERROR_1002_SEGMENT",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.LEVEL_LOAD_ERROR="levelLoadError",e.SHAKA_HTTP_ERROR_1002_MANIFEST="shaka.HTTP_ERROR_1002_MANIFEST",e.SHAKA_BAD_HTTP_STATUS_1001_SEGMENT="shaka.BAD_HTTP_STATUS_1001_SEGMENT",e.SHAKA_UNSUPPORTED_SCHEME_1000="shaka.UNSUPPORTED_SCHEME_1000",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.SHAKA_TIMEOUT_1003_SEGMENT="shaka.TIMEOUT_1003_SEGMENT",e.FRAG_LOAD_TIME_OUT="fragLoadTimeOut",e.MANIFEST_LOAD_TIME_OUT="manifestLoadTimeOut",e.LEVEL_LOAD_TIME_OUT="levelLoadTimeOut",e.SHAKA_TIMEOUT_1003_MANIFEST="shaka.TIMEOUT_1003_MANIFEST",e.SHAKA_TIMEOUT_1003_LICENSE="shaka.TIMEOUT_1003_LICENSE",e.AUDIO_TRACK_LOAD_TIME_OUT="audioTrackLoadTimeOut",e.INTERNAL_EXCEPTION="internalException",e.SHAKA_OPERATION_ABORTED_7001="shaka.OPERATION_ABORTED_7001",e.ON_PLAYER_INIT_ERROR_INTERNAL="ON_PLAYER_INIT_ERROR_INTERNAL",e.UNABLE_TO_LOAD_PLAYER_IFRAME="UNABLE_TO_LOAD_PLAYER_IFRAME",e.ON_PLAYER_INIT_ERROR="ON_PLAYER_INIT_ERROR",e.LOADER_INIT_ERROR="LoaderInitError",e.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT="UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT",e.FAILED_TO_DOWNLOAD_DEBUG_INFO="FAILED_TO_DOWNLOAD_DEBUG_INFO",e.SHAKA_REQUEST_FILTER_ERROR_1006="shaka.REQUEST_FILTER_ERROR_1006",e.PLAYER_CONTAINER_NOT_FOUND="PLAYER_CONTAINER_NOT_FOUND",e.KEY_LOAD_ERROR="keyLoadError",e.FEATURE_HANDLER_ERROR="FEATURE_HANDLER_ERROR",e.SHAKA_NO_LICENSE_SERVER_GIVEN_6012="shaka.NO_LICENSE_SERVER_GIVEN_6012",e.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER="InvalidConfigElementInCreatePlayer",e.INVALID_CONFIG_LANG_IN_CREATE_PLAYER="InvalidConfigLangInCreatePlayer",e.INVALID_CONFIG_IN_CREATE_PLAYER="InvalidConfigInCreatePlayer",e.INVALID_CONFIG_IN_SET_SOURCE="InvalidConfigInSetSource",e.INVALID_CONFIG_IN_SOURCE_UPDATE="InvalidConfigInSourceUpdate",e.SHAKA_FAILED_TO_CREATE_CDM_6002="shaka.FAILED_TO_CREATE_CDM_6002",e.SHAKA_HTTP_ERROR_1002_LICENSE="shaka.HTTP_ERROR_1002_LICENSE",e.SHAKA_LICENSE_REQUEST_FAILED_6007="shaka.LICENSE_REQUEST_FAILED_6007",e.SHAKA_FAILED_TO_GENERATE_LICENSE_REQUEST_6006="shaka.FAILED_TO_GENERATE_LICENSE_REQUEST_6006",e.SHAKA_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001="shaka.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001",e.SHAKA_FAILED_TO_ATTACH_TO_VIDEO_6003="shaka.FAILED_TO_ATTACH_TO_VIDEO_6003",e.SHAKA_LICENSE_RESPONSE_REJECTED_6008="shaka.LICENSE_RESPONSE_REJECTED_6008",e.SHAKA_INVALID_SERVER_CERTIFICATE_6004="shaka.INVALID_SERVER_CERTIFICATE_6004",e.SHAKA_EXPIRED_6014="shaka.EXPIRED_6014",e.SHAKA_BAD_HTTP_STATUS_1001_LICENSE="shaka.BAD_HTTP_STATUS_1001_LICENSE",e.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",e.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",e.LOAD_SKIN_ERROR="LOAD_SKIN_ERROR",e.INSERT_INTO_WITH_SECURE_FRAME="INSERT_INTO_WITH_SECURE_FRAME",e.ELEMENT_NOT_IN_DOM="ELEMENT_NOT_IN_DOM",e.ERROR_SCREEN_LOAD_ERROR="ERROR_SCREEN_LOAD_ERROR"}(Hn||(Hn={}));class Zn extends jn.s{constructor(e,t){super(e,t),this.category=void 0,this.toJSON=void 0,this.category=i(this.code),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:(0,Yn.Y)(()=>(0,Bn.H)(this.details)?this.details:JSON.stringify(this.details))||this.details,stack:this.stack,category:this.category})}}var Wn=e(2439),qn=e(6652),Jn=e(984);let Xn=function(e,t,n){e.attachEvent("on"+t,n)},zn=function(e,t,n){e.detachEvent("on"+t,n)};(0,Jn.C)(document,"addEventListener")&&(0,Jn.C)(document,"removeEventListener")&&(Xn=function(e,t,n,r){const a=e&&(0,Jn.C)(e,"addEventListener");a&&a.call(e,t,n,r)},zn=function(e,t,n,r){const a=e&&(0,Jn.C)(e,"removeEventListener");a&&a.call(e,t,n,r)});let Qn=!1,$n=!1,er=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(n){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>Qn=!0}),Object.defineProperty(t,"passive",{get:()=>$n=!0}),Object.defineProperty(t,"capture",{get:()=>er=!0}),Xn(e,"click",qn.Z,t)}}catch(nu){}var tr=e(3351);let nr=0;var rr;let ar,ir;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(rr||(rr={})),function(e){e.Unknown="Unknown",e.ExternalApi="ExternalApi",e.VisiblePlayback="VisiblePlayback",e.RestoreAfterInsertInto="RestoreAfterInsertInto",e.WaitForSourceConfigUpdate="WaitForSourceConfigUpdate",e.CompletedRecoverSourceConfig="CompletedRecoverSourceConfig"}(ar||(ar={})),function(e){e.init="init",e.ready="ready",e.broken="broken",e.destroyed="destroyed"}(ir||(ir={}));var or=e(6351),sr=e(141),lr=e(3770);const cr=[...wn,...Pn];let dr;!function(e){e.NATIVE="NATIVE",e.HLS="HLS",e.MPD="MPD",e.MP4="MP4",e.YANDEX="YANDEX",e.YASP="YASP"}(dr||(dr={}));const ur={AD:"play.start.adsdk",[dr.YANDEX]:"play.start.yandex",[dr.YASP]:"play.start.yasp",[dr.NATIVE]:"play.start.native",[dr.MPD]:"play.start.mpd",[dr.HLS]:"play.start.hls",[dr.MP4]:"play.start.mp4"},hr={AD:"play.start.adsdk",[dr.YANDEX]:"play.start.adsdk.yandex",[dr.YASP]:"play.start.adsdk.yasp",[dr.NATIVE]:"play.start.adsdk.native",[dr.MPD]:"play.start.adsdk.mpd",[dr.HLS]:"play.start.adsdk.hls",[dr.MP4]:"play.start.adsdk.mp4"},fr={AD:"network.start.adsdk",[dr.YANDEX]:"network.start.yandex",[dr.YASP]:"network.start.yasp",[dr.NATIVE]:"network.start.native",[dr.MPD]:"network.start.mpd",[dr.HLS]:"network.start.hls",[dr.MP4]:"network.start.mp4"},pr={AD:"network.start.adsdk",[dr.YANDEX]:"network.start.adsdk.yandex",[dr.YASP]:"network.start.adsdk.yasp",[dr.NATIVE]:"network.start.adsdk.native",[dr.MPD]:"network.start.adsdk.mpd",[dr.HLS]:"network.start.adsdk.hls",[dr.MP4]:"network.start.adsdk.mp4"};let mr;var gr;!function(e){e.Ready="Ready",e.SkinReady="SkinReady",e.PosterReady="PosterReady",e.UserReady="UserReady",e.Destroy="Destroy",e.ContentImpression="ContentImpression",e.ResourcesIdle="ResourcesIdle",e.SourceChange="SourceChange",e.StreamChange="StreamChange",e.StreamsWithSupportInfoChange="StreamsWithSupportInfoChange",e.StartStageChange="StartStageChange",e.PlayingStateChange="PlayingStateChange",e.RequestPlayingState="RequestPlayingState",e.VideoTypeChange="VideoTypeChange",e.UtcStartTimeChange="UtcStartTimeChange",e.DVRStartTimeChange="DVRStartTimeChange",e.DVRDurationChange="DVRDurationChange",e.CurrentTimeChange="CurrentTimeChange",e.WatchedTimeChange="WatchedTimeChange",e.LiveLatencyChange="LiveLatencyChange",e.DurationChange="DurationChange",e.VolumeChange="VolumeChange",e.MutedChange="MutedChange",e.VolumeChangeReasonChange="VolumeChangeReasonChange",e.FullscreenStateChange="FullscreenStateChange",e.PictureInPictureStateChange="PictureInPictureStateChange",e.VisibleStateChange="VisibleStateChange",e.VideoSizeChange="VideoSizeChange",e.VideoTracksChange="VideoTracksChange",e.VideoTrackChange="VideoTrackChange",e.AudioTracksChange="AudioTracksChange",e.AudioTrackChange="AudioTrackChange",e.TextTracksChange="TextTracksChange",e.TextTrackChange="TextTrackChange",e.SubtitlesChange="SubtitlesChange",e.ErrorChange="ErrorChange",e.PlaybackRateRangeChange="PlaybackRateRangeChange",e.PlaybackRateChange="PlaybackRateChange",e.AdStateChange="AdStateChange",e.NextAdRemainingTimeChange="NextAdRemainingTimeChange",e.BeforeAdPodStart="BeforeAdPodStart",e.AdPodStart="AdPodStart",e.AdPodSkip="AdPodSkip",e.AdPodEnd="AdPodEnd",e.AdSkippableStateChange="AdSkippableStateChange",e.AdVolumeAvailabilityStateChange="AdVolumeAvailabilityStateChange",e.AdPodCloseStateChange="AdPodCloseStateChange",e.AdPodDurationChange="AdPodDurationChange",e.AdPodCurrentTimeChange="AdPodCurrentTimeChange",e.AdPodTimeToSkipChange="AdPodTimeToSkipChange",e.AdPodFullyClickableStateChange="AdPodFullyClickableStateChange",e.AdInteraction="AdInteraction",e.BufferedRangesChange="BufferedRangesChange",e.TileMetaInfoChange="TileMetaInfoChange",e.TileMetaInfoUrlChange="TileMetaInfoUrlChange",e.VideoClickerEvent="VideoClickerEvent",e.NetworkStatusChange="NetworkStatusChange",e.RecoverStart="RecoverStart",e.ConnectionQualityChange="ConnectionQualityChange",e.DrmSystemChange="DrmSystemChange"}(mr||(mr={})),function(e){e.LOAD_SCRIPT_ERROR="LOAD_SCRIPT_ERROR",e.STATS_SENSOR_NAME_ERROR="STATS_SENSOR_NAME_ERROR",e.STATS_LABEL_KEY_ERROR="STATS_LABEL_KEY_ERROR",e.STATS_LABEL_VALUE_ERROR="STATS_LABEL_VALUE_ERROR"}(gr||(gr={}));var vr=e(4532),Er=e(3685);const yr="utf-8",_r=e=>!0;let Sr={},Rr={},Ar="",Tr=!1,Or=(0,Wn.s)(document);s(document,e=>{e||(Or=e)});const br=Math.random()<=.1,Ir=["additional"];(0,Fn.I)(()=>shaka.polyfill.installAll());const Pr=["setReadyInstance","setInstance"];var Cr=e(8062);const wr=e=>e instanceof Date||"Date"===(0,Cr.M)(e),Nr=(e,t)=>{let n=[];try{n=e.cookie?e.cookie.split("; "):[]}catch(xa){}const r=/(%[0-9A-Z]{2})+/g;let a;for(let i=0;i<n.length;i++){const e=n[i].split("="),o=e.slice(1).join("=");try{const n=e[0].replace(r,decodeURIComponent);if(o.replace(r,decodeURIComponent),t===n){a=decodeURIComponent(o);break}}catch(xa){return}}return a};let kr;const Lr=function(e){return void 0===e&&(e=window),kr||(kr=e.document.createElement("div")),kr}(window),Dr=(e,t)=>{const n="undefined"!==typeof Lr.style[e];if(n&&t&&(0,Bn.H)(t))try{Lr.style.cssText=e+": "+t+";";const n=Boolean(Lr.style.cssText);return Lr.style.cssText="",n}catch(xa){return!1}return n};var Mr=e(2370);const Fr={},xr=function(e){return void 0===e&&(e=""),Fr[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let n=0;n<Mr.q.length;n++){const r=Mr.q[n],a=r?""+r+t:e;if(Dr(a))return Fr[e]=a}return Fr[e]=e}(e)};var Ur=e(5638);const Vr=function(e,t){let n=e[t];if(!(0,Ur.E)(n)){const r=n;try{delete e[t],n=e[t],e[t]=r}catch(xa){}}return n}(Object,"create")?Object.create:function(e,t){function n(){}if(n.prototype=e,(0,lr.K)(t))for(const r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new n};var jr=e(5371);const Br=e=>{try{return"display"in L(e)}catch(xa){return!1}};var Yr=e(8914),Kr=e(8692);const Gr=e=>(e=>e instanceof Promise||"Promise"===(0,Cr.M)(e)&&Boolean((0,Yn.Y)(()=>(0,Ur.E)(e.constructor))))(e)||(e=>Boolean((0,Yn.Y)(()=>(0,or.m)(e.then)&&(0,or.m)(e.catch))))(e);var Hr=e(7469);class Zr extends class{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],U(this.on,e),U(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(n=>{e(n)&&x(t,n)})}subscribeValueConditionOnce(e,t){const n=this.subscribeValueCondition(e,e=>{n(),x(t,e)});return n}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}var Wr=e(6048),qr=e.n(Wr);let Jr,Xr;!function(e){e.OFFLINE="offline",e.IDLE="idle",e.ATTEMPT="attempt",e.PLAYING="playing",e.ERROR="error"}(Jr||(Jr={})),function(e){e.init="init",e.waitForUserPlay="waitForUserPlay",e.waitForDocumentVisibility="waitForDocumentVisibility",e.starting="starting",e.started="started",e.broken="broken",e.destroyed="destroyed"}(Xr||(Xr={}));var zr=e(3089);const Qr=function(e){void 0===e&&(e=window);const t=(0,zr.i)(e).toLowerCase();return/windows/.test(t)}(),$r=function(e){void 0===e&&(e=window);const t=(0,zr.i)(e).toLowerCase(),n=/windows nt (\d+\.\d+)/.exec(t);if(n){const e=Number(n[1]);return e>0?e:-1}return-1}(),ea={[Kn.MEDIA]:"https://yandex.ru/support/video-player/loading-issues.html",[Kn.NETWORK_MEDIA]:"https://yandex.ru/support/video-player/loading-issues.html",[Kn.NETWORK_PLAYER]:"https://yandex.ru/support/video-player/player-issues.html",[Kn.NETWORK_TIMEOUT]:"https://yandex.ru/support/video-player/player-issues.html",[Kn.NO_CODECS]:"https://yandex.ru/search/?text=\u043a\u043e\u0434\u0435\u043a\u0438",[Kn.UNSUPPORTED_ENV]:"https://yandex.ru/soft/browsers/",[Kn.EXCEPTION]:"https://yandex.ru/support/video-player/loading-issues.html",[Kn.DRM]:"https://yandex.ru/support/video-player/drm.html",[Kn.INVALID_STREAM_URL]:null},ta={[Kn.DEFAULT]:"DEFAULT_ERROR_CATEGORY_TITLE",[Kn.MEDIA]:"MEDIA_ERROR_CATEGORY_TITLE",[Kn.NETWORK_MEDIA]:"NETWORK_MEDIA_ERROR_CATEGORY_TITLE",[Kn.NETWORK_PLAYER]:"NETWORK_PLAYER_ERROR_CATEGORY_TITLE",[Kn.NETWORK_TIMEOUT]:"NETWORK_TIMEOUT_ERROR_CATEGORY_TITLE",[Kn.NO_CODECS]:"NO_CODECS_ERROR_CATEGORY_TITLE",[Kn.UNSUPPORTED_ENV]:"UNSUPPORTED_ENV_ERROR_CATEGORY_TITLE",[Kn.CANNOT_PLAY]:"CANNOT_PLAY_ERROR_CATEGORY_TITLE",[Kn.EXCEPTION]:"EXCEPTION_ERROR_CATEGORY_TITLE",[Kn.CONFIG]:"CONFIG_ERROR_CATEGORY_TITLE",[Kn.REGIONAL]:"REGIONAL_ERROR_CATEGORY_TITLE",[Kn.DRM]:"DRM_ERROR_CATEGORY_TITLE",[Kn.ACCESS]:"ACCESS_ERROR_CATEGORY_TITLE",[Kn.INVALID_STREAM_URL]:"CONFIG_ERROR_CATEGORY_TITLE"},na={[Kn.DEFAULT]:"DEFAULT_ERROR_CATEGORY_MESSAGE",[Kn.MEDIA]:"MEDIA_ERROR_CATEGORY_MESSAGE",[Kn.NETWORK_MEDIA]:"NETWORK_MEDIA_ERROR_CATEGORY_MESSAGE",[Kn.NETWORK_PLAYER]:"NETWORK_PLAYER_ERROR_CATEGORY_MESSAGE",[Kn.NETWORK_TIMEOUT]:"NETWORK_TIMEOUT_ERROR_CATEGORY_MESSAGE",[Kn.NO_CODECS]:"NO_CODECS_ERROR_CATEGORY_MESSAGE",[Kn.UNSUPPORTED_ENV]:"UNSUPPORTED_ENV_ERROR_CATEGORY_MESSAGE",[Kn.CANNOT_PLAY]:"CANNOT_PLAY_ERROR_CATEGORY_MESSAGE",[Kn.EXCEPTION]:"EXCEPTION_ERROR_CATEGORY_MESSAGE",[Kn.CONFIG]:"CONFIG_ERROR_CATEGORY_MESSAGE",[Kn.DRM]:"DRM_ERROR_CATEGORY_MESSAGE",[Kn.ACCESS]:"ACCESS_ERROR_CATEGORY_MESSAGE",[Kn.INVALID_STREAM_URL]:"INVALID_STREAM_URL_ERROR_CATEGORY_MESSAGE"},ra={[Kn.NO_CODECS]:"NO_CODECS_ERROR_CATEGORY_HELP_LINK",[Kn.UNSUPPORTED_ENV]:"UNSUPPORTED_ENV_ERROR_CATEGORY_HELP_LINK"};let aa,ia,oa,sa,la;!function(e){e.BroadcastAdReceived="BroadcastAdReceived",e.BroadcastAdInit="BroadcastAdInit",e.StreamPlayerReceivedMetadata="StreamPlayerReceivedMetadata",e.StreamPlayerChooseMetadata="StreamPlayerChooseMetadata",e.PlayWithoutRAAResults="PlayWithoutRAAResults",e.CanPlay="CanPlay",e.ContentImpression="ContentImpression",e.WaitForPlayCompleted="WaitForPlayCompleted",e.DrmSystemsSupportDetected="DrmSystemsSupportDetected",e.InrollAdStart="InrollAdStart",e.InrollAdPodStart="InrollAdPodStart",e.InrollAdPodEnd="InrollAdPodEnd",e.InrollAdEnd="InrollAdEnd",e.PlayAdViewers="PlayAdViewers",e.AdStart="AdStart",e.AdPodImpression="AdPodImpression",e.AdPodLoading="AdPodLoading",e.AdPodError="AdPodError",e.AdPodStart="AdPodStart",e.AdPodEnd="AdPodEnd",e.AdEnd="AdEnd",e.AdClickThru="AdClickThru",e.NoAdPodsToPlayAd="NoAdPodsToPlayAd",e.Stalled="Stalled",e.LoadSource="LoadSource",e.PrerollInit="PrerollInit",e.WaitForUserGesture="WaitForUserGesture",e.WaitForDocumentVisibility="WaitForDocumentVisibility",e.CallPublicApiAfterDestroy="CallPublicApiAfterDestroy",e.HiddenAutoplayPrevented="HiddenAutoplayPrevented",e.PlayVideoOnVisibilityChange="PlayVideoOnVisibilityChange",e.PauseVideoOnVisibilityChange="PauseVideoOnVisibilityChange",e.StreamStopWhileLoadingMultiroll="StreamStopWhileLoadingMultiroll",e.StreamStopWhileChoosingStream="StreamStopWhileChoosingStream",e.StreamStopWhileDestroyVideoController="StreamStopWhileDestroyVideoController",e.StreamStopDuringDefineAutoplaySettings="StreamStopDuringDefineAutoplaySettings",e.StreamStopWhileWaitingForPlay="StreamStopWhileWaitingForPlay",e.StreamStopWhileWaitingForDocumentVisibility="StreamStopWhileWaitingForDocumentVisibility",e.StreamStopWhileLoadingPreroll="StreamStopWhileLoadingPreroll",e.StreamStopWhilePreloadingPreroll="StreamStopWhilePreloadingPreroll",e.SkippableFragmentWidgetDrawn="SkippableFragmentWidgetDrawn",e.SkippableFragmentWidgetHidden="SkippableFragmentWidgetHidden",e.HlsJsLoadSourceCalledTwice="HlsJsLoadSourceCalledTwice",e.PreloadSource="PreloadSource",e.UsePreloadedHlsJs="UsePreloadedHlsJs",e.PlayAfterWaitingForDocumentVisibility="PlayAfterWaitingForDocumentVisibility",e.ResourcesIdle="ResourcesIdle",e.ClientInfo="ClientInfo",e.HlsJsForceCappingStart="HlsJsForceCappingStart",e.CanRenderSkinCalledBeforeSkinIsReady="CanRenderSkinCalledBeforeSkinIsReady",e.ExternalPlaybackOpenButtonClick="ExternalPlaybackOpenButtonClick",e.ExternalPlaybackCloseButtonClick="ExternalPlaybackCloseButtonClick",e.ExternalPlayerListVisibleStatusChange="ExternalPlayerListVisibleStatusChange",e.ExternalPlaybackPlayerCsrfFetching="ExternalPlaybackPlayerCsrfFetching",e.ExternalPlaybackPlayerCsrfFetchSuccess="ExternalPlaybackPlayerCsrfFetchSuccess",e.ExternalPlaybackPlayerCsrfFetchError="ExternalPlaybackPlayerCsrfFetchError",e.ExternalPlaybackPlayerListHasAnyDevice="ExternalPlaybackPlayerListHasAnyDevice",e.ExternalPlaybackPlayerListFetching="ExternalPlaybackPlayerListFetching",e.ExternalPlaybackPlayerListFetchSuccess="ExternalPlaybackPlayerListFetchSuccess",e.ExternalPlaybackPlayerListFetchError="ExternalPlaybackPlayerListFetchError",e.ExternalPlaybackPlayerListAboutInfoClick="ExternalPlaybackPlayerListAboutInfoClick",e.ExternalPlaybackPlayerListRefresh="ExternalPlaybackPlayerListRefresh",e.ExternalPlaybackPlayerActivate="ExternalPlaybackPlayerActivate",e.ExternalPlaybackPlayerActivateSucceed="ExternalPlaybackPlayerActivateSucceed",e.ExternalPlaybackPlayerActivateFailed="ExternalPlaybackPlayerActivateFailed",e.ExternalPlaybackCsrfTokenExpired="ExternalPlaybackCsrfTokenExpired",e.YandexRpcError="YandexRpcError",e.YandexAndroidVsidChanged="YandexAndroidVsidChanged",e.Seek="Seek",e.RecommendationsSetParams="RecommendationsSetParams",e.RecommendationSelect="RecommendationSelect",e.RecommendationsWidgetVisibilityChange="RecommendationsWidgetVisibilityChange",e.MediaInternalsHistoryOnFatal="MediaInternalsHistoryOnFatal",e.PlayInrollAd="PlayInrollAd",e.ShareButtonClick="ShareButtonClick",e.FPSControllerRestrictions="FPSControllerRestrictions"}(aa||(aa={})),function(e){e[e.PLAYING=1]="PLAYING",e[e.NOT_PLAYING=2]="NOT_PLAYING"}(ia||(ia={})),function(e){e.INIT="INIT",e.SET_SOURCE="SET_SOURCE"}(oa||(oa={})),function(e){e.SetMuted="SetMuted",e.SetVolume="SetVolume",e.RequestAutoplaySettings="RequestAutoplaySettings",e.VolumeChangeEvent="VolumeChangeEvent",e.RestoreSavedMuted="RestoreSavedMuted"}(sa||(sa={})),function(e){e.NO_MSE="NO_MSE",e.NO_CODECS="NO_CODECS",e.NO_SUPPORTED_DRM="NO_SUPPORTED_DRM",e.NO_SUPPORTED_FORMAT="NO_SUPPORTED_FORMAT",e.INVALID_STREAM_URL="INVALID_STREAM_URL"}(la||(la={}));la.NO_MSE,la.NO_CODECS,la.NO_SUPPORTED_DRM,la.NO_SUPPORTED_FORMAT,la.INVALID_STREAM_URL;var ca=e(7343);const da=K(window),ua=(0,Ur.E)(Object.getPrototypeOf)?e=>Object.getPrototypeOf(e):e=>e.__proto__||Object.prototype;var ha=e(8139),fa=e.n(ha),pa=e(2741);const ma={getItem(e){try{return pa.ZP.getItem(e)}catch(t){return null}},setItem(e,t){try{pa.ZP.setItem(e,t)}catch(n){}},removeItem(e){try{pa.ZP.removeItem(e)}catch(t){}},clear(){try{pa.ZP.clear()}catch(e){}}},ga=K(window),va={web_adsdk_new_skin:"true",web_gogol_fetch_keepalive:"false",web_gogol_fetch_retry_once:"false",web_gogol_wait_for_online:"false",web_prefer_hd:"false",web_skip_all_adpods:"false"};let Ea={};ga.flags||(ga.flags=Ea);const ya=(0,Fn.I)(()=>W("web_prefer_hd"));let _a=function(){try{return JSON.parse(ma.getItem("videoplayer-prefer-hd")||"{}")}catch(nu){return{}}}();let Sa;!function(e){e.PublicApiCall="PublicApiCall",e.Unload="Unload",e.PlayerContainerNotFound="PlayerContainerNotFound"}(Sa||(Sa={}));const Ra={min:0,max:1/0},Aa="0000000000000000000000000000000000000000000000000000000000000000",Ta={state:ia.NOT_PLAYING,type:void 0,adParams:{}},Oa={source:void 0,stream:void 0,drmSystem:void 0,startStage:Xr.init,playingState:rr.PAUSE,playingStateReason:ar.Unknown,videoType:void 0,utcStartTime:void 0,currentTime:NaN,watchedTime:0,dvrStartTime:NaN,dvrDuration:NaN,duration:NaN,volume:NaN,muted:!1,volumeChangeReason:void 0,isFullscreen:!1,pictureInPictureAllowed:!1,isPictureInPicture:!1,isVisible:!1,videoSize:void 0,videoTracks:[],videoTrack:void 0,audioTracks:[],audioTrack:void 0,textTracks:[],textTrack:void 0,subtitles:[],vsid:Aa,error:void 0,playbackRateRange:Ra,playbackRate:1,version:"1.0-9279",adState:Ta,adSkippableState:!1,adVolumeAvailabilityState:!1,adPodCloseState:void 0,adPodCurrentTime:NaN,adPodTimeToSkip:NaN,adPodDuration:NaN,adPodFullyClickableState:void 0,nextAdRemainingTime:void 0,bufferedRanges:[],tileMetaInfo:void 0,tileMetaInfoUrl:void 0,liveLatency:void 0,connectionQuality:void 0};let ba;!function(e){e[e.LOADING=0]="LOADING",e[e.READY=1]="READY",e[e.ERROR=2]="ERROR"}(ba||(ba={}));var Ia=e(7880);class Pa extends Error{constructor(e,t){const n="object"===typeof e?e:{message:String(e)};if(super(String(n.message)),this.message=void 0,this.messageDetails=void 0,this.code=void 0,this.category=void 0,this.isFatal=void 0,this.details=void 0,this.stack=void 0,this.vsid=void 0,fa()(this,Pa.prototype),this.message=n.message||this.message,this.messageDetails=n.messageDetails,this.code=n.code||0,this.category=i(this.code),this.details=n.details,this.isFatal=void 0===n.isFatal||n.isFatal,this.stack=n.stack&&"?:?:?"!==n.stack?n.stack:this.details&&this.details.stack||((e,t)=>{const{url:n,line:r,col:a,fileName:i,columnNumber:o,lineNumber:s}=e;return String(t||(n||i||"?")+":"+(r||s||"?")+":"+(a||o||"?"))})(n,this.stack),!this.stack||this.stack===Ia.J.stack)try{throw new Error(this.message)}catch(xa){this.stack=xa.stack||Ia.J.stack}this.vsid=t||n.vsid}toString(){return JSON.stringify(this.toJSON())}toJSON(){const e={message:this.message,messageDetails:this.messageDetails,code:this.code,category:this.category,isFatal:this.isFatal,details:this.details,stack:this.stack,vsid:this.vsid};return J({},e,{raw:JSON.stringify(e)})}}var Ca,wa,Na=window.Map||function(){},ka=window.Set||function(){},La=function(e,t){return(La=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},Da=function(){return(Da=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ma=function(){function e(e){this.promise=e}return e.prototype.then=function(t){return new e(this.promise.then(t))},e.all=function(t){return new e(Promise.all(t.map((function(t){return t instanceof e?t.promise:t}))))},e}();(wa=Ca=Ca||{}).assertNever=function(e){throw new Error},wa.arrayToEnum=function(e){var t,n,r={};try{for(var a=$(e),i=a.next();!i.done;i=a.next()){var o=i.value;r[o]=o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},wa.getValidEnumValues=function(e){var t,n,r=wa.objectKeys(e).filter((function(t){return"number"!=typeof e[e[t]]})),a={};try{for(var i=$(r),o=i.next();!o.done;o=i.next()){var s=o.value;a[s]=e[s]}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return wa.objectValues(a)},wa.objectValues=function(e){return wa.objectKeys(e).map((function(t){return e[t]}))},wa.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},wa.find=function(e,t){var n,r;try{for(var a=$(e),i=a.next();!i.done;i=a.next()){var o=i.value;if(t(o))return o}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},wa.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};var Fa,xa,Ua=Ca.arrayToEnum(["invalid_type","custom","invalid_union","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types"]),Va=function(e){function t(t){var n=this.constructor,r=e.call(this)||this;return r.issues=[],r.format=function(){var e={_errors:[]};return function t(n){var r,a;try{for(var i=$(n.issues),o=i.next();!o.done;o=i.next()){var s=o.value;if("invalid_union"===s.code)s.unionErrors.map(t);else if("invalid_return_type"===s.code)t(s.returnTypeError);else if("invalid_arguments"===s.code)t(s.argumentsError);else if(0===s.path.length)e._errors.push(s.message);else for(var l=e,c=0;c<s.path.length;){var d,u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(s.message)):"string"==typeof u?l[u]=l[u]||{_errors:[]}:"number"==typeof u&&((d=[])._errors=[],l[u]=l[u]||d),l=l[u],c++}}}catch(n){r={error:n}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}}(r),e},r.addIssue=function(e){r.issues=te(te([],ee(r.issues)),[e])},r.addIssues=function(e){void 0===e&&(e=[]),r.issues=te(te([],ee(r.issues)),ee(e))},r.flatten=function(e){var t,n;void 0===e&&(e=function(e){return e.message});var a={},i=[];try{for(var o=$(r.issues),s=o.next();!s.done;s=o.next()){var l=s.value;0<l.path.length?(a[l.path[0]]=a[l.path[0]]||[],a[l.path[0]].push(e(l))):i.push(e(l))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{formErrors:i,fieldErrors:a}},n=n.prototype,Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n,r.name="ZodError",r.issues=t,r}return X(t,e),Object.defineProperty(t.prototype,"errors",{get:function(){return this.issues},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.message},Object.defineProperty(t.prototype,"message",{get:function(){return JSON.stringify(this.issues,null,2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.issues.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formErrors",{get:function(){return this.flatten()},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e)},t}(Error),ja=function(e,t){var n;switch(e.code){case Ua.invalid_type:n="undefined"===e.received?"Required":"Expected "+e.expected+", received "+e.received;break;case Ua.unrecognized_keys:n="Unrecognized key(s) in object: "+e.keys.map((function(e){return"'"+e+"'"})).join(", ");break;case Ua.invalid_union:n="Invalid input";break;case Ua.invalid_enum_value:n="Invalid enum value. Expected "+e.options.map((function(e){return"string"==typeof e?"'"+e+"'":e})).join(" | ")+", received "+("string"==typeof t.data?"'"+t.data+"'":t.data);break;case Ua.invalid_arguments:n="Invalid function arguments";break;case Ua.invalid_return_type:n="Invalid function return type";break;case Ua.invalid_date:n="Invalid date";break;case Ua.invalid_string:n="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case Ua.too_small:n="array"===e.type?"Should have "+(e.inclusive?"at least":"more than")+" "+e.minimum+" items":"string"===e.type?"Should be "+(e.inclusive?"at least":"over")+" "+e.minimum+" characters":"number"===e.type?"Value should be greater than "+(e.inclusive?"or equal to ":"")+e.minimum:"Invalid input";break;case Ua.too_big:n="array"===e.type?"Should have "+(e.inclusive?"at most":"less than")+" "+e.maximum+" items":"string"===e.type?"Should be "+(e.inclusive?"at most":"under")+" "+e.maximum+" characters long":"number"===e.type?"Value should be less than "+(e.inclusive?"or equal to ":"")+e.maximum:"Invalid input";break;case Ua.custom:n="Invalid input";break;case Ua.invalid_intersection_types:n="Intersections only support objects";break;default:n=t.defaultError,Ca.assertNever(e)}return{message:n}},Ba=ja,Ya=Ca.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ka=function(e){switch(typeof e){case"undefined":return Ya.undefined;case"string":return Ya.string;case"number":return isNaN(e)?Ya.nan:Ya.number;case"boolean":return Ya.boolean;case"function":return Ya.function;case"bigint":return Ya.bigint;case"object":return Array.isArray(e)?Ya.array:null===e?Ya.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Ya.promise:e instanceof Na?Ya.map:e instanceof ka?Ya.set:e instanceof Date?Ya.date:Ya.object;default:return Ya.unknown}},Ga=function(e,t,n,r){var a=te(te([],ee(t)),ee(r.path||[])),i=Da(Da({},r),{path:a});t=ja(i,{data:e,defaultError:"Invalid input"});return Da(Da({},r),{path:a,message:r.message||n(i,{data:e,defaultError:t.message}).message})},Ha=function(e){if(null===e)return[];for(var t=new Array(e.count);null!==e;)t[e.count-1]=e.component,e=e.parent;return t},Za=function(e){for(var t=null,n=0;n<e.length;n++)t={parent:t,component:e[n],count:n+1};return t},Wa=function(){function e(e,t,n){this.path=e,this.issues=t,this.params=n}return e.prototype.stepInto=function(t){return new e(null===this.path?{parent:null,count:1,component:t}:{parent:this.path,count:this.path.count+1,component:t},this.issues,this.params)},e.prototype.addIssue=function(e,t){t=Ga(e,Ha(this.path),this.params.errorMap,t),this.issues.push(t)},e}(),qa=Object.freeze({valid:!1}),Ja=function(e){return{valid:!0,value:e}},Xa=function(e){return new Ma(e)},za=function(e){return!1===e.valid},Qa=function(e){return!0===e.valid},$a=function(e){return e instanceof Ma};(xa=Fa=Fa||{}).errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},xa.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message};var ei,ti=function(e){return e.params.async?[]:null},ni=function(e){var t;return new Wa(Za(e.path||[]),[],{async:null!==(t=e.async)&&void 0!==t&&t,errorMap:e.errorMap||Ba})},ri=function(e,t,n){return Qa(t)?{success:!0,data:t.value}:(null!=n&&n.addIssues(e.issues),{success:!1,error:new Va(e.issues)})},ai=function(){function e(e){var t=this;this.parse=function(e,n){if((n=t.safeParse(e,n)).success)return n.data;throw n.error},this.safeParse=function(e,n){var r=ni(Da(Da({},n),{async:!1}));e=t._parseSync(r,e,Ka(e));return ri(r,e,null==n?void 0:n.parentError)},this.parseAsync=function(e,n){return z(t,void 0,void 0,(function(){var t;return Q(this,(function(r){switch(r.label){case 0:return[4,this.safeParseAsync(e,n)];case 1:if((t=r.sent()).success)return[2,t.data];throw t.error}}))}))},this.safeParseAsync=function(e,n){return z(t,void 0,void 0,(function(){var t,r;return Q(this,(function(a){switch(a.label){case 0:return t=ni(Da(Da({},n),{async:!0})),r=this._parse(t,e,Ka(e)),[4,$a(r)?r.promise:Promise.resolve(r)];case 1:return r=a.sent(),[2,ri(t,r,null==n?void 0:n.parentError)]}}))}))},this.spa=this.safeParseAsync,this.refine=function(e,n){return t._refinement((function(t,r){function a(){return r.addIssue(Da({code:Ua.custom},"string"==typeof n||void 0===n?{message:n}:"function"==typeof n?n(t):n))}var i=e(t);return i instanceof Promise?i.then((function(e){return!!e||(a(),!1)})):!!i||(a(),!1)}))},this.refinement=function(e,n){return t._refinement((function(t,r){return!!e(t)||(r.addIssue("function"==typeof n?n(t,r):n),!1)}))},this.superRefine=this._refinement,this.optional=function(){return Fi.create(t)},this.nullable=function(){return xi.create(t)},this.nullish=function(){return t.optional().nullable()},this.array=function(){return yi.create(t)},this.promise=function(){return Di.create(t)},this.isOptional=function(){return t.safeParse(void 0).success},this.isNullable=function(){return t.safeParse(null).success},this._def=e,this.transform=this.transform.bind(this),this.default=this.default.bind(this)}return e.prototype._parseSync=function(e,t,n){if(n=this._parse(e,t,n),$a(n))throw new Error("Synchronous parse encountered promise.");return n},e.prototype._refinement=function(e){return e=new Mi(this instanceof Mi?Da(Da({},this._def),{effects:te(te([],ee(this._def.effects||[])),[{type:"refinement",refinement:e}])}):{schema:this,typeName:_i.ZodEffects,effects:[{type:"refinement",refinement:e}]})},e.prototype.or=function(e){return Ai.create([this,e])},e.prototype.and=function(e){return Ti.create(this,e)},e.prototype.transform=function(e){return new Mi({schema:this,typeName:_i.ZodEffects,effects:[{type:"transform",transform:e}]})},e.prototype.default=function(e){return new Ui({innerType:this,defaultValue:"function"==typeof e?e:function(){return e},typeName:_i.ZodDefault})},e}(),ii=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,oi=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,si=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._regex=function(e,t,r){return n.refinement((function(t){return e.test(t)}),Da({validation:t,code:Ua.invalid_string},Fa.errToObj(r)))},n.email=function(e){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[Da({kind:"email"},Fa.errToObj(e))])}))},n.url=function(e){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[Da({kind:"url"},Fa.errToObj(e))])}))},n.uuid=function(e){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[Da({kind:"uuid"},Fa.errToObj(e))])}))},n.regex=function(e,r){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[Da({kind:"regex",regex:e},Fa.errToObj(r))])}))},n.min=function(e,r){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[Da({kind:"min",value:e},Fa.errToObj(r))])}))},n.max=function(e,r){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[Da({kind:"max",value:e},Fa.errToObj(r))])}))},n.nonempty=function(e){return n.min(1,Fa.errToObj(e))},n}return X(t,e),t.prototype._parse=function(e,t,n){var r,a;if(n!==Ya.string)return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.string,received:n}),qa;var i=!1;try{for(var o=$(this._def.checks),s=o.next();!s.done;s=o.next()){var l=s.value;if("min"===l.kind)t.length<l.value&&(i=!0,e.addIssue(t,{code:Ua.too_small,minimum:l.value,type:"string",inclusive:!0,message:l.message}));else if("max"===l.kind)t.length>l.value&&(i=!0,e.addIssue(t,{code:Ua.too_big,maximum:l.value,type:"string",inclusive:!0,message:l.message}));else if("email"===l.kind)oi.test(t)||(i=!0,e.addIssue(t,{validation:"email",code:Ua.invalid_string,message:l.message}));else if("uuid"===l.kind)ii.test(t)||(i=!0,e.addIssue(t,{validation:"uuid",code:Ua.invalid_string,message:l.message}));else if("url"===l.kind)try{new URL(t)}catch(n){i=!0,e.addIssue(t,{validation:"url",code:Ua.invalid_string,message:l.message})}else"regex"===l.kind&&(l.regex.test(t)||(i=!0,e.addIssue(t,{validation:"regex",code:Ua.invalid_string,message:l.message})))}}catch(n){r={error:n}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}return i?qa:Ja(t)},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},Object.defineProperty(t.prototype,"isEmail",{get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isURL",{get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUUID",{get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){var e=-1/0;return this._def.checks.map((function(t){"min"===t.kind&&(null===e||t.value>e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){var e=null;return this._def.checks.map((function(t){"max"===t.kind&&(null===e||t.value<e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),t.create=function(){return new t({checks:[],typeName:_i.ZodString})},t}(ai),li=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.gte=function(e,t){return n.setLimit("min",e,!0,Fa.toString(t))},n.min=n.gte,n.gt=function(e,t){return n.setLimit("min",e,!1,Fa.toString(t))},n.lte=function(e,t){return n.setLimit("max",e,!0,Fa.toString(t))},n.max=n.lte,n.lt=function(e,t){return n.setLimit("max",e,!1,Fa.toString(t))},n.setLimit=function(e,r,a,i){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[{kind:e,value:r,inclusive:a,message:Fa.toString(i)}])}))},n.int=function(e){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[{kind:"int",message:Fa.toString(e)}])}))},n.positive=function(e){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[{kind:"min",value:0,inclusive:!1,message:Fa.toString(e)}])}))},n.negative=function(e){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[{kind:"max",value:0,inclusive:!1,message:Fa.toString(e)}])}))},n.nonpositive=function(e){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[{kind:"max",value:0,inclusive:!0,message:Fa.toString(e)}])}))},n.nonnegative=function(e){return new t(Da(Da({},n._def),{checks:te(te([],ee(n._def.checks)),[{kind:"min",value:0,inclusive:!0,message:Fa.toString(e)}])}))},n}return X(t,e),t.prototype._parse=function(e,t,n){var r,a;if(n!==Ya.number)return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.number,received:n}),qa;var i=!1;try{for(var o=$(this._def.checks),s=o.next();!s.done;s=o.next()){var l=s.value;"int"===l.kind?Ca.isInteger(t)||(i=!0,e.addIssue(t,{code:Ua.invalid_type,expected:"integer",received:"float",message:l.message})):"min"===l.kind?(l.inclusive?t<l.value:t<=l.value)&&(i=!0,e.addIssue(t,{code:Ua.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,message:l.message})):"max"===l.kind&&(l.inclusive?t>l.value:t>=l.value)&&(i=!0,e.addIssue(t,{code:Ua.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,message:l.message}))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}return i?qa:Ja(t)},Object.defineProperty(t.prototype,"minValue",{get:function(){var e,t,n=null;try{for(var r=$(this._def.checks),a=r.next();!a.done;a=r.next()){var i=a.value;"min"===i.kind&&(null===n||i.value>n)&&(n=i.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){var e,t,n=null;try{for(var r=$(this._def.checks),a=r.next();!a.done;a=r.next()){var i=a.value;"max"===i.kind&&(null===n||i.value<n)&&(n=i.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInt",{get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind}))},enumerable:!1,configurable:!0}),t.create=function(){return new t({checks:[],typeName:_i.ZodNumber})},t}(ai),ci=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return n!==Ya.bigint?(e.addIssue(t,{code:Ua.invalid_type,expected:Ya.bigint,received:n}),qa):Ja(t)},t.create=function(){return new t({typeName:_i.ZodBigInt})},t}(ai),di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return n!==Ya.boolean?(e.addIssue(t,{code:Ua.invalid_type,expected:Ya.boolean,received:n}),qa):Ja(t)},t.create=function(){return new t({typeName:_i.ZodBoolean})},t}(ai),ui=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return n!==Ya.date?(e.addIssue(t,{code:Ua.invalid_type,expected:Ya.date,received:n}),qa):isNaN(t.getTime())?(e.addIssue(t,{code:Ua.invalid_date}),qa):Ja(new Date(t.getTime()))},t.create=function(){return new t({typeName:_i.ZodDate})},t}(ai),hi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return n!==Ya.undefined?(e.addIssue(t,{code:Ua.invalid_type,expected:Ya.undefined,received:n}),qa):Ja(t)},t.create=function(){return new t({typeName:_i.ZodUndefined})},t}(ai),fi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return n!==Ya.null?(e.addIssue(t,{code:Ua.invalid_type,expected:Ya.null,received:n}),qa):Ja(t)},t.create=function(){return new t({typeName:_i.ZodNull})},t}(ai),pi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._any=!0,t}return X(t,e),t.prototype._parse=function(e,t,n){return Ja(t)},t.create=function(){return new t({typeName:_i.ZodAny})},t}(ai),mi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._unknown=!0,t}return X(t,e),t.prototype._parse=function(e,t,n){return Ja(t)},t.create=function(){return new t({typeName:_i.ZodUnknown})},t}(ai),gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.never,received:n}),qa},t.create=function(){return new t({typeName:_i.ZodNever})},t}(ai),vi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return n!==Ya.undefined?(e.addIssue(t,{code:Ua.invalid_type,expected:Ya.void,received:n}),qa):Ja(t)},t.create=function(){return new t({typeName:_i.ZodVoid})},t}(ai),Ei=function(e,t,n,r){if(n!==Ya.array)return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.array,received:n}),qa;var a=!1;null!==r.minLength&&t.length<r.minLength.value&&(a=!0,e.addIssue(t,{code:Ua.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,message:r.minLength.message})),null!==r.maxLength&&t.length>r.maxLength.value&&(a=!0,e.addIssue(t,{code:Ua.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,message:r.maxLength.message}));var i=ti(e),o=new Array(t.length),s=r.type;return t.forEach((function(t,n){!function e(t,n){Qa(n)?o[t]=n.value:za(n)?a=!0:null!=i&&i.push(n.promise.then((function(n){return e(t,n)})))}(n,s._parse(e.stepInto(n),t,Ka(t)))})),null!==i&&0<i.length?Xa(Promise.all(i).then((function(){return a?qa:Ja(o)}))):a?qa:Ja(o)},yi=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.min=function(e,r){return new t(Da(Da({},n._def),{minLength:{value:e,message:Fa.toString(r)}}))},n.max=function(e,r){return new t(Da(Da({},n._def),{maxLength:{value:e,message:Fa.toString(r)}}))},n.length=function(e,t){return n.min(e,t).max(e,t)},n.nonempty=function(e){return n.min(1,e)},n}return X(t,e),t.prototype._parse=function(e,t,n){return Ei(e,t,n,this._def)},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.type},enumerable:!1,configurable:!0}),t.create=function(e){return new t({type:e,minLength:null,maxLength:null,typeName:_i.ZodArray})},t}(ai);!function(e){e.mergeShapes=function(e,t){return Da(Da({},e),t)},e.intersectShapes=function(e,t){var n,r,a=Ca.objectKeys(e),i=Ca.objectKeys(t),o=(a=a.filter((function(e){return-1!==i.indexOf(e)})),{});try{for(var s=$(a),l=s.next();!l.done;l=s.next()){var c=l.value;o[c]=Ti.create(e[c],t[c])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return Da(Da(Da({},e),t),o)}}(ei=ei||{});var _i,Si=function(e){return function(t){return new Ri(Da(Da({},e),{shape:function(){return Da(Da({},e.shape()),t)}}))}},Ri=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._cached=null,n.strict=function(){return new t(Da(Da({},n._def),{unknownKeys:"strict"}))},n.strip=function(){return new t(Da(Da({},n._def),{unknownKeys:"strip"}))},n.passthrough=function(){return new t(Da(Da({},n._def),{unknownKeys:"passthrough"}))},n.nonstrict=n.passthrough,n.augment=Si(n._def),n.extend=Si(n._def),n.setKey=function(e,t){var r;return n.augment(((r={})[e]=t,r))},n.merge=function(e){var r=ei.mergeShapes(n._def.shape(),e._def.shape());return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return r},typeName:_i.ZodObject})},n.catchall=function(e){return new t(Da(Da({},n._def),{catchall:e}))},n.pick=function(e){var r={};return Ca.objectKeys(e).map((function(e){r[e]=n.shape[e]})),new t(Da(Da({},n._def),{shape:function(){return r}}))},n.omit=function(e){var r={};return Ca.objectKeys(n.shape).map((function(t){-1===Ca.objectKeys(e).indexOf(t)&&(r[t]=n.shape[t])})),new t(Da(Da({},n._def),{shape:function(){return r}}))},n.partial=function(){var e,r={};for(e in n.shape){var a=n.shape[e];r[e]=a.isOptional()?a:a.optional()}return new t(Da(Da({},n._def),{shape:function(){return r}}))},n.deepPartial=function(){var e,r={};for(e in n.shape){var a=n.shape[e];r[e]=a instanceof t?a.isOptional()?a:a.deepPartial().optional():a.isOptional()?a:a.optional()}return new t(Da(Da({},n._def),{shape:function(){return r}}))},n.required=function(){var e,r={};for(e in n.shape){for(var a=n.shape[e];a instanceof Fi;)a=a._def.innerType;r[e]=a}return new t(Da(Da({},n._def),{shape:function(){return r}}))},n}return X(t,e),t.prototype._getCached=function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=Ca.objectKeys(e);return this._cached={shape:e,keys:t}},t.prototype._parse=function(e,t,n){var r,a,i,o,s;if(n!==Ya.object)return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.object,received:n}),qa;var l=(n=this._getCached()).shape,c=(n=n.keys,!1),d=ti(e),u={},h=function e(n,r){var a;Qa(r)?(void 0!==(a=r.value)||n in t)&&(u[n]=a):za(r)?c=!0:null!=d&&d.push(r.promise.then((function(t){return e(n,t)})))};try{for(var f=$(n),p=f.next();!p.done;p=f.next()){var m=p.value,g=l[m],v=t[m];h(m,g._parse(e.stepInto(m),v,Ka(v)))}}catch(e){E={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(E)throw E.error}}if(this._def.catchall instanceof gi){var E=this._def.unknownKeys;if("passthrough"===E){var y=Ca.objectKeys(t).filter((function(e){return!(e in l)}));try{for(var _=$(y),S=_.next();!S.done;S=_.next())m=S.value,u[m]=t[m]}catch(e){a={error:e}}finally{try{S&&!S.done&&(i=_.return)&&i.call(_)}finally{if(a)throw a.error}}}else if("strict"===E)0<(y=Ca.objectKeys(t).filter((function(e){return!(e in l)}))).length&&(c=!0,e.addIssue(t,{code:Ua.unrecognized_keys,keys:y}));else if("strip"!==E)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var R=this._def.catchall;y=Ca.objectKeys(t).filter((function(e){return!(e in l)}));try{for(var A=$(y),T=A.next();!T.done;T=A.next())m=T.value,v=t[m],h(m,R._parse(e.stepInto(m),v,Ka(v)))}catch(e){o={error:e}}finally{try{T&&!T.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}}return null!==d&&0<d.length?Xa(Promise.all(d).then((function(){return c?qa:Ja(u)}))):c?qa:Ja(u)},Object.defineProperty(t.prototype,"shape",{get:function(){return this._def.shape()},enumerable:!1,configurable:!0}),t.create=function(e){return new t({shape:function(){return e},unknownKeys:"strip",catchall:gi.create(),typeName:_i.ZodObject})},t.strictCreate=function(e){return new t({shape:function(){return e},unknownKeys:"strict",catchall:gi.create(),typeName:_i.ZodObject})},t.lazycreate=function(e){return new t({shape:e,unknownKeys:"strip",catchall:gi.create(),typeName:_i.ZodObject})},t}(ai),Ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){function r(n){var r=n.map((function(e){return new Va(e)}));return 1===(n=r.filter((function(e){return"invalid_type"!==e.issues[0].code}))).length?n[0].issues.forEach((function(t){return e.issues.push(t)})):e.addIssue(t,{code:Ua.invalid_union,unionErrors:r}),qa}var a,i,o=this._def.options;if(e.params.async){var s=o.map((function(){return new Wa(e.path,[],e.params)}));return Ma.all(o.map((function(e,r){return e._parse(s[r],t,n)}))).then((function(e){var t,n;try{for(var a=$(e),i=a.next();!i.done;i=a.next()){var o=i.value;if(Qa(o))return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r(s.map((function(e){return e.issues})))}))}var l=[];try{for(var c=$(o),d=c.next();!d.done;d=c.next()){var u=d.value,h=new Wa(e.path,[],e.params),f=u._parseSync(h,t,n);if(!za(f))return f;l.push(h.issues)}}catch(i){a={error:i}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return r(l)},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.options},enumerable:!1,configurable:!0}),t.create=function(e){return new t({options:e,typeName:_i.ZodUnion})},t}(ai),Ti=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){function r(n,r){return za(n)||za(r)?qa:(r=function e(t,n){var r,a,i=Ka(t),o=Ka(n);if(t===n)return{valid:!0,data:t};if(i!==Ya.object||o!==Ya.object)return{valid:!1};var s=Ca.objectKeys(n),l=(o=Ca.objectKeys(t).filter((function(e){return-1!==s.indexOf(e)})),Da(Da({},t),n));try{for(var c=$(o),d=c.next();!d.done;d=c.next()){var u=d.value,h=e(t[u],n[u]);if(!h.valid)return{valid:!1};l[u]=h.data}}catch(t){r={error:t}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}return{valid:!0,data:l}}(n.value,r.value)).valid?Ja(r.data):(e.addIssue(t,{code:Ua.invalid_intersection_types}),qa)}return e.params.async?Ma.all([this._def.left._parse(e,t,n),this._def.right._parse(e,t,n)]).then((function(e){var t;return r(e=(t=ee(e,2))[0],t=t[1])})):r(this._def.left._parseSync(e,t,n),this._def.right._parseSync(e,t,n))},t.create=function(e,n){return new t({left:e,right:n,typeName:_i.ZodIntersection})},t}(ai),Oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){if(n!==Ya.array)return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.array,received:n}),qa;if(t.length>this._def.items.length)return e.addIssue(t,{code:Ua.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),qa;if(t.length<this._def.items.length)return e.addIssue(t,{code:Ua.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),qa;var r=ti(e),a=(n=this._def.items,new Array(n.length)),i=!1;return n.forEach((function(n,o){!function e(t,n){Qa(n)?a[t]=n.value:za(n)?i=!0:null!=r&&r.push(n.promise.then((function(n){return e(t,n)})))}(o,n._parse(e.stepInto(o),t[o],Ka(t[o])))})),null!==r&&0<r.length?Xa(Promise.all(r).then((function(){return i?qa:Ja(a)}))):i?qa:Ja(a)},Object.defineProperty(t.prototype,"items",{get:function(){return this._def.items},enumerable:!1,configurable:!0}),t.create=function(e){return new t({items:e,typeName:_i.ZodTuple})},t}(ai),bi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){if(n!==Ya.object)return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.object,received:n}),qa;var r,a=ti(e),i=this._def.valueType,o={},s=!1,l=function e(t,n){Qa(n)?o[t]=n.value:za(n)?s=!0:null!=a&&a.push(n.promise.then((function(n){return e(t,n)})))};for(r in t)l(r,i._parse(e.stepInto(r),t[r],Ka(t[r])));return null!==a&&0<a.length?Xa(Promise.all(a).then((function(){return s?qa:Ja(o)}))):s?qa:Ja(o)},t.create=function(e){return new t({valueType:e,typeName:_i.ZodRecord})},t}(ai),Ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){if(n!==Ya.map)return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.map,received:n}),qa;var r=this._def.keyType,a=this._def.valueType,i=(t=t,new Na),o=ti(e),s=!1,l=function e(t,n){$a(t)||$a(n)?null!=o&&o.push(Ma.all([t,n]).promise.then((function(t){t=(n=ee(t,2))[0];var n=n[1];return e(t,n)}))):za(t)||za(n)?s=!0:i.set(t.value,n.value)};return te([],ee(t.entries())).forEach((function(t,n){t=(i=ee(t,2))[0];var i=i[1];n=e.stepInto(n),t=r._parse(n.stepInto("key"),t,Ka(t)),i=a._parse(n.stepInto("value"),i,Ka(i));l(t,i)})),null!==o&&0<o.length?Xa(Promise.all(o).then((function(){return s?qa:Ja(i)}))):s?qa:Ja(i)},t.create=function(e,n){return new t({valueType:n,keyType:e,typeName:_i.ZodMap})},t}(ai),Pi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){if(n!==Ya.set)return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.set,received:n}),qa;t=t;var r=this._def.valueType,a=new ka,i=ti(e),o=!1;return te([],ee(t.values())).forEach((function(t,n){return function e(t){Qa(t)?a.add(t.value):za(t)?o=!0:null!=i&&i.push(t.promise.then((function(t){return e(t)})))}(r._parse(e.stepInto(n),t,Ka(t)))})),null!==i&&0<i.length?Xa(Promise.all(i).then((function(){return o?qa:Ja(a)}))):o?qa:Ja(a)},t.create=function(e){return new t({valueType:e,typeName:_i.ZodSet})},t}(ai),Ci=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.args=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new t(Da(Da({},n._def),{args:Oi.create(e)}))},n.returns=function(e){return new t(Da(Da({},n._def),{returns:e}))},n.implement=function(e){return n.parse(e)},n.strictImplement=function(e){return n.parse(e)},n.validate=n.implement,n}return X(t,e),t.prototype._parse=function(e,t,n){function r(t,n){if(n.success)return n.data;throw n=Ga(t,Ha(e.path),e.params.errorMap,{code:Ua.invalid_arguments,argumentsError:n.error}),new Va([n])}function a(t,n){if(n.success)return n.data;throw n=Ga(t,Ha(e.path),e.params.errorMap,{code:Ua.invalid_return_type,returnTypeError:n.error}),new Va([n])}var i=this;if(n!==Ya.function)return e.addIssue(t,{code:Ua.invalid_type,expected:Ya.function,received:n}),qa;var o={errorMap:e.params.errorMap},s=t;return this._def.returns instanceof Di?Ja((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return z(i,void 0,void 0,(function(){var t,n,i,l,c;return Q(this,(function(d){switch(d.label){case 0:return t=r,n=[e],[4,this._def.args.spa(e,o)];case 1:return i=t.apply(void 0,n.concat([d.sent()])),[4,s.apply(void 0,te([],ee(i)))];case 2:return i=d.sent(),l=a,c=[i],[4,this._def.returns.spa(i,o)];case 3:return[2,l.apply(void 0,c.concat([d.sent()]))]}}))}))})):Ja((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r(e,i._def.args.safeParse(e,o));return a(n=s.apply(void 0,te([],ee(n))),i._def.returns.safeParse(n,o))}))},t.prototype.parameters=function(){return this._def.args},t.prototype.returnType=function(){return this._def.returns},t.create=function(e,n){return new t({args:e||Oi.create([]),returns:n||mi.create(),typeName:_i.ZodFunction})},t}(ai),wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),Object.defineProperty(t.prototype,"schema",{get:function(){return this._def.getter()},enumerable:!1,configurable:!0}),t.prototype._parse=function(e,t,n){return this._def.getter()._parse(e,t,n)},t.create=function(e){return new t({getter:e,typeName:_i.ZodLazy})},t}(ai),Ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return t!==this._def.value?(e.addIssue(t,{code:Ua.invalid_type,expected:this._def.value,received:t}),qa):Ja(t)},Object.defineProperty(t.prototype,"value",{get:function(){return this._def.value},enumerable:!1,configurable:!0}),t.create=function(e){return new t({value:e,typeName:_i.ZodLiteral})},t}(ai),ki=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return-1===this._def.values.indexOf(t)?(e.addIssue(t,{code:Ua.invalid_enum_value,options:this._def.values}),qa):Ja(t)},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enum",{get:function(){var e,t,n={};try{for(var r=$(this._def.values),a=r.next();!a.done;a=r.next()){var i=a.value;n[i]=i}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Values",{get:function(){var e,t,n={};try{for(var r=$(this._def.values),a=r.next();!a.done;a=r.next()){var i=a.value;n[i]=i}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Enum",{get:function(){var e,t,n={};try{for(var r=$(this._def.values),a=r.next();!a.done;a=r.next()){var i=a.value;n[i]=i}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),t.create=ne,t}(ai),Li=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){var r=Ca.getValidEnumValues(this._def.values);return-1===r.indexOf(t)?(e.addIssue(t,{code:Ua.invalid_enum_value,options:Ca.objectValues(r)}),qa):Ja(t)},t.create=function(e){return new t({values:e,typeName:_i.ZodNativeEnum})},t}(ai),Di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){var r=this;return n!==Ya.promise&&!1===e.params.async?(e.addIssue(t,{code:Ua.invalid_type,expected:Ya.promise,received:n}),qa):(t=n===Ya.promise?t:Promise.resolve(t),Ja(t.then((function(t){return r._def.type.parseAsync(t,{path:Ha(e.path),errorMap:e.params.errorMap})}))))},t.create=function(e){return new t({type:e,typeName:_i.ZodPromise})},t}(ai),Mi=function(e){function t(t){return e.call(this,t)||this}return X(t,e),t.prototype.innerType=function(){return this._def.schema},t.prototype._parse=function(e,t,n){function r(e,t){switch(t.type){case"refinement":var n=t.refinement(e,s);if(n instanceof Promise){if(i)throw new Error("You can't use .parse() on a schema containing async refinements. Use .parseAsync instead.");return n.then((function(t){var n=s.issueFound;return l=l||n,e}))}return n=s.issueFound,l=l||n,e;case"transform":if((n=t.transform(e))instanceof Promise&&i)throw new Error("You can't use .parse() on a schema containing async transformations. Use .parseAsync instead.");return n;default:throw new Error("Invalid effect type.")}}function a(e){return(e=o.reduce((function(e,t){return e instanceof Promise?e.then((function(e){return r(e,t)})):r(e,t)}),e))instanceof Promise?Xa(e.then((function(e){return l?qa:Ja(e)}))):l?qa:Ja(e)}var i=!1===e.params.async,o=this._def.effects||[],s={issueFound:!1,addIssue:function(n){this.issueFound=!0,e.addIssue(t,n)},get path(){return Ha(e.path)}},l=!1;if(i){var c=this._def.schema._parseSync(e,t,n);return Qa(c)?(c=o.reduce(r,c.value),l?qa:Ja(c)):qa}return n=this._def.schema._parse(e,t,n),Qa(n)?a(n.value):za(n)?qa:Xa(n.promise.then((function(e){return za(e)?qa:(e=a(e.value),$a(e)?e.promise:e)})))},t.create=function(e){return new t({schema:e,typeName:_i.ZodEffects})},t}(ai),Fi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return n===Ya.undefined?Ja(void 0):this._def.innerType._parse(e,t,n)},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e){return new t({innerType:e,typeName:_i.ZodOptional})},t}(ai),xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return n===Ya.null?Ja(null):this._def.innerType._parse(e,t,n)},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e){return new t({innerType:e,typeName:_i.ZodNullable})},t}(ai),Ui=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype._parse=function(e,t,n){return n===Ya.undefined&&(t=this._def.defaultValue()),this._def.innerType._parse(e,t,Ka(t))},t.prototype.removeDefault=function(){return this._def.innerType},t.create=function(e){return new Fi({innerType:e,typeName:_i.ZodOptional})},t}(ai),Vi=function(e,t){return e?pi.create().refine(e,t):pi.create()},ji={object:Ri.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise"}(_i=_i||{});var Bi=si.create,Yi=li.create,Ki=ci.create,Gi=di.create,Hi=ui.create,Zi=hi.create,Wi=fi.create,qi=pi.create,Ji=mi.create,Xi=gi.create,zi=vi.create,Qi=yi.create,$i=Ri.create,eo=Ri.strictCreate,to=Ai.create,no=Ti.create,ro=Oi.create,ao=bi.create,io=Ii.create,oo=Pi.create,so=Ci.create,lo=wi.create,co=Ni.create,uo=ki.create,ho=Li.create,fo=Di.create,po=Mi.create,mo=Fi.create,go=xi.create;Object.freeze({__proto__:null,ZodParsedType:Ya,getParsedType:Ka,makeIssue:Ga,EMPTY_PATH:null,pathToArray:Ha,pathFromArray:Za,ParseContext:Wa,createRootContext:function(e){var t;return new Wa(null,[],{async:null!==(t=e.async)&&void 0!==t&&t,errorMap:e.errorMap||Ba})},INVALID:qa,OK:Ja,ASYNC:Xa,isInvalid:za,isOk:Qa,isAsync:$a,ZodType:ai,ZodString:si,ZodNumber:li,ZodBigInt:ci,ZodBoolean:di,ZodDate:ui,ZodUndefined:hi,ZodNull:fi,ZodAny:pi,ZodUnknown:mi,ZodNever:gi,ZodVoid:vi,ZodArray:yi,get objectUtil(){return ei},mergeObjects:function(e){return function(t){var n=ei.mergeShapes(e._def.shape(),t._def.shape());return new Ri({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return n},typeName:_i.ZodObject})}},ZodObject:Ri,ZodUnion:Ai,ZodIntersection:Ti,ZodTuple:Oi,ZodRecord:bi,ZodMap:Ii,ZodSet:Pi,ZodFunction:Ci,ZodLazy:wi,ZodLiteral:Ni,ZodEnum:ki,ZodNativeEnum:Li,ZodPromise:Di,ZodEffects:Mi,ZodTransformer:Mi,ZodOptional:Fi,ZodNullable:xi,ZodDefault:Ui,custom:Vi,Schema:ai,ZodSchema:ai,late:ji,get ZodFirstPartyTypeKind(){return _i},any:qi,array:Qi,bigint:Ki,boolean:Gi,date:Hi,effect:po,enum:uo,function:so,instanceof:function(e,t){return void 0===t&&(t={message:"Input not instance of "+e.name}),Vi((function(t){return t instanceof e}),t)},intersection:no,lazy:lo,literal:co,map:io,nativeEnum:ho,never:Xi,null:Wi,nullable:go,number:Yi,object:$i,oboolean:function(){return Gi().optional()},onumber:function(){return Yi().optional()},optional:mo,ostring:function(){return Bi().optional()},promise:fo,record:ao,set:oo,strictObject:eo,string:Bi,transformer:po,tuple:ro,undefined:Zi,union:to,unknown:Ji,void:zi,ZodIssueCode:Ua,quotelessJson:function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},ZodError:Va,defaultErrorMap:ja,get overrideErrorMap(){return Ba},setErrorMap:function(e){Ba=e}});const vo=["be","en","id","kk","ru","tr","tt","uk","uz"],Eo=uo([vo[0],...vo.slice(1)]).transform(e=>e).default("ru"),yo=to([Eo,Bi().transform(()=>"ru")]).transform(e=>e).default("ru"),_o={from:"other",reqid:void 0,hash:void 0,vsid:Aa};var So=e(222);const Ro=["from","vsid"];var Ao=e(3222);const To=["playready-proxy.ott.yandex.ru","playready-proxy-preproduction.ott.yandex.ru","widevine-proxy.ott.yandex.ru","widevine-proxy-preproduction.ott.yandex.ru","fairplay-proxy.ott.yandex.ru","fairplay-proxy-preproduction.ott.yandex.ru","drm.yandex-team.ru"],Oo=e=>void 0!==function(e){let t;try{t=JSON.stringify(e)}catch(xa){}return t}(e),bo=to([Gi().default(!1).transform(e=>({autoplay:e,allowMuted:!0})),$i({allowMuted:Gi()}).transform(e=>{let{allowMuted:t}=e;return{autoplay:!0,allowMuted:t}})]);var Io=e(2239);const Po=to([Gi().default(!1).transform(e=>({logCalls:e,logEvents:e,logInternals:e})),$i({logCalls:Gi().default(!1),logEvents:Gi().default(!1),logInternals:Gi().default(!1)})]).transform(e=>{let{logCalls:t,logEvents:n,logInternals:r}=e;return{logCalls:le("playerapi-debug-logcalls",Boolean)||t,logEvents:le("playerapi-debug-logevents",Boolean)||n,logInternals:le("playerapi-debug-loginternals",Boolean)||r}}),Co=$i({}).passthrough().optional();var wo=e(5999);let No;!function(e){e.ALL="*",e.PLAY="play",e.START_SCREEN_PLAY="startScreenPlay",e.VOLUME="sound",e.VOLUME_SLIDER="volumeSlider",e.SETTINGS="settings",e.SETTINGS_ITEM="settingsItem",e.FULLSCREEN="fullscreen",e.TIMELINE="timeline",e.TIMELINE_PREVIEW="timelinePreview",e.LIVE="live",e.POSTER="poster",e.START_POSITION_CONFIRM="startPositionConfirm",e.TIME_DISPLAY="time",e.TITLE_DISPLAY="titleDisplay",e.REPORT="report",e.FORWARD="forward",e.BACKWARD="backward",e.LOGO="logo",e.PRELOADER="preloader",e.CONTEXT_MENU="contextMenu",e.START_SCREEN="startScreen",e.PLAYBACK_RATE="playbackRate",e.SKIPPABLE_FRAGMENTS="skippableFragments",e.EXTERNAL_PLAYBACK="externalPlayback",e.RECOMMENDATIONS="recommendations",e.CLOSE_BUTTON="closeButton",e.NEXT_AD_INFO="nextAdInfo",e.SUBTITLES_TOGGLE="subtitlesToggle",e.LOGO_WIDGET="logoWidget",e.SKIP_AD="skipAd",e.MOBILE_SEEK_BUTTONS="mobileSeekButtons",e.TITLE="title"}(No||(No={}));const ko=(0,wo.Z)(No).map(e=>No[e]),Lo=to([ho(No),Bi().transform(()=>"")]),Do=Qi(Lo).transform(e=>e.filter(e=>""!==e)),Mo=to([Qi(Lo),Bi().transform(e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e))]).transform(e=>Do.parse(e)).default(""),Fo=Yi().optional().transform(e=>Math.max(void 0===e?30:e,5)),xo={trackingEvents:[{init:[],start:[],end:[],setSource:[],adStart:[],adEnd:[],adPodStart:[],adPodEnd:[],adPodSkip:[],sourceStart:[],play:[],pause:[],seek:[],firstQuartile:[],midpoint:[],thirdQuartile:[],viewed:[],heartbeat:[],watchedTime:[],error:[]}]},Uo=so().args().returns(qi()),Vo=Ji().transform(fe),jo=$i({videoContentId:Bi().optional(),videoContentName:Bi().optional(),videoPublisherId:Bi().optional(),videoPublisherName:Bi().optional(),videoGenreId:Bi().optional(),videoGenreName:Bi().optional()}),Bo=$i({trackings:Vo.default(xo),update:Uo.default(()=>qn.Z),enableRemoteProgressSaving:Gi().default(!1).or(Ji().transform(()=>!1)),videoInfo:jo.default({})}),Yo=to([Gi().transform(e=>({enabled:e,reportUrl:"https://yandex.ru/support/video-player/feedback.html"})),$i({enabled:Ji().transform(e=>!0===e),reportUrl:Bi().default("https://yandex.ru/support/video-player/feedback.html")})]).default(!1);const Ko=e(8986).$?"":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Go=0,Ho=["partnerId","partner_id","category","impId","imp_id","hasPreroll","videoContentId","video_content_id","videoContentName","video_content_name","videoPublisherId","video_publisher_id","videoPublisherName","video_publisher_name","videoGenreId","video_genre_id","videoGenreName","video_genre_name","distrId","distr_id","adBreaks"],Zo=$i({}).passthrough().default({partnerId:void 0}).transform((function(e){const{partnerId:t,partner_id:n=t,category:r=Go,impId:a,imp_id:i=a,hasPreroll:o,videoContentId:s,video_content_id:l=s,videoContentName:c,video_content_name:d=c,videoPublisherId:u,video_publisher_id:h=u,videoPublisherName:f,video_publisher_name:p=f,videoGenreId:m,video_genre_id:g=m,videoGenreName:v,video_genre_name:E=v,distrId:y,distr_id:_=y,adBreaks:S}=e;return pe({},function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Ho),{partnerId:Number(n),category:Number(r),impId:void 0!==i?parseInt(String(i),10)||0:void 0,hasPreroll:"boolean"===typeof o?o:void 0,videoContentId:l,videoContentName:d,videoPublisherId:h,videoPublisherName:p,videoGenreId:g,videoGenreName:E,distrId:_,adBreaks:S})})),Wo=/^\w(\-|_|:|\s|\.|\w){0,70}$/,qo=$i({from:Bi().transform((function(e){if(!e)return _o.from;const t=String(e);return Wo.test(t)?t:"_$invalid_label_value$_"})).optional(),slots:to([Bi().transform((function(e){return"string"===typeof e?e.split(";"):[]})),Qi(Bi()),Ji().transform(String)]).transform((function(e){if(!Array.isArray(e))return;const t=e.filter(e=>"string"===typeof e&&/^\d+,\d+,-?\d+$/.test(e)).sort().join(";");return t.length>0?t:void 0})).optional().default([]),testIds:to([Bi().transform((function(e){return ge(e.split(","))})),Qi(Bi()).transform(ge),Qi(Yi()).transform(me),Ji().transform(qn.Z)]).optional()}).catchall(Ji().transform(e=>{if(void 0!==e)return String(e)})).transform((function(e){return void 0!==e.slots&&(e.testIds=ge(e.slots.split(";"))),e})),Jo=$i({}).passthrough().refine(ve,"must be serializable"),Xo=$i({preferredAudioLangs:Qi(Bi()).max(1),preferredTextLangs:Qi(Bi()).max(1)}).transform(e=>e),zo=mo(Yi().nonnegative().refine(h).transform(a)).transform(e=>({videoTime:e})),Qo=$i({url:Bi().url(),drmConfig:Jo.optional(),metaInfoUrl:Bi().optional()}),$o=$i({loop:Gi().default(!1),startPosition:zo,adConfig:Zo.default({}),withCredentials:Gi().optional(),passportRetpath:Bi().url().optional(),preview:Bi().default(Ko),additionalParams:qo.optional().default({}),externalPlayerConfig:$i({}).passthrough().optional(),id:Bi().default(""),videoInfo:jo.default({}),enableRemoteProgressSaving:Gi().optional().default(!1),preferredTracks:Xo.default({preferredAudioLangs:[],preferredTextLangs:[]})}),es=$i({streamUrl:Bi().url(),drmConfig:Jo.optional()}),ts=$i({streams:Qi(Qo).nonempty(),drmConfig:to([Zi(),Xi()])}),ns=no(to([ts,es]).transform(e=>"streams"in e?{streams:e.streams}:{streams:[{url:e.streamUrl,drmConfig:e.drmConfig}]}),$o),rs=to([Gi().transform(e=>{if(e)return{onlyMuted:!1,forceAutoplay:!0,threshold:.5}}),Zi().transform(()=>({onlyMuted:!0,forceAutoplay:!1,threshold:.5})),$i({onlyMuted:Gi()}).strict().transform(e=>{let{onlyMuted:t}=e;return{threshold:.5,onlyMuted:t,forceAutoplay:!0}}),$i({threshold:Yi().nonnegative().max(1),onlyMuted:Gi().default(!1)}).transform(e=>{let{threshold:t,onlyMuted:n}=e;return{threshold:t,onlyMuted:n,forceAutoplay:!0}})]);let as;!function(e){e.USER_VOLUME="yandexJSPlayerApiSavedUserAdjustedVolume",e.VOLUME="yandexJSPlayerApiSavedUserVolume",e.MUTED="yandexJSPlayerApiSavedUserMuted"}(as||(as={}));class is{static setSavedVolume(e){ma.setItem(as.VOLUME,String(e))}static getSavedVolume(){const e=this.parseVolume(ma.getItem(as.VOLUME));return void 0===e?1:e}static setSavedMuted(e){ma.setItem(as.MUTED,String(e))}static getSavedMuted(){return"true"===ma.getItem(as.MUTED)}static parseVolume(e){if(!(0,Bn.H)(e))return;const t=parseFloat(e);return isNaN(t)?void 0:t>=0&&t<=1?t:t>=0&&t<=100?t/100:void 0}}const os=Yi().refine(Ee,"must be a number 0..1").optional().transform(e=>void 0===e?is.getSavedVolume():e).transform(e=>Ee(e)?e:1),ss=$i({source:no(ns,Bo),debug:Po,autoplay:bo,slowConnection:Gi().default(!1),volume:os,muted:Gi().optional(),preload:Gi().default(!0),autoQuality:Gi().default(!0),defaultQuality:Yi().nullable().optional(),feed:Gi().default(!1),useAbdBundle:Gi().default(!1),lang:yo,env:Co,maxBufferLength:Yi().refine(h).transform(a).optional(),enableRemoteProgressSaving:Gi().default(!1),liveOffset:Fo,bandwidthEstimateOffset:Yi().refine(h).transform(r).optional(),report:Yo,preferNative:Gi().default(!1),disableAndroidPlayer:Gi().default(!1),togglePlaybackOnVisibilityChange:rs,restoreTabSessionPlaybackProgress:Gi().default(!1),startPositionConfirmation:$i({enabled:Gi()}).optional(),useFallbackStream:Gi().default(!1),maxRecoverAttempts:Yi().refine(h).optional(),loadSkin:to([so(),co(!1)]).optional(),perfLogUrl:Bi().optional(),useFriendlyFrame:Gi().default(!1),skinParams:$i({skinConfig:$i({hiddenControls:Mo,primaryColor:Bi().optional().default("#FFCC00"),secondaryColor:Bi().optional().default("#EEEEEE")}).passthrough().optional().default({})}).refine(Oo).optional(),useNativeAdControls:Gi().default(!0),device:Ji().refine(Oo).transform(e=>e).default({}),backgroundColor:Bi().optional().transform(e=>e||void 0),zenPreload:Gi().default(!1),cacheSourcesCount:Yi().nonnegative().int().refine(h).default(0)});var ls=e(2445);const cs=(0,ls.P)();const ds=(0,e(6475).B)(),us=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent,n=t.indexOf("Android");return-1===n?-1:parseFloat(t.slice(n+8))}(),hs=document.createElement("video"),fs=("function"===typeof hs.load?function(e,t){return void 0===t&&(t=hs),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1)("application/vnd.apple.mpegurl")||us>=4.4,ps=/Smart.?TV|PlayStation/i.test(navigator.userAgent);class ms{static isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)}static isSafariDesktop(){return ds&&!cs}static setDeviceType(e){this.deviceType=e}static isSmartTV(){return"SMART_TV"===this.deviceType||ps}static canPlayHlsOnNative(){return this.isSmartTV()||fs}}ms.deviceType=void 0;var gs=e(8258);const vs=["videoContentName","videoContentId","videoPublisherId","videoPublisherName","videoGenreId","videoGenreName"],Es=e=>({id:e.id,streams:e.streams,params:{startPosition:e.startPosition,adConfig:Se({},e.adConfig,_e(e.videoInfo,e.adConfig)),withCredentials:e.withCredentials,loop:e.loop,preview:e.preview,additionalParams:e.additionalParams,externalPlayerConfig:(0,lr.K)(e.externalPlayerConfig)?Se({},e.externalPlayerConfig,{passportRetpath:(0,Bn.H)(e.passportRetpath)?e.passportRetpath:void 0}):e.externalPlayerConfig,videoInfo:_e(e.videoInfo,e.adConfig),preferredTracks:e.preferredTracks}}),ys=ss.refine((function(e){if(e.startPositionConfirmation&&e.startPositionConfirmation.enabled){if(e.autoplay||e.togglePlaybackOnVisibilityChange)return!1;if(h(e.source.startPosition.videoTime))return!1}return!0}),"StartPositionConfirmation can be used only if autoplay is disabled and startPosition presents").transform(e=>{var t,n,r,a,i;const o=ye(null==(t=e.skinParams)||null==(n=t.skinConfig)?void 0:n.hiddenControls);return{sourceConfig:{trackings:e.source.trackings,enableRemoteProgressSaving:e.source.enableRemoteProgressSaving,update:e.source.update,videoInfo:e.source.videoInfo},streamPlayerParams:{source:Es(e.source),debug:e.debug.logInternals,hidden:!1===e.loadSkin?o:ko,autoplay:e.togglePlaybackOnVisibilityChange&&e.togglePlaybackOnVisibilityChange.forceAutoplay||e.autoplay.autoplay,allowMuted:e.autoplay.allowMuted,lang:e.lang,autoQuality:e.autoQuality,defaultQuality:e.defaultQuality,feed:e.feed,preload:e.preload,togglePlaybackOnVisibilityChange:e.togglePlaybackOnVisibilityChange,restoreTabSessionPlaybackProgress:e.restoreTabSessionPlaybackProgress,resourceTimingsMonitor:{perfLogUrl:e.perfLogUrl},maxBufferLength:e.maxBufferLength,preferNative:e.preferNative,disableAndroidPlayer:e.disableAndroidPlayer,report:e.report.enabled,useFriendlyFrame:e.useFriendlyFrame,skinConfig:null==(r=e.skinParams)?void 0:r.skinConfig,backgroundColor:e.useFriendlyFrame?e.backgroundColor:void 0,shouldPlayOnFirstClick:void 0===e.loadSkin,bandwidthEstimateOffset:e.bandwidthEstimateOffset,useNativeAdControls:e.useNativeAdControls,maxRecoverAttempts:e.maxRecoverAttempts,env:e.env,device:e.device,volume:e.volume,muted:0===e.volume||(void 0===e.muted?is.getSavedMuted():e.muted),isMobile:ms.isMobile(),liveOffset:e.liveOffset,slowConnection:e.slowConnection,cacheSourcesCount:e.cacheSourcesCount,showUnmuteButtonForAll:!1},useAbdBundle:e.useAbdBundle,useFallbackStream:e.useFallbackStream,debugConfig:e.debug,reportConfig:e.report,loadSkin:e.loadSkin,originalHiddenControls:o,primaryColor:null==(a=e.skinParams)||null==(i=a.skinConfig)?void 0:i.primaryColor,savedMutedRestored:void 0===e.muted&&0!==e.volume}}),_s=ns.transform(Es);let Ss,Rs;!function(e){e.Start="Start",e.Watched4Sec="4SecWatched",e.Watched10Sec="10SecWatched",e.Watched20Sec="20SecWatched",e.Heartbeat30Sec="30SecHeartbeat",e.End="End"}(Ss||(Ss={}));class As{constructor(e){this.params=e,this.previousWatchedTime=0}onWatchedTimeChange(e){const{previousWatchedTime:t}=this;t!==e&&(!function(e,t){return 0===e&&t>0}(t,e)?!function(e,t){return e<4&&t>=4}(t,e)?!function(e,t){return e<10&&t>=10}(t,e)?!function(e,t){return e<20&&t>=20}(t,e)?function(e,t){return Te(e)<Te(t)}(t,e)&&this.params.onEvent(Ss.Heartbeat30Sec):this.params.onEvent(Ss.Watched20Sec):this.params.onEvent(Ss.Watched10Sec):this.params.onEvent(Ss.Watched4Sec):this.params.onEvent(Ss.Start),this.previousWatchedTime=e)}onPlayingStateChange(e){e===rr.END&&this.params.onEvent(Ss.End)}}!function(e){e.PLAYER_API="player-api.js",e.PLAYER_API_MODERN="player-api.modern.js",e.PLAYER_API_MOCK="player-api-mock.js"}(Rs||(Rs={}));var Ts=e(1390);const Os=e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&(0,Ts.d)(e),bs=(e=>Os(e))(window);(0,e(3142).e)([{id:9279,percent:100}]);const Is=function(e){return void 0===e&&(e=window),/Windows Phone/i.test(e.navigator.userAgent)},Ps=be(),Cs=function(e){void 0===e&&(e=window);const t=(0,zr.i)(e).toLowerCase();return/linux/.test(t)&&!be(e)}(),ws=function(e){void 0===e&&(e=window);const t=(0,zr.i)(e).toLowerCase();return/mac/.test(t)&&!(0,ls.P)(e)}(),Ns=Is();var ks;let Ls,Ds,Ms,Fs;!function(e){e.LIVE="LIVE",e.EVENT="EVENT",e.VOD="VOD"}(ks||(ks={})),function(e){e.DESKTOP="d",e.MOBILE="m",e.SMART_TV="s"}(Ls||(Ls={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile",e.SMART_TV="smarttv",e.TABLET="tablet"}(Ds||(Ds={})),function(e){e.UNDEFINED="0",e.DESKTOP="1",e.IOS="2",e.ANDROID="3",e.WINDOWS_MOBILE="4",e.SMART_TV="5"}(Ms||(Ms={})),function(e){e.vsid="vsid",e.dl="dl",e.random="random",e.timestamp="timestamp",e.fts="fts",e.vts="vts",e["video-time"]="video-time",e["device-type"]="device-type",e["device-type-mediascope"]="device-type-mediascope",e["device-type-tns"]="device-type-tns",e.fullscreen="fullscreen",e.duration="duration",e["old-position"]="old-position",e["error-code"]="error-code",e["audio-track-name"]="audio-track-name",e["audio-track-lang"]="audio-track-lang",e["text-track-name"]="text-track-name",e["text-track-lang"]="text-track-lang",e.muted="muted",e["drm-supported"]="drm-supported",e["drm-type"]="drm-type",e["bitrate-video"]="bitrate-video",e["bitrate-audio"]="bitrate-audio",e["buffering-duration"]="buffering-duration",e["buffering-count"]="buffering-count",e["initial-buffering-time"]="initial-buffering-time",e["ad-position"]="ad-position",e["client-ad-sec"]="client-ad-sec"}(Fs||(Fs={}));const xs=(0,wo.Z)(Fs),Us=new RegExp(/^https:\/\/tracking(-testing){0,1}\.ott\.yandex\.net\/v\d+\/watch-batch/),Vs=(0,Fn.I)(()=>{try{return"keepalive"in new Request("")}catch(e){return!1}}),js=()=>W("web_gogol_fetch_keepalive")?async function(){if("boolean"===typeof navigator.onLine&&!navigator.onLine)return new Promise(e=>{const t=()=>{window.removeEventListener("online",t),e()};window.addEventListener("online",t)})}():void 0;var Bs=e(9183);class Ys{setTimeout(e,t){if(t<=0)return void(0,Yn.Y)(e,Yr.L);const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}now(){return(0,Bs.m)()}}class Ks{constructor(e){void 0===e&&(e=0),this.time=e,this.tasks=void 0,this.tasks=[]}setTimeout(e,t){const n=this.time+t,r={task:e,time:n,isCanceled:!1,isRunned:!1};if(((e,t,n)=>{let r=0;for(;r<e.length&&!n(e[r]);r+=1);e.splice(r,0,t)})(this.tasks,r,e=>n<e.time),!(t<=0))return()=>r.isCanceled=!0;(0,Yn.Y)(()=>this.runTask(r),Yr.L)}setTime(e){if(isNaN(e))return;let t=0;for(;t<this.tasks.length&&!(e<this.tasks[t].time);t+=1)this.runTask(this.tasks[t]);this.time=e,this.tasks.splice(0,t)}now(){return this.time}tick(e){this.setTime(this.time+e)}reset(){this.time=0,this.tasks=[]}runTask(e){e.isRunned||e.isCanceled||(e.isRunned=!0,this.time=e.time,e.task())}}class Gs{constructor(e,t){void 0===t&&(t=new Ys),this.distributionFunction=e,this.clock=t,this.stopped=!0,this.cancel=void 0,this.lastNow=0,this.lastKnockTime=void 0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.setTimeout(()=>this.knock(this.lastNow+this.lastTimeout),this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||this.setTimeout(()=>this.knock(e+t),t)}cancelTimeout(){void 0!==this.cancel&&this.cancel(),this.cancel=void 0}setTimeout(e,t){this.cancelTimeout();const n=this.clock.setTimeout(e,t);void 0!==n&&(this.cancelTimeout(),this.cancel=n)}}class Hs{constructor(){this.handlers=Object.create(null),this.onceHandlers=Object.create(null),this.maxEventListeners=10}setMaxListeners(e){!isFinite(e)||e<=0||(this.maxEventListeners=e)}on(e,t){this.getHandlers(e).push(t),this.checkSubscriptions(e)}once(e,t){this.getOnceHandlers(e).push(t),this.checkSubscriptions(e)}off(e,t){const n=this.getHandlers(e),r=this.getOnceHandlers(e);if(void 0===t)return n.length=0,void(r.length=0);this.removeHandler(t,n),this.removeHandler(t,r)}emit(e,t){const n=this.getHandlers(e),r=this.getOnceHandlers(e).slice();this.getOnceHandlers(e).length=0,n.slice().concat(r).forEach(e=>{try{e(t)}catch(nu){setTimeout(()=>{throw nu},0)}})}getHandlers(e){return void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e]}getOnceHandlers(e){return void 0===this.onceHandlers[e]&&(this.onceHandlers[e]=[]),this.onceHandlers[e]}checkSubscriptions(e){const t=this.getHandlers(e).length+this.getOnceHandlers(e).length;t>this.maxEventListeners&&console.warn("There are "+t+" subscriptions on event named "+e)}removeHandler(e,t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}class Zs{constructor(){this.value=0,this.measureTime=()=>0}start(){this.measureTime=t()}pause(){this.value=Un(this.value,this.measureTime()),this.measureTime=()=>0}getTime(){return Un(this.value,this.measureTime())}reset(){this.measureTime=t(),this.value=0}}class Ws extends Hs{constructor(e){super(),this.params=e,this.MACROS={dl:()=>window.document.referrer||window.location&&window.location.href||"",random:()=>Math.floor(Math.random()*10**16),timestamp:()=>String(Date.now()),vts:()=>{return Math.floor((e=Date.now(),Math.round(e/1e3)));var e},fts:()=>{const e=this.params.getVideoType();return Math.floor(e===ks.VOD?this.params.getCurrentTime():this.params.getUtcPosition())},"video-time":()=>Math.floor(this.params.getCurrentTime()),"device-type":()=>ms.isSmartTV()?Ls.SMART_TV:ms.isMobile()?Ls.MOBILE:Ls.DESKTOP,"device-type-mediascope":()=>ms.isSmartTV()?Ds.SMART_TV:ms.isMobile()?Ds.MOBILE:Ds.DESKTOP,"device-type-tns":()=>{if(ms.isSmartTV())return Ms.SMART_TV;if(ms.isMobile()){if(cs)return Ms.IOS;if(Ps)return Ms.ANDROID;if(Ns)return Ms.WINDOWS_MOBILE}else if(Qr||ws||Cs)return Ms.DESKTOP;return Ms.UNDEFINED},fullscreen:()=>this.params.getIsFullscreen()?"1":"0",duration:()=>Math.floor(this.params.getDuration()),vsid:()=>this.params.vsid,"audio-track-name":()=>{const e=this.params.getAudioTrack();return e?e.name:""},"audio-track-lang":()=>{const e=this.params.getAudioTrack();return e?e.lang:""},"text-track-name":()=>{const e=this.params.getTextTrack();return e?e.name:""},"text-track-lang":()=>{const e=this.params.getTextTrack();return e?e.lang:""},"drm-supported":()=>{switch(this.params.getIsDrmSupported()){case!0:return"1";case!1:return"0";default:return""}},"drm-type":()=>{var e;return null!=(e=this.params.getDrmSystemName())?e:""},"bitrate-video":()=>{var e;const t=null==(e=this.params.getVideoTrack())?void 0:e.bitrate;return t?Math.floor(Vn(t,1e3)):""},"bitrate-audio":()=>{var e;const t=null==(e=this.params.getAudioTrack())?void 0:e.bitrate;return t?Math.floor(Vn(t,1e3)):""},"initial-buffering-time":()=>{var e;return null!=(e=this.initialBufferingTime)?e:""},"ad-position":()=>{const{type:e}=this.params.getAdState();return void 0===e?"":"inroll"===e?"midroll":"postPauseroll"===e?"pauseroll":e},"client-ad-sec":()=>Math.floor(function(e){let t=e;for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t/=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];return t}(this.clientAdTimeMeasurer.getTime(),1e3)),muted:()=>this.params.getMuted()?"1":"0"},this.measureInitialBufferingTime=void 0,this.initialBufferingTime=void 0,this.clientAdTimeMeasurer=new Zs,this.watchedTimeClock=new Ks,this.heartbeatTimers=[],this.bufferedInfoByTrackKey={},this.trackingEvents={init:[],start:[],end:[],setSource:[],adStart:[],adEnd:[],adPodStart:[],adPodEnd:[],adPodSkip:[],sourceStart:[],play:[],pause:[],seek:[],firstQuartile:[],midpoint:[],thirdQuartile:[],viewed:[],heartbeat:[],watchedTime:[],error:[]},this.onError=e=>{let{code:t,isFatal:n}=e;n&&this.parseAndTrackUrls(this.trackingEvents.error,{"error-code":()=>String(t)})},this.onReady=()=>{this.parseAndTrackUrls(this.trackingEvents.init)},this.onSetSourceComplete=()=>{this.parseAndTrackUrls(this.trackingEvents.setSource)},this.onWatchedTimeChange=e=>{isNaN(e)||this.watchedTimeClock.setTime(1e3*e)},this.onCurrentTimeChange=e=>{this.emit("CurrentTimeChange",e)},this.onAdStateChange=e=>{this.emit("AdStateChange",e)},this.onAdPodStart=()=>{this.emit("AdPodStart")},this.onAdPodEnd=()=>{this.emit("AdPodEnd")},this.onAdPodSkip=()=>{this.emit("AdPodSkip")},this.onStateChange=e=>{this.emit("StateChange",e)}}setTrackings(e){this.resetTrackings(),this.trackingEvents=function(e){if(!Array.isArray(e))return e;const t={init:[],start:[],end:[],setSource:[],adStart:[],adEnd:[],adPodStart:[],adPodEnd:[],adPodSkip:[],sourceStart:[],play:[],pause:[],seek:[],firstQuartile:[],midpoint:[],thirdQuartile:[],viewed:[],heartbeat:[],watchedTime:[],error:[]};return e.forEach(e=>{(0,Ao.J)(e).forEach(e=>{let[n,r]=e;Array.isArray(t[n])||(t[n]=[]),t[n].push(...r)})}),t}(e.trackingEvents);const{start:r,end:a,adStart:i,adEnd:o,adPodStart:s,adPodEnd:l,adPodSkip:c,sourceStart:d,play:u,pause:h,firstQuartile:f,midpoint:p,thirdQuartile:m,viewed:g,heartbeat:v,watchedTime:E}=this.trackingEvents,y=(0,Fn.I)(()=>{this.parseAndTrackUrls(d)});let _=[...g,...we(f,25),...we(p,50),...we(m,75)],S=!1;v.forEach(e=>{const t=Ne(e);this.bufferedInfoByTrackKey[t]={count:0,time:0}});const R=()=>{y(),S=!0,this.parseAndTrackUrls(r),this.heartbeatTimers=v.concat(E.map(Ce)).map(e=>{const[t,{delay:n,offset:r=n,callsCount:a=1/0,utcStart:i,utcEnd:o}]=e,s=Ne(e);let l=0;const c=new Gs(()=>{const e=Math.round(this.params.getUtcPosition());if(void 0!==i&&e<i||void 0!==o&&e>o)return 1e3;if(0===l)return l++,r;const d=this.bufferedInfoByTrackKey[s];return this.parseAndTrackUrls([t],{"buffering-duration":()=>void 0===d?"":Math.floor(d.time),"buffering-count":()=>void 0===d?"":d.count}),void 0!==d&&(d.time=0,d.count=0),l++,l>a?(c.destroy(),0):n},this.watchedTimeClock);return c}),this.heartbeatTimers.forEach(e=>e.start())};let A=!1,T=!1;this.on("CurrentTimeChange",e=>{if(!this.isStreamPlaying())return;!S&&e>0&&R();const t=this.params.getDuration();if(!t)return;if(this.params.getVideoType()!==ks.VOD)return;const n=e/t;_=_.filter(e=>{let[t,{percent:r}]=e;return!(n>r/100)||(this.parseAndTrackUrls([t]),!1)})}),this.on("AdStateChange",e=>{let{state:t,type:n}=e;const r=t===ia.PLAYING;r&&y(),this.parseAndTrackUrls(r?i:o),this.clientAdTimeMeasurer.reset()});let O=null;this.on("StateChange",e=>{if(this.isAdPlaying())O=null;else if(e===rr.BUFFERING)O=t();else if(null!==O){const e=O()/1e3;O=null;for(const t in this.bufferedInfoByTrackKey)Object.prototype.hasOwnProperty.call(this.bufferedInfoByTrackKey,t)&&(this.bufferedInfoByTrackKey[t].count++,this.bufferedInfoByTrackKey[t].time=Un(e,this.bufferedInfoByTrackKey[t].time))}}),this.on("StateChange",e=>{this.isAdPlaying()?e===rr.PLAY?this.clientAdTimeMeasurer.start():this.clientAdTimeMeasurer.pause():this.clientAdTimeMeasurer.reset()}),this.on("StateChange",e=>{if(e===rr.END)return void this.parseAndTrackUrls(a);if(!A){if(e===rr.PLAY)this.initialBufferingTime=this.measureInitialBufferingTime?n(Math.floor(this.measureInitialBufferingTime())):n(0),this.parseAndTrackUrls(u),A=!0,T=!0;else if(e===rr.BUFFERING){var r;this.measureInitialBufferingTime=null!=(r=this.measureInitialBufferingTime)?r:t()}return}if(this.isAdPlaying())return;const i=e===rr.PLAY||e===rr.BUFFERING;i!==T&&(T=i,this.parseAndTrackUrls(i?u:h))});let b=!1,I=!1;this.on("AdPodStart",()=>{b=!0,I=!1,this.parseAndTrackUrls(s),this.clientAdTimeMeasurer.reset()}),this.on("AdPodSkip",()=>{I=!0,this.parseAndTrackUrls(c),this.clientAdTimeMeasurer.reset()}),this.on("AdPodEnd",()=>{!I&&b?(b=!1,this.parseAndTrackUrls(l),this.clientAdTimeMeasurer.reset()):b=!1})}destroy(){this.resetTrackings(),this.emit("Destroy"),this.off("Destroy")}isStreamPlaying(){return this.params.getPlayingState()===rr.PLAY&&!this.isAdPlaying()}isAdPlaying(){return this.params.getAdState().state===ia.PLAYING}resetTrackings(){this.heartbeatTimers.forEach(e=>e.destroy()),this.clientAdTimeMeasurer.reset(),this.watchedTimeClock.reset(),this.bufferedInfoByTrackKey={},this.measureInitialBufferingTime=void 0,this.initialBufferingTime=void 0,this.off("StateChange"),this.off("AdStateChange"),this.off("AdPodStart"),this.off("AdPodSkip"),this.off("AdPodEnd"),this.off("CurrentTimeChange")}parseAndTrackUrls(e,t){void 0===t&&(t={});const n=ke({},this.MACROS,t);e.forEach(e=>{const t=xs.reduce((e,t)=>{const r=n[t];return void 0===r?e:function(e,t,n){return e.replace(new RegExp("{{"+t+"}}","gm"),encodeURIComponent(n))}(e,t,String(r()))},e);if(function(e){return Us.test(e)}(e)){const n=se("data",t);Pe({url:e.split("?")[0],data:"["+n+"]",contentType:"application/json"})}else Ie(t)})}}const qs=function(e){return void 0===e&&(e=window),/YandexSearch|YaSearchBrowser|YaApp_iOS|YaApp_Android/i.test((0,zr.i)(e))}(),Js=document.createElement("a");let Xs=0;const zs=qs?"#feedback__app-problem":"#feedback__browser-problem";var Qs=e(3888);var $s=e(4397);var el=e(1409);(0,el.n)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var tl=e(6838);const nl=Ue(),rl=n(5),al=n(20),il=(0,or.m)($s.O);class ol{constructor(e){let{vsid:t,logUrl:n}=void 0===e?{}:e;this.rootFields=void 0,this.labels={},this.logUrl=void 0,this.eventIndex=0,this.setRootFields=e=>{(0,Ao.J)(e).forEach(e=>{let[t,n]=e;void 0===n?delete this.rootFields[t]:this.rootFields[t]=n})},this.setLabels=e=>{(0,Ao.J)(e).forEach(e=>{let[t,n]=e;void 0===n?delete this.labels[t]:this.labels[t]=n})},this.logUrl=n,this.rootFields={vsid:t}}logEvent(e){let{name:t,data:n,labels:r,extraRootFields:a}=e;this.push({eventType:"event",eventName:t,data:n,additionalStatsLabels:r,extraRootFields:a})}logError(e){let{error:t,labels:n,extraRootFields:r}=e;const a=new Zn(t);this.push({eventName:String(a.code),eventType:a.isFatal?"fatal":"error",data:a,additionalStatsLabels:n,extraRootFields:r})}push(e){let{eventName:t,eventType:n,data:r={},additionalStatsLabels:a,extraRootFields:i={}}=e;const o=this.getLogUrl(je({StreamPlayer:"1.0-9279",[n]:t},a));try{const e=je({},i,this.rootFields,{service:"StreamPlayer",labels:je({},this.labels,a),timestamp:Date.now(),eventType:n,eventName:t,data:r,version:"1.0-9279",documentIsVisible:(0,Wn.s)(document),isVideoADB:il,eventIndex:this.eventIndex});this.sendData(o,xe(e)),this.eventIndex++}catch(xa){(0,Yr.L)(new jn.s(xa,{details:{version:"1.0-9279",eventType:n,eventName:t}}))}}getLogUrl(e){const{logUrl:t=(il?Ve():nl)}=this;return t===nl?(0,So.Sr)(nl,e):t}sendData(e,t){Pe({url:e,data:t})}}var sl=e(9878);class ll{constructor(){this.resolve=void 0,this.reject=void 0,this.promise=void 0;let e=qn.Z,t=qn.Z;this.promise=new Promise((n,r)=>{e=n,t=r}),this.resolve=e,this.reject=t}}const cl=e=>({promise:e.request({method:"GET",url:"https://frontend.vh.yandex.ru/csrf_token",retries:3,withCredentials:!0}).then(e=>{try{return{token:e}}catch(t){return{token:""}}}),abort:qn.Z}),dl=e=>({promise:e.request({method:"GET",url:"https://cloud-api.yandex.ru/videoplayer/v1/personality/profile/yandex_io/devices/",retries:3,withCredentials:!0}).then(e=>{try{const{items:t}=JSON.parse(e);return t&&t.length?t:[]}catch(t){return[]}}),abort:qn.Z}),ul=e=>({promise:e.request({method:"GET",url:"https://quasar.yandex.<tld>/devices_online_stats",retries:3,withCredentials:!0}).then(e=>{try{const{items:t}=JSON.parse(e);return t&&t.length?t:[]}catch(t){return[]}}),abort:qn.Z}),hl=(e,t,n)=>{const r={msg:Ke({},t.config,{start_position:t.startPosition}),device:t.externalPlayerId};return{promise:e.request({method:"POST",url:"https://yandex.ru/video/station",headers:{"X-CSRF-TOKEN":n},data:JSON.stringify(r),retries:3,withCredentials:!0}).then(e=>{const t=JSON.parse(e);if("play"!==t.status)throw new Error("ExternalPlaybackError: "+t.msg)}),abort:qn.Z}};var fl=e(874);let pl;!function(e){e.play="play",e.pause="pause",e.seek="seek",e.setSource="setSource",e.preloadSource="preloadSource",e.abortPreloadSource="abortPreloadSource",e.setVolume="setVolume",e.setMuted="setMuted",e.setFullscreen="setFullscreen",e.setPictureInPicture="setPictureInPicture",e.setPlaybackRate="setPlaybackRate",e.setVideoTrack="setVideoTrack",e.setAudioTrack="setAudioTrack",e.setTextTrack="setTextTrack",e.changeAdditionalParams="changeAdditionalParams",e.setNativeTextTrackVisibility="setNativeTextTrackVisibility",e.setNativeAdControlsVisibility="setNativeAdControlsVisibility",e.setHiddenControls="setHiddenControls",e.setVideoStyle="setVideoStyle",e.setPictureInPictureEnabled="setPictureInPictureEnabled",e.setFeed="setFeed",e.setExternalVisualState="setExternalVisualState",e.getExternalVisualState="getExternalVisualState",e.getConfig="getConfig",e.requestDebugInfo="requestDebugInfo",e.xhrRequest="xhrRequest",e.stopAd="stopAd",e.playInrollAd="playInrollAd",e.skipAdPod="skipAdPod",e.destroy="destroy",e.logDelta="logDelta"}(pl||(pl={}));let ml=0;const gl=e=>{let t=e;return(0,jr.k)(e)?[].concat(e).map(e=>gl(e)):wr(e)?new Date(e.getTime()):(!(0,or.m)(e)&&(0,lr.K)(e)&&(t={},(0,sr.M)(e,(e,n)=>{t[n]=gl(e)})),t)},vl=["requestId"];class El extends Hs{getDataFromPostMessageEvent(e){let{data:t}=e;if("object"!==typeof t)return;const{id:n,batch:r}=t;return"string"===typeof n&&0!==n.length&&r&&Array.isArray(r)?{id:n,batch:r}:void 0}constructor(e){let{id:t,sender:n,receiver:r,syncMode:a=!1,internal:i=!1}=e;super(),this.id=void 0,this.key=void 0,this.abortRequestMap=Object.create(null),this.sender=void 0,this.receiver=void 0,this.sendPromise=void 0,this.messagesBatch=[],this.receiverCallback=void 0,this.id=t,this.key=a?"handle_data_"+t:void 0,this.sender=n,this.receiver=r;const o=e=>{const{id:t,batch:n}=e;t===this.id&&n.forEach(e=>{let{answer:t,command:n,event:r}=e;if(t&&void 0!==t.requestId&&this.emit("Answer",t),r&&this.emit("Event",r),!n)return;const o=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,vl),s=Ze({},i&&a?gl(o):o,{sendAnswer:e=>{this.sendAnswer(e,n.requestId)}});this.emit("Command",s)})};this.receiverCallback=e=>{const t=this.getDataFromPostMessageEvent(e);void 0!==t&&o(t)},this.key&&(r[this.key]=o),r.addEventListener("message",this.receiverCallback)}sendEvent(e,t){let{data:n,sourceId:r}=t;const a={eventName:e,data:n,sourceId:r};this.sendPostMessage({event:a})}sendCommand(e,t){const n={commandName:e,params:t};this.sendPostMessage({command:n})}sendRequest(e,t,n){void 0===n&&(n=6e4);const r={commandName:e,params:t,requestId:ml++},a=this.waitForAnswer(r,n);return this.sendPostMessage({command:r}),a}destroy(){this.receiver.removeEventListener("message",this.receiverCallback),this.off("Command"),this.off("Answer"),this.off("Event"),this.off("Error"),(0,sr.M)(this.abortRequestMap,e=>e())}flush(){if(this.sendPromise=void 0,0===this.messagesBatch.length)return;const e={id:this.id,batch:[...this.messagesBatch]};this.messagesBatch=[];try{this.sender.postMessage(e,"*")}catch(xa){this.safeSendClonedData(e,"*")}}waitForAnswer(e,t){let n,r=qn.Z;const a=()=>{clearTimeout(n),r(),delete this.abortRequestMap[e.requestId]};return new Promise(i=>{n=window.setTimeout(()=>{const t=this.abortRequestMap[e.requestId];"function"===typeof t&&t()},t);const o=t=>{t.requestId===e.requestId&&(a(),i(t.data))};this.on("Answer",o),r=()=>this.off("Answer",o),this.abortRequestMap[e.requestId]=a})}sendAnswer(e,t){void 0===t&&(t=-1);const n={data:e,requestId:t};this.sendPostMessage({answer:n})}sendPostMessage(e){let{event:t,command:n,answer:r}=e;if(this.key)try{const e={id:this.id,batch:[{event:t,answer:r,command:n}]};return void this.sender[this.key](e)}catch(a){}this.messagesBatch.push({event:t,answer:r,command:n}),this.planRealSend()}safeSendClonedData(e,t){try{this.sender.postMessage(JSON.parse(JSON.stringify(e)),t)}catch(nu){this.emit("Error",nu)}}planRealSend(){void 0===this.sendPromise&&(this.sendPromise=Promise.resolve().then(()=>this.flush()))}}const yl=(0,So.en)(window.location.href).hostname.split(".").reverse()[0];class _l{static performRealRequest(e){const t=He(qe({},e,{url:We(e.url)}));return{promise:t.promise.then(e=>e.responseText).catch(e=>{throw e.status=t.getStatus(),e}),abort:t.abort}}constructor(e){let{sender:t,receiver:n}=e;this.postMessenger=void 0,this.postMessenger=new El({id:"external-request-controller",sender:t,receiver:n}),this.attachListeners()}destroy(){this.postMessenger.destroy()}request(e){return this.postMessenger.sendRequest(pl.xhrRequest,e).then(e=>{let{success:t,error:n,data:r}=e;if(n)throw r;return r})}attachListeners(){this.postMessenger.on("Command",e=>{e.commandName===pl.xhrRequest&&_l.performRealRequest(e.params).promise.then(t=>{e.sendAnswer({success:!0,data:t})}).catch(t=>{const n={message:t.message,stack:t.stack,status:t.status};e.sendAnswer({error:!0,data:n})})})}}const Sl="WEB";let Rl;!function(e){e.OK="OK",e.SLOW="SLOW",e.UNKNOWN="UNKNOWN"}(Rl||(Rl={}));const Al=5e5;var Tl=e(8558);const Ol=10,bl={min:1,max:1/0},Il={min:0,max:1};var Pl=e(5654);const Cl=(0,Fn.I)(()=>it(Pl.toString()));var wl=e(4007);const Nl=function(e){return void 0===e&&(e=window),(0,zr.i)(e).toLowerCase().indexOf("web0s")>-1}(),kl=Os(window);var Ll=e(3424),Dl=e(2646);const Ml={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkabflags:0,adsdkuaas:0,"aim-banner-id":0,"aim-design-id":0,"aim-design-name":0,"aim-subdesign-id":0,adsdkhoneypotforced:0,adsdkgrforced:0},Fl=(ct(Ml),{}),xl=(0,Dl.F)(document);for(const{location:e}of xl){const t=(0,So.FW)(e);(0,sr.M)(t,(e,t)=>{0===Ml[t]&&(Fl[t]=e)})}const Ul=(""+ft(window,"adsdkecmaver")).toUpperCase(),Vl="ES2017"===Ul||"ES5"===Ul?Ul:void 0,jl="ES2017"===Vl?"ES2017":"ES5"===Vl?"ES5":kl?"ES2017":"ES5";var Bl=e(8247);const Yl={ES5:"bundles",ES2017:"bundles-es2017"},Kl=pt(pt({},{InPage:"inpage",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"}),{MotionTGO:"motion_ad_creative",MotionTailor:"motion_tailor_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",SurveyOldDesignAdCreative:"survey_old_design_ad_creative"}),Gl="undefined"===typeof BUNDLES_PATH?"":BUNDLES_PATH,Hl="undefined"===typeof BUNDLE_NAME?"Test":BUNDLE_NAME,Zl=("undefined"===typeof BUILD_TIME||BUILD_TIME,["aw","ap","s-a","d-sd","k-j","s"].join("")),Wl=["a","n.ya","nd","ex.ru"].join(""),ql=(["y","a","nde","x.ru"].join(""),["ya","sta","tic.net"].join("")),Jl=(["ver","ify.y","a","nde","x.ru"].join(""),"https://"+ql+"/"+Zl+"-bundles/"),Xl=e=>e instanceof Error||"Error"===(0,Cr.M)(e),zl=ft(window,"adsdkuaas"),Ql=(e,t,n)=>{for(let r=0;r<e.length;r++)t.call(n,e[r],r,e)},$l=function(e,t){let n=e[t];if(!yt(n)){const r=n;try{delete e[t];const a=e[t];"function"===typeof a&&(n=a),e[t]=r}catch(xa){}}return n}(Array,"isArray"),ec=Boolean($l)?e=>$l.call(Array,e):e=>"Array"===(0,Cr.M)(e);var tc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const nc={testIds:"",flags:{}};const rc=vt(()=>{try{return null!==zl&&void 0!==zl?zl:__UAAS_CFG__}catch(e){return e}}),ac=e=>{if(Xl(e))return{error:e,config:nc};try{const t=ut(e)?e:JSON.parse(""+(e||"")),n=(e=>!!ut(e)&&!(!("expFlags"in e)||!ec(e.expFlags)))(t)?(e=>{const{expFlags:t}=e,n=tc(e,["expFlags"]),r={},a={};return Ql(e.expFlags,e=>{Ql(e,e=>{let{CONTEXT:{FLAGS:t},TESTID:n}=e;ut(t)&&Ql(ct(t),e=>{var i;const o=t[e];r[e]=o,a[e]=null!==(i=a[e])&&void 0!==i?i:[],a[e].push({value:o,testId:n[0]})})})}),_t({flags:r,flagsMap:a},n)})(t):t;if(!((e,t)=>{if(!ut(t))throw new Error("Parsed replaced macro is not an object: "+e);if(Et(t.testIds),!("flags"in t)||!ut(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0})(String(e),n))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:n}}catch(nu){return{error:nu,config:nc}}},ic=vt(()=>ac(rc())),oc=(e,t,n)=>{const r=[];for(let a=0;a<e.length;a++){const i=e[a];t.call(n,i,a,e)&&r.push(i)}return r},sc=e=>ut(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),lc=(e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t},cc=[].find,dc=yt(cc)?(e,t)=>cc.call(e,t):(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(t(r,n,e))return r}};let uc=document.currentScript;if(!uc){const e=(0,Hr.w)(document.getElementsByTagName("script"));uc=dc(e,sc),uc||(uc=e[e.length-1])}const hc=uc;let fc;try{fc={build:9279,code:[{id:9279,percent:100}]}}catch(xa){fc={}}const pc=fc.build,mc="VAS",gc=e=>Je(String(e%Math.pow(10,4)),4,"0"),vc=hc?hc.src:"",Ec="AdSDKLoader"===Hl;class yc{constructor(e,t){Object.defineProperty(this,"vasUaasConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abFlags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"initialAbFlags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"activeTestIds",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"initialActiveTestIds",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"activeFlags",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"getFlagValueAndActivateTestId",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.abFlags[e],n=this.vasUaasConfig.flagsMap,r=this.vasUaasConfig.testIds;return r&&n&&n[e]&&Ql(n[e],n=>{let{value:a,testId:i}=n;if(a===t){const t=dc(r.split(";"),e=>0===e.indexOf(i));t&&(o=this.activeTestIds,s=t,-1===o.indexOf(s))&&(this.activeTestIds.push(t),this.activeFlags.add(e))}var o,s}),t}}),Object.defineProperty(this,"getActiveTestIds",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.activeTestIds}),Object.defineProperty(this,"isTestIdActivated",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.activeFlags.has(e)}),Object.defineProperty(this,"__setAbFlags",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.abFlags=e}}),Object.defineProperty(this,"__restoreAbFlags",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.abFlags=this.initialAbFlags}}),Object.defineProperty(this,"__setActiveTestIds",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.initialActiveTestIds=this.activeTestIds,this.activeTestIds=e}}),Object.defineProperty(this,"__restoreActiveTestIds",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.activeTestIds=this.initialActiveTestIds}}),this.vasUaasConfig=e,this.abFlags=t,this.initialAbFlags=t}getNumberFlagValueAndActivateTestId(e){const t=this.getFlagValueAndActivateTestId(e),n=Number(t);return h(n)?n:void 0}}var _c=e(2202);(0,e(2625).r)(window);const Sc=ft(window,"adsdkdebug"),Rc=Boolean(Sc),Ac=ft(window,"adsdktracelogs"),Tc=(Boolean(Ac),(0,el.n)({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window}),function(){var e,t,n,r,a,i,o;const s=hc?hc.__AD_SDK_SCRIPT_SESSION_PARAMETERS__:void 0;hc&&(e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__})(hc);const l=(e=>{let t;return{rootFields:dt(()=>(e=>{if(ut(e)){const t={},{vsid:n,contentPlayerVersion:r,pcodeVersion:a,widgetVersion:i}=e;if(st(n)&&(t.vsid=n),st(r)&&(t.contentPlayerVersion=r),st(a)&&(t.pcodeVersion=a),st(i)&&(t.widgetVersion=i),ct(t).length>0)return t}return})(e),e=>{t=e})||void 0,extractionError:t}})(null===s||void 0===s?void 0:s.STATS_ROOT_PARAMS),{config:c,parsingError:d}=function(e){let t,n=(null===e||void 0===e?void 0:e.VAS_UAAS_CONFIG)||nc;try{const e=ic();if(e.error)throw e.error;n=e.config}catch(xa){t=xa}return{config:n,parsingError:t}}(s),u=vc?(0,So.en)(vc).hostname:void 0,{src_domain:h}=c,f=Ec&&("an"===h||u===Wl)||(null===s||void 0===s?void 0:s.LOADER_LOADED_FROM_AN_YANDEX_RU),p=function(e,t){var n;const r=e.flags,a=null!==(n=null===t||void 0===t?void 0:t.AB_FLAGS)&&void 0!==n?n:{};0;const i=(0,So.dD)(location.search).adsdkabflags,o=ft(_c.h,"adsdkabflags"),s=null!==i&&void 0!==i?i:o,l=(0,Bn.H)(s)?function(e,t,n){let r=0;arguments.length<3&&(r=1,n=e[0]);for(;r<e.length;r++)n=t(n,e[r],r,e);return n}(s.split(","),(e,t)=>{const[n,r]=t.split("=");return At(At({},e),{[n]:r})},{}):{};return At(At(At(At({},{}),r),a),l)}(c,s),m=(null===s||void 0===s?void 0:s.AB_FLAGS_STORE)||new yc(c,p);m.getFlagValueAndActivateTestId("ADSDKVER");const g=(null===(e=null===l||void 0===l?void 0:l.rootFields)||void 0===e?void 0:e.vsid)||(null===s||void 0===s?void 0:s.VSID)||function(e){void 0===e&&(e=pc);return[(0,tl.a)(44),mc,gc(e),Je(Date.now().toString().slice(0,10),10,"0")].join("x")}();Rt(((null===(t=null===l||void 0===l?void 0:l.rootFields)||void 0===t?void 0:t.vsid)||(null===s||void 0===s?void 0:s.VSID)?"Use VSID from session":"Generate new VSID")+" ["+g+"]");const v=(null===s||void 0===s?void 0:s.SID)||(0,tl.a)(64);Rt(((null===s||void 0===s?void 0:s.SID)?"Use existing SID":"Generate new SID")+" ["+v+"]");const E=null!==(n=null===s||void 0===s?void 0:s.VAS_USER_SESSION_RANDOM)&&void 0!==n?n:(0,Er.M)(),y=(null===s||void 0===s?void 0:s.ICOOKIE)||c.iCookie,_=(null===s||void 0===s?void 0:s.AdditionalStatsRootFields)||l.rootFields||void 0,S=(null===s||void 0===s?void 0:s.TEST_IDS)||(null===c||void 0===c?void 0:c.testIds)||void 0,R=null!==(r=Tt(m.getFlagValueAndActivateTestId("VAS_IMPORTANT_EVENTS_DEFAULT_SAMPLING_RATIO")))&&void 0!==r?r:1,A=null!==(a=Tt(m.getFlagValueAndActivateTestId("VAS_USUAL_EVENTS_DEFAULT_SAMPLING_RATIO")))&&void 0!==a?a:.01,T=null!==(i=Tt(m.getFlagValueAndActivateTestId("VAS_EVENTS_MILLI_SAMPLING_RATIO")))&&void 0!==i?i:.001,O=Rc||c.isInternalNetwork||!1,b=O?R:A,I=O?R:T;return{SID:v,VSID:g,VAS_USER_SESSION_RANDOM:E,AB_FLAGS:p,AB_FLAGS_STORE:m,ICOOKIE:y,TEST_IDS:S,VAS_UAAS_CONFIG:c,VAS_UAAS_CONFIG_ParseError:d,AdditionalStatsRootFields:_,AdditionalStatsRootFieldsExtractionError:l.extractionError,LOADER_LOADED_FROM_AN_YANDEX_RU:f,STATS_ROOT_PARAMS:null!==(o=null===s||void 0===s?void 0:s.STATS_ROOT_PARAMS)&&void 0!==o?o:{},LOG_PROBABILITY_FOR_IMPORTANT_EVENTS:R,LOG_PROBABILITY_FOR_DEFAULT_EVENTS:A,LOG_PROBABILITY_MILLI_VALUE:T,LOG_PROBABILITY:b,LOG_PROBABILITY_MILLI:I,IS_DEBUG_LOG_TO_STATS_ENABLED:O,isRumEnabledByLogProbability:!1}}()),Oc=(Tc.AB_FLAGS_STORE,Tc.VSID,Tc.SID);let bc;const Ic=e(8139),Pc="DEFAULT_ERROR_MESSAGE",Cc=0,wc="",Nc="?:?:?",kc=!0;class Lc extends Error{constructor(e,t){void 0===t&&(t={});const n="object"===typeof e?e:{message:String(e||Pc)};super(),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isFatal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"toString",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"toJSON",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Ic(this,Lc.prototype),this.message=t.message||n.message||Pc,this.code=t.code||n.code||n.id||Cc,this.isFatal=Boolean(function(e){const[t]=oc(e,e=>void 0!==e);return t}([t.isFatal,n.isFatal,kc])),this.details=t.details||n.details||wc;const r=t.stack||n.stack||function(e){const{url:t,line:n,col:r,fileName:a,columnNumber:i,lineNumber:o}=e;return(t||a||"?")+":"+(n||o||"?")+":"+(r||i||"?")}(n);let a=r===Nc?this.stack:r;if(a&&a!==Nc)this.stack=a;else if(!this.stack)try{throw new Error(this.message)}catch(xa){this.stack=a=xa.stack||Nc}this.toString=()=>Ot(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:a})}}class Dc extends Lc{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const n=t.message||e.message,r=t.code||e.code;super(e,bt(bt({},t),{message:"AdSDK Error ["+r+"]"+(n?"["+n+"]":"")}))}}class Mc{constructor(e){Object.defineProperty(this,"dispatch",{enumerable:!0,configurable:!0,writable:!0,value:vt(e=>{this.value=e,this._isDispatched=!0,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ec(e)&&Ql(e,e=>{"function"===typeof e&&e(...n)})}(this.callbacks,e),this.callbacks.length=0})}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isDispatched",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,or.m)(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),It):(this.callbacks.push(e),()=>{this.callbacks=oc(this.callbacks,t=>t!==e)})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise(e=>{this.subscribe(e)})}}const Fc=e=>{const t=new Mc;return{promise:new Promise((n,r)=>{e({resolve:n,reject:r,subscribeForTeardown:e=>{t.subscribe(e)}})}),teardown:()=>t.dispatch(void 0)}};var xc=e(1070);e(6836);class Uc{constructor(e){let{defaultProbability:t,rnd:n,vsid:r}=e;Object.defineProperty(this,"rnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"vsid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultProbability",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:e=>{let{error:t,getTagsAndLabels:n}=e;this.push({eventName:String(t.code),eventType:"error",eventData:t,probability:1,getTagsAndLabels:n})}}),this.rnd=n,this.vsid=r,this.defaultProbability=t}event(e){let{name:t,probability:n,data:r,getTagsAndLabels:a}=e;this.push({eventType:"event",eventName:t,probability:n,eventData:r,getTagsAndLabels:a})}push(e){let{eventType:t,eventName:n,probability:r=this.defaultProbability,eventData:a,getTagsAndLabels:i}=e;if(this.rnd<r){const e="https://log.strm.yandex.ru/log?"+t+"="+n,{tags:r,labels:o}="function"===typeof i?i(t,n):{tags:{},labels:{}},s=JSON.stringify({service:"VAS",eventType:t,eventName:n,rnd:this.rnd,vsid:this.vsid,data:a,tags:Pt({[t+"_"+n]:1},r),labels:Pt({},o),topLocation:(0,sl.w)(document).location});0;if((0,xc.P)(e,s))return;(0,fl.W)({url:e,data:s,method:"POST"})}}}const Vc=Rc||Tc.VAS_UAAS_CONFIG.isInternalNetwork||!1?1:.05,jc=e=>{var t,n,r;const a=null===(r=null===(n=null===(t=e.ya)||void 0===t?void 0:t.videoAd)||void 0===n?void 0:n.getBundleVersion)||void 0===r?void 0:r.call(n),i=parseInt(null!==a&&void 0!==a?a:"",10);if(Nt(i))return i},Bc=e=>{let{win:t,moduleName:n,vasLoaderUrl:r,scriptSessionParams:a,resolve:i,reject:o,subscribeForTeardown:s,loaderFunctionsStatsWrapper:l}=e;const{promise:c,teardown:d}=(e=>{let{win:t,vasLoaderUrl:n,scriptSessionParams:r}=e;const a=jc(t);if(void 0!==a)return{promise:Promise.resolve({resolveType:"Preloaded Loader",version:a,loadTry:void 0}),teardown:It};const{promise:i,teardown:o}=Fc(e=>{let{resolve:a,reject:i,subscribeForTeardown:o}=e,s=!1,l=0;o(()=>{s=!0}),y({src:n,win:t,retries:3,dropCacheOnRetry:!0,onBeforeLoad:e=>{l++,lc(e,r),s?wt(e):o(()=>{wt(e)})},onLoad:()=>a({loadTry:l}),onError:e=>i(e)})});return{promise:i.then(e=>{let{loadTry:n}=e;const r=jc(t);return void 0===r?{resolveType:"none",version:void 0,loadTry:void 0}:{resolveType:"Loaded Loader",version:r,loadTry:n}}),teardown:o}})({vasLoaderUrl:r,win:t,scriptSessionParams:a});s(d),c.then(e=>{let{version:r}=e;if(void 0===r)l.error({error:new Dc({code:"LOAD_VAS_MODULE_CANNOT_RESOLVE_VERSION",details:{}})}),o(new Dc({code:"VAS_LOADER_FUNCTION_CANNOT_RESOLVE_VERSION",details:{}}));else{const{promise:e,teardown:r}=(e=>{let{win:t,moduleName:n}=e;var r,a;const i=null===(a=null===(r=t.ya)||void 0===r?void 0:r.videoAd)||void 0===a?void 0:a.loadModule;return"function"===typeof i?Fc(e=>{let{resolve:t,reject:r,subscribeForTeardown:a}=e;const o=i(n);a(()=>r(new Error("Teardown was called"))),o.then(t).catch(r)}):{promise:Promise.reject(new Dc({code:"VAS_LOADER_FUNCTION_NO_GLOBAL_LOAD_MODULE_FN",details:{}})),teardown:It}})({win:t,moduleName:n});s(r),e.then(i).catch(o)}}).catch(o)};let Yc=-1;const Kc={subpageIndex:Mt(),deltas:{}};class Gc extends Zn{constructor(e,t){super(e,t)}}var Hc=e(5791);const Zc=(0,Hc.N)(),Wc=Zc>-1&&Zc<=15,qc=(e,t)=>t.location.hash=e;var Jc=e(5971);const Xc=["adsdkver","adsdkdebug","videoplayer-modern-bundle-forced-mode"],zc=bs?"frame.v2.modern.html":"frame.v2.html",Qc=[Kn.NO_CODECS,Kn.UNSUPPORTED_ENV,Kn.CONFIG,Kn.NETWORK_PLAYER],$c=Xt({},{onReady:!1,onResourcesIdle:!1,onInit:!1,onInitError:!1,onVolumeChange:!1,onFullScreenChange:!1,onVisualStateChange:!1,onStartStageChange:!1,onNextAdRemainingTimeChange:!1,onVideoClickerEvent:!1,onAdSDKVersionDefined:!1,onStreamsWithSupportInfoChange:!1,onNetworkStatusChange:!1,onLogEvent:!1,onPreloadSourceResolve:!1,onPreloadSourceReject:!1,onBandwidthEstimateChange:!1},{onChangeStream:!0,onDrmSystemChange:!0,onStateChange:!0,onAdStateChange:!0,onBeforeAdPodStart:!0,onAdPodStart:!0,onAdPodSkip:!0,onAdPodEnd:!0,onAdSkippableStateChange:!0,onAdVolumeAvailabilityStateChange:!0,onAdPodCloseStateChange:!0,onAdPodDurationChange:!0,onAdPodCurrentTimeChange:!0,onAdPodTimeToSkipChange:!0,onAdInteraction:!0,onPositionChange:!0,onTimelineInfoChange:!0,onError:!0,onRecover:!0,onVideoTrackChange:!0,onVideoTracksChange:!0,onAudioTrackChange:!0,onAudioTracksChange:!0,onTextTrackChange:!0,onTextTracksChange:!0,onSubtitlesChange:!0,onThumbnailTileGeneralMetaInfoChange:!0,onVideoTypeChange:!0,onVideoSizeChange:!0,onOriginalBroadcastAdStateChange:!0,onContentImpression:!0,onBufferingRangesChange:!0,onPlaybackRateChange:!0,onEngineChange:!0}),ed=[{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],td=["from_block","stream_block"];let nd;!function(e){e.PLAY="PLAY",e.PAUSE="PAUSE",e.PREVENT_ACTIONS="PREVENT_ACTIONS",e.CALL_NEXT="CALL_NEXT"}(nd||(nd={}));const rd=()=>e=>{let{next:t}=e;t({actionType:nd.PREVENT_ACTIONS})},ad=e=>{let{settings:t}=e;return void 0===t?rd():e=>{let{next:t,getState:n}=e;const{visualState:r}=n();return r.isFullScreen?t({actionType:r.isDocumentVisible?nd.PLAY:nd.PAUSE}):t({actionType:nd.CALL_NEXT})}},id=e=>{let{settings:t}=e;return void 0===t?rd():e=>{let{next:t,getState:n}=e;const{visualState:r}=n();return t({actionType:(r.isVisibilitySupported?r.isElementVisible:r.isDocumentVisible)?nd.PLAY:nd.PAUSE})}},od=e=>{let{settings:t}=e;return void 0===t?rd():e=>{let{next:n,getState:r}=e;return t.onlyMuted&&!r().muted?n({actionType:nd.PREVENT_ACTIONS}):n({actionType:nd.CALL_NEXT})}},sd=e=>{let{settings:t}=e;return void 0===t?rd():e=>{let{next:t,getState:n}=e;return n().visualState.isPip?t({actionType:nd.PREVENT_ACTIONS}):t({actionType:nd.CALL_NEXT})}},ld=(e,t,n,r)=>function(){try{return t.apply(n||this,arguments)}catch(xa){if((0,or.m)(r)&&r(xa),!0===xa.preventProtect)throw xa;ld.log(xa,e)}};ld.log=function(e,t){console.log("LOG:"+t+":"+e)},ld.setTimeout=(e,t,n,r)=>window.setTimeout(ld("timeout",e,n,r),t);class cd{}cd.YaContextCallbacks=$t("Ya.C","ontext._callbacks"),cd.YaContextCallbacksCalls=$t("Ya.C","ontext._callbacks_call"),cd.AdvManager=$t("A","dvManager"),cd.AdvBlock=$t("A","dvBlock"),cd.RTB=$t("R","TB"),cd.Rtb=$t("R","tb"),cd.MetrikaAdtune=$t("metrika_a","dtune");const dd=function(e,t){return void 0===t&&(t={}),(n,r)=>{let a;const i={portion:void 0!==t.portion?t.portion:0,interval:void 0!==t.interval?t.interval:300,overlappedPoints:void 0!==t.overlappedPoints?t.overlappedPoints:[[0,0]]},o=e({portion:Math.max(Number.MIN_VALUE,i.portion),interval:i.interval,overlappedPoints:i.overlappedPoints,element:n,callback:ld("visibilityObserver",e=>{a!==e&&(a=e,r(e))})});if(!o)throw new Error("visibilityObserver: no strategy");return o.start(),(0,Fn.I)(()=>o.stop())}};class ud{constructor(e){this.args=e,this.runningCount=0,this.callback=(e,t)=>{const n=e+1;t?n===this.strategies.length?this.args.callback(t):n===this.runningCount&&this.startNext():(this.stopUntil(n),this.args.callback(t))},this.strategies=(0,Tl.U)(e.strategyFactories,(e,t)=>e(e=>this.callback(t,e)))}static from(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{const n=[];for(const r of t){let t=()=>null;const a=r(en({},e,{callback:e=>t(e)}));if(!a)return null;n.push(e=>(t=e,a))}return new ud({callback:e.callback,strategyFactories:n})}}start(){!this.runningCount&&this.strategies.length&&this.startNext()}stop(){this.stopUntil(0)}get isDetermined(){for(const e of this.strategies)if(!e.isDetermined)return!1;return!0}getIsVisible(){for(let e=0;e<this.strategies.length;e++)if(!this.strategies[e].getIsVisible())return!1;return!0}startNext(){this.strategies[this.runningCount++].start()}stopUntil(e){for(;this.runningCount>e;)this.strategies[--this.runningCount].stop()}}let hd="hidden",fd="visibilitychange";if(!(hd in document)){const e=["webkit","moz","ms","o"];for(const t of e){const e=t+"Hidden";if(e in document){hd=e,fd=t+"visibilitychange";break}}}const pd=new class{constructor(e){void 0===e&&(e=window),this.windowObj=e,this.initYaBrowserApi()}canUseYaBroApi(){return Boolean(this.yaBroApiInstance&&this.yaBroApiInstance.isInCustoPage)}isPageHiddenYaBroApi(){return!(this.yaBroApiInstance&&this.yaBroApiInstance.pageVisible)}initYaBrowserApi(){this.windowObj.browser&&this.windowObj.browser.BrowserEmbeddedApi&&this.windowObj.browser.BrowserEmbeddedApi.getInstance().then(e=>{this.yaBroApiInstance=e})}};class md{constructor(e){this.args=e,this.isDetermined=!0,this.onVisibilityChangeCallback=()=>{this.args.callback(this.getIsVisible())}}static factory(e){return new md(e)}start(){this.timer=window.setTimeout(()=>{this.onVisibilityChangeCallback(),this.subscription=function(e,t,n,r,a){if(!e||!n)return null;let i=rn(ld("handler:"+t,n,r));const o={un(){zn(e,t,i)}};var s;return a&&a.once&&!Qn&&(s=i,i=function(e){s.call(this,e),an(o)}),Xn(e,t,i,$n?a:a&&a.capture),o}(document,fd,this.onVisibilityChangeCallback)})}stop(){window.clearTimeout(this.timer),an(this.subscription)}getIsVisible(){return!(pd.canUseYaBroApi()?pd.isPageHiddenYaBroApi():Boolean(document[hd]))}}const gd=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}(),vd=e=>{try{const{left:t,right:n,top:r,bottom:a}=e.getBoundingClientRect();return{left:t,right:n,top:r,bottom:a,width:n-t,height:a-r}}catch(xa){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};class Ed{constructor(e){this.args=e,this.isDetermined=!0,this.callback=e=>{const t=e[0].intersectionRatio>=this.observer.thresholds[0];this.args.callback(t)},this.threshold=Math.max(2**-149,this.args.portion),this.observer=new IntersectionObserver(this.callback,{threshold:this.threshold})}static factory(e){return"undefined"===typeof IntersectionObserver?null:"thresholds"in IntersectionObserver.prototype&&e.element?new Ed(e):null}start(){this.observer.observe(this.args.element)}stop(){this.observer.disconnect()}getIsVisible(){return e=this.args.element,t=this.threshold,gd?e.offsetWidth>0&&e.offsetHeight>0:sn(e)>=(t||Number.MIN_VALUE);var e,t}}class yd extends class{constructor(e){this.args=e,this.isDetermined=!0}start(){this.timer=window.setInterval(ld("visibilityObserver",()=>{this.args.callback(this.isVisible())}),this.args.interval)}stop(){window.clearInterval(this.timer)}getIsVisible(){return this.isVisible()}}{constructor(e){super(e),this.args=e,this.windowChain=(0,Ll.T)(window).reverse();try{this.isDetermined=Boolean(window.top.location.hostname)}catch(xa){this.isDetermined=!1}}static factory(e){return e.element?new yd(e):null}isVisible(){const e=vd(this.args.element),t=e.width*e.height;if(t<=0)return!1;const n=function(e,t,n){let r=0;for(arguments.length<3&&(r=1,n=e[0]);r<e.length;r++)n=t(n,e[r],r,e);return n}(this.windowChain,(e,t)=>this.getFrameVisiblePart(t,e),void 0),r=Math.max(e.left,n.left),a=Math.max(e.top,n.top);return(Math.min(e.right,n.right)-r)*(Math.min(e.bottom,n.bottom)-a)>=Math.floor(t*this.args.portion)}getFrameVisiblePart(e,t){if(!t||!e.frameElement)return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight};const n=vd(e.frameElement);return{left:Math.max(t.left-n.left,0),right:e.innerWidth-Math.max(n.right-t.right,0),top:Math.max(t.top-n.top,0),bottom:e.innerHeight-Math.max(n.bottom-t.bottom,0)}}}let _d=null;try{"undefined"!==typeof IntersectionObserver&&(_d=ud.from(class{static from(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{for(const n of t){const t=n(e);if(t)return t}return null}}}.from(Ed.factory,yd.factory),md.factory))}catch(ru){}class Sd extends Hs{constructor(e,t){super(),this.visibilityThreshold=-1,this.state={isPip:!1,isFullScreen:!1,isDocumentVisible:(0,Wn.s)(document),isElementVisible:null===_d,isVisibilitySupported:null!==_d},this.element=void 0,this.observe=e=>(this.on("Change",e),()=>this.off("Change",e)),this.notifyDocumentVisibility=e=>{this.state.isDocumentVisible!==e&&(this.state=ln({},this.state,{isDocumentVisible:e}),this.handleChange())},this.notifyElementVisibility=e=>{this.state.isElementVisible!==e&&(this.state=ln({},this.state,{isElementVisible:e}),this.handleChange())},this.element=e,this.state.isDocumentVisible=(0,Wn.s)(e.ownerDocument),t&&(this.visibilityThreshold=Math.min(t.threshold,.99)),this.observeVisibility()}notifyFullScreen(e){this.state.isFullScreen!==e&&(this.state=ln({},this.state,{isFullScreen:e}),this.handleChange())}notifyPip(e){this.state.isPip!==e&&(this.state=ln({},this.state,{isPip:e}),this.handleChange())}destroy(){this.emit("Destroy"),this.off("Change")}getState(){return this.state}observeVisibility(){if(this.state.isVisibilitySupported)try{const e=dd(_d,{portion:this.visibilityThreshold})(this.element,this.notifyElementVisibility);this.once("Destroy",e),this.once("Restart",e),this.once("Restart",()=>this.off("Destroy",e))}catch(e){this.state.isVisibilitySupported=!1,this.state.isElementVisible=!0}try{const e=dd(ud.from(md.factory))(this.element,this.notifyDocumentVisibility);this.once("Destroy",e),this.once("Restart",e),this.once("Restart",()=>this.off("Destroy",e))}catch(e){}}restart(){this.emit("Restart"),this.observeVisibility()}handleChange(){this.emit("Change",this.state)}}class Rd{constructor(e){let{element:t,togglePlaybackVisibilitySetting:n,playerStateAdaptor:r,playPauseController:a}=e;this.visibilityObserver=void 0,this.playerStateAdaptor=void 0,this.playPauseController=void 0,this.middlewareInitParams=void 0,this.middlewareList=void 0,this.destroyCallbacks=void 0,this.lastChainId=0,this.done=e=>{switch(e.actionType){case nd.PLAY:return this.playPauseController.play();case nd.PAUSE:return this.playPauseController.pause();case nd.PREVENT_ACTIONS:case nd.CALL_NEXT:return}},this.destroyCallbacks=[],this.visibilityObserver=new Sd(t,n),this.playPauseController=a;const i=this.visibilityObserver.observe(()=>{this.emitChange()}),o=r.onChange(()=>{this.emitChange()});this.playerStateAdaptor=r,this.destroyCallbacks.push(i,o,()=>this.visibilityObserver.destroy()),this.middlewareInitParams={settings:n},this.middlewareList=n?[id(this.middlewareInitParams),ad(this.middlewareInitParams),sd(this.middlewareInitParams),od(this.middlewareInitParams)]:[]}appendMiddleware(e){this.middlewareList.unshift(e(this.middlewareInitParams))}prependMiddleware(e){this.middlewareList.push(e(this.middlewareInitParams))}observeVisualState(e){return this.visibilityObserver.observe(e)}restartVisibilityObserver(){return this.visibilityObserver.restart()}getVisualState(){return this.visibilityObserver.getState()}notifyFullScreen(e){this.visibilityObserver.notifyFullScreen(e)}notifyPip(e){this.visibilityObserver.notifyPip(e)}destroy(){this.destroyCallbacks.forEach(e=>e())}emitChange(){const e=++this.lastChainId,t=cn({},this.playerStateAdaptor.getState(),{visualState:this.visibilityObserver.getState()}),n=()=>t;this.middlewareList.reduce((t,r)=>()=>{r({getState:n,next:(0,Fn.I)(n=>{if(e===this.lastChainId)return n.actionType===nd.CALL_NEXT?t():this.done(n)})})},qn.Z)()}}class Ad{actualizeAutoplay(e){this.expectedAutoplay=e}constructor(e){let{play:t,pause:n,togglePlaybackVisibilitySetting:r,autoplay:a,playerStateAdaptor:i,logEvent:o}=e;this.play=void 0,this.pause=void 0,this.destroy=void 0,this.paused=!1,this.wasEverPlaying=!1,this.pausedViaController=!1,this.expectedAutoplay=!1,this.expectedAutoplay=a,this.paused=!dn(i.getState()),this.play=()=>{(function(e){let{playingState:t,togglePlaybackVisibilitySetting:n,autoplay:r,wasEverPlaying:a}=e;return!!n&&(a?!dn({playingState:t}):(n.forceAutoplay||r)&&!un({playingState:t}))})(hn({},i.getState(),{togglePlaybackVisibilitySetting:r,autoplay:this.expectedAutoplay,wasEverPlaying:this.wasEverPlaying}))&&(!this.pausedViaController&&this.wasEverPlaying||(this.pausedViaController=!1,t(),o("PlayVideoOnVisibilityChange")))},this.pause=()=>{this.paused||(this.pausedViaController=!0,this.paused=!0,n(),o("PauseVideoOnVisibilityChange"))},this.destroy=i.onChange(()=>{const e=i.getState(),t=dn(e);this.wasEverPlaying=un(e)&&(e.hasWatchedTime||e.adState.state===ia.PLAYING)||this.wasEverPlaying,this.paused=!t,t&&(this.pausedViaController=!1)})}}class Td{constructor(e){this.playerApi=void 0,this.handlers=void 0,this.previousWatchedTime=0,this.emitChange=()=>{this.handlers.forEach(e=>e())},this.emitWatchedTimeChange=e=>{let{watchedTime:t}=e;(this.previousWatchedTime>0&&0===t||0===this.previousWatchedTime&&t>0)&&this.emitChange(),this.previousWatchedTime=t},this.playerApi=e;if(!e.getState())throw new Error("PlayerStateAdaptorV2 should use only inited PlayerApi");this.handlers=[],this.playerApi.on(mr.WatchedTimeChange,this.emitWatchedTimeChange),this.playerApi.on(mr.PlayingStateChange,this.emitChange),this.playerApi.on(mr.MutedChange,this.emitChange),this.playerApi.on(mr.AdStateChange,this.emitChange)}getState(){const e=this.playerApi.getState();return{hasWatchedTime:e.watchedTime>0,muted:e.muted,playingState:e.playingState,playingStateReason:e.playingStateReason,adState:e.adState}}onChange(e){return this.handlers.push(e),()=>{this.handlers=this.handlers.filter(t=>t!==e)}}destroy(){this.playerApi.off(mr.WatchedTimeChange,this.emitWatchedTimeChange),this.playerApi.off(mr.PlayingStateChange,this.emitChange),this.playerApi.off(mr.MutedChange,this.emitChange),this.playerApi.off(mr.AdStateChange,this.emitChange),this.handlers=[]}}const Od="#FFCC00",bd=navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;var Id=e(9816);const Pd=function(e){void 0===e&&(e=window);const{platform:t=""}=e.navigator||{};return function(e){void 0===e&&(e=window);const{vendor:t=""}=e.navigator||{};return 0===t.indexOf("Google")}(e)&&!be(e)&&0===t.indexOf("Linux ")&&(0,Id.b)(e)}(),Cd=[["XiaoMi/MiuiBrowser",11],["UCBrowser",12],["HuaweiBrowser",9]],wd=(function(e){void 0===e&&(e=window);const{major:t,minor:n}=function(e){void 0===e&&(e=window);const t=(0,zr.i)(e).match(/AppleWebKit\/(\d+)\.(\d+)/);if(!t)return{major:-1,minor:-1};const[,n,r]=t;return{major:parseInt(n,10),minor:parseInt(r,10)}}(e),r=function(e){const t=(0,zr.i)(e).match(/Chrom(e|ium)\/([0-9]+)\./);return t?parseInt(t[2],10):-1}(e),a=be(e)}(window),function(e){return void 0===e&&(e=window),-1!==(0,Hc.N)(e)}());e(4392);(0,el.n)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});const Nd={position:"absolute",width:"100%",height:"100%",top:"0",left:"0"},kd=En({},Nd,{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",pointerEvents:"none"}),Ld=En({},Nd,{backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"});class Dd extends class{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r]=t;this._isDestroyed||(this._isDestroyed=!0,this._destroyReason=r,this.destroyHandlers.forEach(e=>e(...t)),this.destroyHandlers.length=0)}getIsDestroyed(){return this._isDestroyed}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let n=e;return function(){t.isDestroyed&&(n=qn.Z);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];n.apply(t,r)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}{constructor(e){let{container:t,onReady:n=qn.Z,preview:r}=e;super(),this.container=void 0,this.preview=void 0,this.onReady=void 0,this.preview=r,this.onReady=n,this.preview?(this.container=document.createElement("div"),this.init(),this.addDestroyHandler(()=>{(0,vr.L)(this.container),this.onReady=qn.Z}),t.appendChild(this.container)):this.onReady()}init(){k(this.container,kd);const e={backgroundImage:"url("+this.preview+")",backgroundColor:wd?"black":void 0};this.initBackground(e)}async initBackground(e){const t=document.createElement("div");k(t,Ld);const n=Ie(this.preview);wd&&await n,k(t,e),this.container.appendChild(t),n.then(()=>this.onReady()).catch(qn.Z)}}var Md=e(2055);const Fd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const{resolver:r,preparers:a}=yn(t);let i,o=null,s=null;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(o&&o.every((e,n)=>t[n]===e))return i;const l=a.map(e=>e(...t));if(s&&s.every((e,t)=>l[t]===e))return o=t,i;const c=r(...l);return o=t,s=l,i=c,c}},xd={xml:"http://www.w3.org/XML/1998/namespace",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},Ud={};(0,sr.M)({xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type"},(function(e,t){const n=e.split(":"),r=xd[n[0]];r&&(Ud[t]=r)}));const Vd="classList"in document.documentElement,jd=Fd(e=>e.classList&&e.classList.add,Ur.E),Bd=(Fd(e=>e.classList&&e.classList.remove,Ur.E),Fd(e=>e.classList&&e.classList.toggle,Ur.E),(()=>{const e=document.createElement("p");return!!Vd&&(e.classList.add("c1","c2"),!!e.classList.contains("c2")&&(e.classList.toggle("c3",!1),!e.classList.contains("c3")))})()),Yd=((()=>{const e=document.createElement("p");!!Vd&&(e.classList.toggle("a",!1),e.classList.contains("a"))})(),e=>e.split(" ").filter(e=>Boolean(e))),Kd=Bd?(e,t)=>{const n=Yd(t);e.classList.add(...n)}:(e,t)=>{const n=Yd(t);for(let r=0;r<n.length;r++)e.classList.add(n[r])};var Gd=e(856),Hd=e.n(Gd);const Zd=e(310),Wd=e(7792),qd=(0,Fn.I)(()=>it(Hd().toString())),Jd={display:"flex",position:"absolute",top:"0",left:"0",bottom:"0",right:"0",padding:"20px",color:"#fff",fontSize:"24px",textAlign:"center",justifyContent:"center",alignItems:"center"},Xd=[mr.SourceChange,mr.DrmSystemChange,mr.StreamChange,mr.StartStageChange,mr.PlayingStateChange,mr.VideoTypeChange,mr.UtcStartTimeChange,mr.CurrentTimeChange,mr.WatchedTimeChange,mr.LiveLatencyChange,mr.DurationChange,mr.DVRStartTimeChange,mr.DVRDurationChange,mr.VolumeChange,mr.MutedChange,mr.VolumeChangeReasonChange,mr.FullscreenStateChange,mr.PictureInPictureStateChange,mr.VisibleStateChange,mr.VideoSizeChange,mr.VideoTracksChange,mr.VideoTrackChange,mr.AudioTracksChange,mr.AudioTrackChange,mr.TextTracksChange,mr.TextTrackChange,mr.SubtitlesChange,mr.ErrorChange,mr.PlaybackRateRangeChange,mr.PlaybackRateChange,mr.AdStateChange,mr.NextAdRemainingTimeChange,mr.BufferedRangesChange,mr.TileMetaInfoChange,mr.TileMetaInfoUrlChange,mr.ConnectionQualityChange,mr.AdPodDurationChange,mr.AdPodCurrentTimeChange,mr.AdPodTimeToSkipChange,mr.AdPodFullyClickableStateChange,mr.AdSkippableStateChange,mr.AdPodCloseStateChange,mr.AdVolumeAvailabilityStateChange];class zd{constructor(e,t){this.state=void 0,this.state=On({},e);const n=e=>{On(this.state,e)};Xd.forEach(e=>{t(e,n)})}getState(){return this.state}}const Qd=["object"===typeof document&&document&&"onfreeze"in document?"pagehide":"beforeunload","unload"],$d=(0,Fn.I)(()=>W("web_adsdk_new_skin"));class eu extends class{constructor(e){this.handlers=Object.create(null),this.filters=Object.create(null),this.batchFn=e=>e(),(0,lr.K)(e)&&(0,or.m)(e.eventListenersBatch)&&(this.batchFn=e.eventListenersBatch)}on(e,t){fn((e,t)=>this.getHandlers(e).push(t),e,t)}once(e,t){fn((e,t)=>{const n=()=>{this.off(e,n),this.off(e,t)};this.getHandlers(e).push(t,n)},e,t)}off(e,t){const n=this.getHandlers(e),r=n.indexOf(t);-1!==r&&n.splice(r,1)}setFilter(e,t){this.filters[e]=t}unsetFilter(e){delete this.filters[e]}emit(e,t){const n=this.filters[e];n&&!n(t)||this.batchFn(()=>{this.getHandlers(e).slice().forEach(e=>{try{e(t)}catch(nu){setTimeout(()=>{throw nu},0)}})})}destroy(){(0,wo.Z)(this.handlers).forEach(e=>{this.handlers[e]=void 0})}getHandlers(e){return void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e]}}{publicEmit(e,t){if(e.indexOf("/")>-1)return this.emit(e,t);const n=new Error("Event "+e+" is invalid. Namespace is required: NAMESPACE/"+e);setTimeout(()=>{throw n},0)}emit(e,t){this.debug.logEvents&&console.log("[PLAYER] [EVENT]",e,t),super.emit(e,t)}getDebugConfig(){return this.debug}constructor(e){var t;if(super(e),this.skin=void 0,this.container=void 0,this.vsid=void 0,this.performOnIframeLoad=void 0,this.playingStateSynchronization=Tn(),this.iframe=void 0,this.playerNode=void 0,this.useFriendlyFrame=void 0,this.postMessenger=void 0,this.externalRequestController=void 0,this.visiblePlaybackController=void 0,this.getSourceConfigForRecover=void 0,this.store=void 0,this.errorScreen=void 0,this.reportConfig=void 0,this.additionalParams=void 0,this.setSourceDeferred=void 0,this.stats=void 0,this.playerTracker=void 0,this.setSourceStage=ba.LOADING,this.sourceIdSignal=new Zr(NaN,(e,t)=>!!isNaN(t)||!isNaN(e)&&t<=e),this.externalPlaybackCsrfToken=void 0,this.externalPlaybackTokenExpireTimeout=void 0,this.playerApiSourceConfig=void 0,this.loggingForExternalToolsAllowed=void 0,this.isReady=!1,this.debug={logCalls:!1,logEvents:!1,logInternals:!1},this.destroyed=!1,this.config=void 0,this.readyPendingEvents=[],this.nextPreloadRequestId=0,this.loadErrorScreen=()=>{return S({src:(e=da.i18nLang,Oe("error_screen_"+e+(bs?".modern":"")+".js",parseInt("1.0-9279".slice(4),10),!1)),retries:3,dropCacheOnRetry:!0,onBeforeLoad:e=>{e.crossOrigin="anonymous"},checkLoad:()=>(0,or.m)(da.initErrorScreen)}).catch(e=>{const t=new Pa(e).toJSON(),n=new Pa(In({},t,{details:{errorDetails:t.details},code:Hn.ERROR_SCREEN_LOAD_ERROR,isFatal:!1}));throw this.emitError(n,Be()),n});var e},this.sendReportToStats=async e=>{var t;let{reportId:n,reported:r}=e;const a=this.isReady?await this.requestDebugInfo():{vsid:this.vsid,version:"1.0-9279",clientTimestamp:Date.now(),streamUrl:null==(t=this.getState().stream)?void 0:t.url,system:rt(),playerApiState:this.getState()};!function(e){let{reportId:t,reported:n,stats:r,reportData:a}=e;r.logEvent({name:"ReportLog",data:{reportId:t,reported:n,reportData:xe(a)}})}({reportId:n,reported:r,stats:this.stats,reportData:a})},!(0,lr.K)(e))throw new Pa("Params is not an object");G(e);const n=e;var r;n.useNativeAdControls=$d()||(void 0===n.useNativeAdControls?void 0!==n.loadSkin:n.useNativeAdControls),this.vsid=(void 0===r&&(r=9279),[(0,tl.a)(44),Sl,Xe(r),Je(Date.now().toString().slice(0,10),10,"0")].join("x")),function(e){let{vsid:t}=e;Ie((0,So.Sr)("https://mc.yandex.ru/watch/37773110",{vsid:t}))}({vsid:this.vsid});const a=(0,Bn.H)(e.logUrl)?e.logUrl:void 0;this.stats=new ol({vsid:this.vsid,logUrl:a}),this.container=(()=>{try{return function(e){if(!(0,lr.K)(e))throw new Pa("paramsObject must be an object");if(!e.element)throw new Pa("paramsObject must have property [element]");const{element:t}=e;let n;if("string"===typeof t){const e=document.getElementById(t);if(!e)throw new Pa("cannot find element with id: ["+t+"]");n=e}else{if(!Br(t))throw new Pa("paramsObject.element must be a string or HTMLElement id");n=t}return n}(e)}catch(t){const e=new Pa(In({},new Pa(t).toJSON(),{code:Hn.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER,isFatal:!0}));throw this.emitError(e,Be()),e}})();const i=(()=>{try{return function(e){if(!(0,lr.K)(e))throw new Pa("paramsObject must be an object");return Eo.parse(e.lang)}(e)}catch(t){const e=new Pa(In({},new Pa(t).toJSON(),{code:Hn.INVALID_CONFIG_LANG_IN_CREATE_PLAYER,isFatal:!1}));return this.emitError(e,Be()),"ru"}})();var o,s;da.i18nLang=i,this.initErrorScreen(),this.prepareContainerNode(),this.useFriendlyFrame=Boolean(e.useFriendlyFrame),this.playerNode=this.createPlayerNode(),o=this.container,s=this.playerNode,o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s);const l=(()=>{try{return function(e,t){const n=ys.parse(e),{source:r}=n.streamPlayerParams;r.params.additionalParams.vsid=t,r.params.additionalParams=Re({},_o,r.params.additionalParams,{vsid:t});const{adConfig:a}=r.params;return void 0!==a&&void 0===a.skinType&&(a.skinType=oe(n)),r.streams=r.streams.map(e=>Re({},e,{drmConfig:e.drmConfig?ie(e.drmConfig,t):void 0,url:re({url:e.url,adConfig:r.params.adConfig,additionalParams:r.params.additionalParams})})),n}(e,this.vsid)}catch(t){const n=new Pa(t).toJSON(),r=new Pa(In({},n,{details:{errorDetails:n.details,config:(0,Yn.Y)(()=>xe(e))||"UNSERIALIZABLE"},code:Hn.INVALID_CONFIG_IN_CREATE_PLAYER,isFatal:!0}));throw this.emitError(r,Be()),(0,Yr.L)(t),(0,Yr.L)(r),r}})();this.config=l;const{source:c}=l.streamPlayerParams;this.playerApiSourceConfig=l.sourceConfig,this.once(mr.Destroy,function(e){const t=()=>Qd.forEach(e=>window.removeEventListener(e,n)),n=n=>{"pagehide"===n.type&&n.persisted||(e(n),t())};return Qd.forEach(e=>window.addEventListener(e,n)),t}(()=>this.destroyInternal(Sa.Unload))),this.stats.setRootFields({device:l.streamPlayerParams.device}),this.reportConfig=l.reportConfig,this.debug=l.debugConfig,this.store=this.initPlayerStore({config:l.streamPlayerParams,vsid:this.vsid}),this.initPlaybackTracker(),this.playerTracker=this.initPlayerTracker(l),this.once(mr.Destroy,()=>this.playerTracker.destroy());const d=this.iframe=ot({vsid:this.vsid,container:this.playerNode,useFriendlyFrame:l.streamPlayerParams.useFriendlyFrame});if(this.useFriendlyFrame&&function(e,t){try{K(e.contentWindow).initialStreamPlayerParams=t}catch(nu){console.warn&&console.warn(nu)}}(d,l.streamPlayerParams),this.useFriendlyFrame&&d.contentDocument){const e=new ca.CSPLogger({from:l.streamPlayerParams.source.params.additionalParams.from,slots:l.streamPlayerParams.source.params.additionalParams.slots,project:"video-player",version:"1.0-9279",yandexuid:Nr(document,"yandexuid"),yandex_login:Nr(document,"yandex_login")},{vsid:l.streamPlayerParams.source.params.additionalParams.vsid});e.subscribe(d.contentDocument),this.once(mr.Destroy,()=>e.unsubscribe())}const u=this.postMessenger=this.initPostMessenger();var h;this.once(mr.Destroy,()=>this.postMessenger.destroy()),this.subscribeExternalFullscreenChange(this.container),this.externalRequestController=new _l({receiver:window,sender:this.iframe.contentWindow}),this.once(mr.Destroy,()=>{this.externalRequestController.destroy(),clearTimeout(this.externalPlaybackTokenExpireTimeout)}),l.savedMutedRestored&&this.emit(mr.VolumeChangeReasonChange,{volumeChangeReason:sa.RestoreSavedMuted}),this.on(mr.VolumeChangeReasonChange,e=>{let{volumeChangeReason:t}=e;if((n=t)===sa.RequestAutoplaySettings||void 0===n)return;var n;const{volume:r,muted:a}=this.store.getState();is.setSavedVolume(r),is.setSavedMuted(a)}),this.once(mr.Ready,()=>{this.initTrackChangeLogging()}),this.postMessenger.on("Command",e=>{e.commandName===pl.getConfig&&e.sendAnswer(l.streamPlayerParams)}),c.params.additionalParams=this.addRequiredFieldsToAdditionalParams(c.params.additionalParams),this.additionalParams=c.params.additionalParams,this.applySourceInfoToStats(c),this.logEventInternal("CreatePlayer",In({},e,{element:void 0,v2:!0,preferHd:(h=null==(t=this.additionalParams)?void 0:t.from,void 0===h&&(h="other"),!!ya()||h in _a&&_a[h].preferHd)}),Be()),this.on(mr.Ready,()=>{this.isReady=!0,this.setSourceStage=ba.READY,this.readyPendingEvents.forEach(e=>this.postMessenger.emit("Event",e)),this.readyPendingEvents.length=0});const f=qt({useFriendlyFrame:l.streamPlayerParams.useFriendlyFrame,useAbdBundle:l.useAbdBundle,additionalParams:this.additionalParams,version:"1.0-9279",vsid:this.vsid,iframe:d,postMessenger:u,shouldLoadAdSdk:bn({source:c}),adConfig:c.params.adConfig,shouldRetry:()=>F(this.container)&&!this.destroyed,flags:(q(),(0,Yn.Y)(()=>JSON.stringify(Ea))||"{}")}).then(e=>{e<=1||this.stats.logEvent({name:"IframeReloadSuccess",labels:{attempt:String(e)},data:{attempt:e}})}).catch(e=>{if((0,vr.L)(this.iframe),!F(this.container)){const e=new Pa({code:Hn.ELEMENT_NOT_IN_DOM,details:{tagName:this.container.tagName,id:this.container.id,className:this.container.className},isFatal:!1});throw this.emitError(e,Be()),this.debug.logInternals&&console.warn("element does not present in DOM",this.container),this.emit(mr.ErrorChange,{error:new Pa("element does not present in DOM")}),this.destroy(),e}const t=new Pa(e);throw this.emitError(t),t});this.performOnIframeLoad=function(e){function t(){if(0===n.length)return;const e=n.slice();n.length=0,e.forEach(e=>{let{task:t,onPromiseReject:n}=e;o?n(a):(0,Yn.Y)(()=>t(r))}),n.length>0&&t()}const n=[];let r,a,i=!1,o=!1;return e.then(e=>{r=e,i=!0,t()}),e.catch(e=>{a=e,o=!0,t()}),function(e,t){void 0===t&&(t=qn.Z),o?t(a):!i||n.length>0?n.push({task:e,onPromiseReject:t}):(0,Yn.Y)(()=>e(r))}}(f),this.loggingForExternalToolsAllowed=void 0===e.loadSkin,this.initPreloadSkin(l),function(e){let t=!1,n=!1,r="start";const a=()=>t&&n,i=(0,Fn.I)(()=>{e.emit(mr.UserReady,{type:r})}),o=()=>{a()&&(r="poster",i())},s=()=>{if(e.off(mr.ContentImpression,i),e.off(mr.BeforeAdPodStart,u),e.off(mr.AdPodStart,d),a())return r="poster",i();t||e.once(mr.PosterReady,o),n||e.once(mr.SkinReady,o)},l=()=>{t=!0},c=()=>{t=!0,n=!0},d=()=>(r="start",i()),u=()=>{e.off(mr.ResourcesIdle,s),e.once(mr.AdPodStart,d)};e.once(mr.BeforeAdPodStart,u),e.once(mr.PosterReady,l),e.once(mr.SkinReady,c),e.once(mr.ResourcesIdle,s),e.once(mr.ContentImpression,i),e.once(mr.UserReady,()=>{e.off(mr.BeforeAdPodStart,u),e.off(mr.ResourcesIdle,s),e.off(mr.AdPodStart,d),e.off(mr.ContentImpression,i),e.off(mr.PosterReady,l),e.off(mr.SkinReady,c)})}(this),this.visiblePlaybackController=this.initVisiblePlaybackController(l.streamPlayerParams.togglePlaybackOnVisibilityChange,l.streamPlayerParams.autoplay),this.setFiltersForSourceRelatedEvents(),this.getSourceConfigForRecover=l.useFallbackStream?this.createSourceConfigForRecoverGetter(c):qn.Z}getState(){return this.store.getState()}async destroy(){return this.destroyInternal(Sa.PublicApiCall)}async sendReportLog(){const e=Fe(this.getState().vsid);return this.sendReportToStats({reportId:e,reported:!0}),{reportId:e}}openReportWindow(){const{reportId:e,reported:t}=function(e,t){let{reportUrl:n}=e;const r=Fe(t),a=Me(n,{"form-logId":r}).substr(0,2048)+zs;return{reportId:r,reported:null!==window.open(a,"_blank")}}(this.reportConfig,this.getState().vsid);this.sendReportToStats({reportId:e,reported:t})}play(e){var t;return void 0===e&&(e=ar.ExternalApi),this.emit(mr.RequestPlayingState,{playingState:rr.PLAY,playingStateReason:e}),null!=(t=this.store.getState().error)&&t.isFatal?Promise.reject():this.playingStateSynchronization.addLock(new Promise((t,n)=>{this.performOnIframeLoad(()=>{this.postMessenger.sendRequest(pl.play,e).then(e=>e?t():n()).catch(()=>n())},n)}))}pause(e){void 0===e&&(e=ar.ExternalApi),this.emit(mr.RequestPlayingState,{playingState:rr.PAUSE,playingStateReason:e}),this.performOnIframeLoad(()=>{this.playingStateSynchronization.addLock(this.postMessenger.sendRequest(pl.pause,e))})}seek(e){this.postMessenger.sendCommand(pl.seek,e)}async requestDebugInfo(){return In({},await this.postMessenger.sendRequest(pl.requestDebugInfo,void 0),{playerApiState:this.getState()})}async requestExternalPlay(e){this.logEventInternal(aa.ExternalPlaybackPlayerActivate);const t=await this.requestExternalCsrfToken();try{return await hl(this.externalRequestController,e,t).promise,this.logEventInternal(aa.ExternalPlaybackPlayerActivateSucceed),e.externalPlayerId}catch(nu){throw this.updateExternalPlaybackCsrfToken(void 0),this.logEventInternal(aa.ExternalPlaybackPlayerActivateFailed),new Error(e.externalPlayerId)}}async requestExternalPlayerList(e){let{currentPlayerListLength:t}=e,n=!1;await this.requestExternalCsrfToken();try{if(0===t){n=!0,this.logEventInternal(aa.ExternalPlaybackPlayerListFetching,{cachedList:n});const e=await dl(this.externalRequestController).promise;if(this.logEventInternal(aa.ExternalPlaybackPlayerListFetchSuccess,{cachedList:n}),!e.length)return[];this.logEventInternal(aa.ExternalPlaybackPlayerListHasAnyDevice)}n=!1,this.logEventInternal(aa.ExternalPlaybackPlayerListFetching,{cachedList:n});const e=await ul(this.externalRequestController).promise;return this.logEventInternal(aa.ExternalPlaybackPlayerListFetchSuccess,{cachedList:n}),e.filter(e=>e.screen_capable).map(e=>({id:e.id,name:e.name,status:e.online?Jr.IDLE:Jr.OFFLINE})).sort(Ye)}catch(nu){throw this.logEventInternal(aa.ExternalPlaybackPlayerListFetchError,{cachedList:n,status:nu.status||0}),nu}}setVolume(e){this.postMessenger.sendCommand(pl.setVolume,e)}setMuted(e){this.postMessenger.sendCommand(pl.setMuted,e)}setVideoTrack(e){this.postMessenger.sendCommand(pl.setVideoTrack,e)}setAudioTrack(e){this.postMessenger.sendCommand(pl.setAudioTrack,e)}setTextTrack(e){this.postMessenger.sendCommand(pl.setTextTrack,e)}changeAdditionalParams(e){if(!this.useFriendlyFrame){throw new Pa("Cannot use changeAdditionalParams() with useFriendlyFrame=false")}(e=>{if(!(0,lr.K)(e))throw new Pa("changeAdditionalParams payload must be an Object");if((0,wo.Z)(e).some(e=>-1===td.indexOf(e)))throw new Pa("changeAdditionalParams payload must contain only following keys: "+td.toString())})(e),this.postMessenger.sendCommand(pl.changeAdditionalParams,void 0),this.additionalParams=In({},this.additionalParams,e)}setNativeTextTrackVisibility(e){this.postMessenger.sendCommand(pl.setNativeTextTrackVisibility,e)}setFeed(e){this.postMessenger.sendCommand(pl.setFeed,e)}setPlaybackRate(e){this.postMessenger.sendCommand(pl.setPlaybackRate,e)}async setSource(e){var t;this.logEventInternal("SetSource");const n=(()=>{try{return Ae(e,this.config)}catch(t){const e=new Pa(In({},new Pa(t).toJSON(),{code:Hn.INVALID_CONFIG_IN_SET_SOURCE,isFatal:!0}));throw this.emitError(e),e}})();if(!ve(e))throw new Pa("setSource method receive a serializable object");var r;this.playerTracker.setTrackings(fe(e.trackings)),null==(t=this.setSourceDeferred)||t.reject(new Error("SetSource rejected cause of new #setSource()")),this.setSourceDeferred=new ll,(r=this.setSourceDeferred.promise)&&"function"===typeof r.catch&&r.catch(e=>{});const a=()=>{var e;null==(e=this.setSourceDeferred)||e.resolve(),this.setSourceDeferred=void 0};this.setSourceDeferred.promise.catch(()=>{this.off(mr.ContentImpression,a),this.setSourceDeferred=void 0}),this.once(mr.ContentImpression,a),await this.setSourceInternal(n).catch(e=>{var t;return null==(t=this.setSourceDeferred)||t.reject(e),Promise.reject(e)})}async preloadSource(e,t){const{signal:n}=t||{},r=(()=>{try{return Ae(e)}catch(ru){return}})();if(void 0===r)return Promise.reject(new Error("source is invalid"));if(r.params.additionalParams=this.addRequiredFieldsToAdditionalParams(r.params.additionalParams),null!=n&&n.aborted)return Promise.reject(new Error("preload was aborted"));if(!ve(r))return console.warn("preloadSource: sourceConfig is not serializable"),Promise.reject(new Error("sourceConfig is not serializable"));const a=String(this.nextPreloadRequestId++),i=new Promise((e,t)=>{let r=qn.Z;const i=()=>{r(),t(),this.postMessenger.sendCommand(pl.abortPreloadSource,a)};null==n||n.addEventListener("abort",i);const o=n=>{switch(n.eventName){case"onPreloadSourceResolve":n.data===a&&(r(),e());break;case"onPreloadSourceReject":n.data===a&&(r(),t())}};this.postMessenger.on("Event",o);const s=()=>this.postMessenger.off("Event",o);r=()=>{s(),null==n||n.removeEventListener("abort",i)}});return this.postMessenger.sendRequest(pl.preloadSource,{sourceConfig:r,requestId:a}),i}async requestVideoElementFullscreen(){this.postMessenger.sendCommand(pl.setFullscreen,!0)}exitVideoElementFullscreen(){this.postMessenger.sendCommand(pl.setFullscreen,!1)}setNativeControlsVisibility(e){this.postMessenger.sendCommand(pl.setHiddenControls,function(e){return(0,lr.K)(e)?!1===e.showTimeline?[No.TIMELINE]:[]:e?[]:[No.ALL]}(e))}setNativeAdControlsVisibility(e){this.postMessenger.sendCommand(pl.setNativeAdControlsVisibility,e)}setPictureInPictureAllowed(e){this.postMessenger.sendCommand(pl.setPictureInPictureEnabled,e)}setVideoStyle(e){this.postMessenger.sendCommand(pl.setVideoStyle,e)}playInrollAd(e){this.postMessenger.sendCommand(pl.playInrollAd,e)}skipAdPod(){this.postMessenger.sendCommand(pl.skipAdPod,{})}logEvent(e){let{event:t,params:n={}}=e;this.loggingForExternalToolsAllowed&&this.logEventInternal(t,n)}logError(e){this.loggingForExternalToolsAllowed&&this.stats.logError({error:e})}logSkinDelta(e,t,n){this.loggingForExternalToolsAllowed&&this.postMessenger.sendCommand(pl.logDelta,{deltaId:e,value:t,params:n})}logDelta(e,t,n){this.postMessenger.sendCommand(pl.logDelta,{deltaId:e,value:t,params:n})}async insertInto(e){if(!this.useFriendlyFrame){const e=new Pa({code:Hn.INSERT_INTO_WITH_SECURE_FRAME,message:"Cannot use insertInto() with useFriendlyFrame=false",isFatal:!1});throw this.emitError(e),e}const{playingState:t}=this.getState();await this.postMessenger.sendRequest(pl.stopAd,{});const n=(0,Hr.w)(this.container.querySelectorAll("video")).map(e=>function(e){const t=ua(e);return t?()=>{ua(e)!==t&&fa()(e,t)}:qn.Z}(e));e.appendChild(this.container),(0,Kr.p)(n),this.visiblePlaybackController.restartVisibilityObserver(),t!==rr.PLAY&&t!==rr.BUFFERING||this.play(ar.RestoreAfterInsertInto)}getReadyState(){return this.destroyed?ir.destroyed:ir.ready}getContainer(){return this.container}async setSourceInternal(e,t){var n;let{shouldSaveProgress:r=!1}=void 0===t?{}:t;this.emit(mr.ErrorChange,{error:void 0}),null==(n=this.errorScreen)||n.removeErrorMessage(),this.logEventInternal("SetSourceInternal",In({},e,{shouldSaveProgress:r})),this.playerApiSourceConfig=function(e){return(0,lr.K)(e)?Bo.parse(e):Bo.parse({})}(e),e.params.additionalParams=this.addRequiredFieldsToAdditionalParams(e.params.additionalParams),this.updateStateForSetSource(e,{shouldSaveProgress:r});const a=this.waitForSetSourceComplete();this.setSourceStage=ba.LOADING,await this.postMessenger.sendRequest(pl.setSource,{sourceConfig:e,shouldSaveProgress:r}),this.additionalParams=e.params.additionalParams,this.applySourceInfoToStats(e),await a,this.playerTracker.onSetSourceComplete(e)}async destroyInternal(e){this.destroyed||(this.destroyed=!0,this.logEventInternal("DestroyPlayer",{reason:e}),await this.destroyIFrame(e),(0,vr.L)(this.playerNode),this.emit(mr.Destroy,{}),this.emit(mr.StartStageChange,{startStage:Xr.destroyed}),super.destroy())}initTrackChangeLogging(){let e=this.getState().videoTrack,t=this.getState().audioTrack,n=this.getState().textTrack;this.on(mr.VideoTrackChange,t=>{let{videoTrack:n}=t;(0,lr.K)(e)&&(0,lr.K)(n)&&(e.auto&&n.auto||this.stats.logEvent({name:"SetVideoTrack",data:{previous:$e(e),next:$e(n)}})),e=n}),this.on(mr.AudioTrackChange,e=>{let{audioTrack:n}=e;(0,lr.K)(t)&&(0,lr.K)(n)&&t.name!==n.name&&this.stats.logEvent({name:"SetAudioTrack",data:{previous:ze(t),next:ze(n)}}),t=n}),this.on(mr.TextTrackChange,e=>{let{textTrack:t}=e;void 0===n&&void 0===t||this.stats.logEvent({name:"SetTextTrack",data:{previous:Qe(n),next:Qe(t)}}),n=t})}initVisiblePlaybackController(e,t){const n=new Td(this);this.once(mr.Destroy,()=>{n.destroy()});const r=new Ad({play:()=>{this.playingStateSynchronization.waitAndLock(()=>this.play(ar.VisiblePlayback))},pause:()=>{this.playingStateSynchronization.waitAndLock(async()=>{this.pause(ar.VisiblePlayback)})},togglePlaybackVisibilitySetting:e,autoplay:t,playerStateAdaptor:n,logEvent:e=>this.stats.logEvent({name:e,data:{}})}),a=e=>{let{playingState:t,playingStateReason:n}=e;n!==ar.VisiblePlayback&&r.actualizeAutoplay(t===rr.PLAY)};this.on(mr.RequestPlayingState,a),this.once(mr.WatchedTimeChange,()=>{this.off(mr.RequestPlayingState,a)}),this.once(mr.Destroy,()=>{r.destroy()});const i=new Rd({element:this.container,togglePlaybackVisibilitySetting:e,playerStateAdaptor:n,playPauseController:r});this.once(mr.Destroy,()=>{i.destroy()}),i.observeVisualState(e=>{this.useFriendlyFrame&&function(e,t){try{K(e.contentWindow).initialVisibility=t}catch(nu){console.warn&&console.warn(nu)}}(this.iframe,e.isElementVisible),this.postMessenger.sendCommand(pl.setExternalVisualState,{isVisible:e.isElementVisible})}),this.postMessenger.on("Command",e=>{e.commandName===pl.getExternalVisualState&&e.sendAnswer({isVisible:i.getVisualState().isElementVisible})});const o=e=>{i.notifyFullScreen(e.isFullscreen)};this.on(mr.FullscreenStateChange,o),this.once(mr.Destroy,()=>{this.off(mr.FullscreenStateChange,o)});const s=e=>{i.notifyPip(e.isPictureInPicture)};return this.on(mr.PictureInPictureStateChange,s),this.once(mr.Destroy,()=>{this.off(mr.PictureInPictureStateChange,s)}),i}initErrorScreen(){this.once(mr.ResourcesIdle,this.loadErrorScreen),this.on(mr.ErrorChange,async e=>{var t;let{error:n}=e;void 0!==n?(await this.loadErrorScreen(),this.destroyed||(void 0===this.errorScreen&&(this.errorScreen=da.initErrorScreen({element:this.container,vsid:this.vsid,onReportClick:e=>this.sendReportToStats(e)}),this.once(mr.Destroy,()=>this.errorScreen.destroy())),n=void 0===this.store?n:this.store.getState().error,void 0!==n&&(null==(t=this.postMessenger)||t.sendCommand(pl.setPictureInPicture,!1),this.errorScreen.showErrorMessage(n.messageDetails||V(n.code))))):this.errorScreen&&this.errorScreen.changeVisibility(!1)})}addRequiredFieldsToAdditionalParams(e){var t,n;const{vsid:r}=this;return In({},e,{vsid:r,from:e.from||(null==(t=this.additionalParams)?void 0:t.from),puid:e.puid||(null==(n=this.additionalParams)?void 0:n.puid)})}waitForSetSourceComplete(){return new Promise((e,t)=>{const n=this.sourceIdSignal.addOne(()=>{this.setSourceStage=ba.READY,e(),i()}),r=e=>{let{error:n}=e;n&&n.isFatal&&(this.setSourceStage=ba.ERROR,t(n),i())},a=()=>{t({message:"CANCELED",isFatal:!1}),i()},i=()=>{n(),this.off(mr.ErrorChange,r),this.off(mr.SourceChange,a)};this.on(mr.ErrorChange,r),this.once(mr.SourceChange,a)})}prepareContainerNode(){const e=L(this.container,function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:n}=t;return n||void 0}(this.container)).position;k(this.container,{position:e&&"static"!==e?e:"relative"})}createPlayerNode(){const e=this.container.ownerDocument.createElement("div");return k(e,{width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}),e}initPlayerStore(e){let{config:t,vsid:n}=e;return new zd(In({},Oa,{volume:t.volume,muted:t.muted,source:t.source,vsid:n}),(e,t)=>this.on(e,t))}initPostMessenger(){const e=new El({id:this.getState().vsid,receiver:window,sender:this.iframe.contentWindow,syncMode:!0});return e.on("Event",e=>{if("onInitError"===e.eventName)return this.emitError(new Pa(e.data)),void(e.data.code===Hn.PLAYER_CONTAINER_NOT_FOUND&&this.destroyInternal(Sa.PlayerContainerNotFound));if(!this.isReady&&"onReady"!==e.eventName)return this.debug.logInternals&&console.warn("// not ready",e.eventName,e.data),void this.readyPendingEvents.push(e);const{sourceId:t}=e;this.sourceIdSignal.dispatch(t);const n=function(e){return $c[e]}(e.eventName),r=(e=>{let{eventName:t,data:n}=e;if("onError"!==t)return!1;try{return n=n,n.isFatal&&JSON.parse(n.details).stage===oa.SET_SOURCE}catch(ru){return!1}})(e);if(this.setSourceStage!==ba.LOADING||!n||r)if(this.setSourceStage===ba.READY&&n&&t<this.sourceIdSignal.getValue())this.debug.logInternals&&console.warn("// skip public and internal "+e.eventName+" because of old source",e.eventName,e.data);else switch(e.eventName){case"onInit":break;case"onVideoTypeChange":this.emit(mr.VideoTypeChange,{videoType:e.data});break;case"onStateChange":this.emit(mr.PlayingStateChange,{playingState:e.data.playingState,playingStateReason:e.data.reason});break;case"onAdStateChange":e.data.state===ia.NOT_PLAYING&&this.emit(mr.AdPodFullyClickableStateChange,{adPodFullyClickableState:void 0}),this.emit(mr.AdStateChange,{adState:e.data});break;case"onBeforeAdPodStart":this.emit(mr.BeforeAdPodStart,e.data);break;case"onAdPodStart":const{adState:{type:t},source:{params:{adConfig:n={}}={}}={}}=this.getState();void 0!==t&&(this.emit(mr.AdPodFullyClickableStateChange,{adPodFullyClickableState:e.data.isFullyClickable}),this.emit(mr.AdPodStart,{type:t,adConfig:n}));break;case"onAdPodSkip":this.emit(mr.AdPodSkip,{});break;case"onAdPodEnd":this.emit(mr.AdPodEnd,{});break;case"onAdSkippableStateChange":this.emit(mr.AdSkippableStateChange,{adSkippableState:e.data});break;case"onAdVolumeAvailabilityStateChange":this.emit(mr.AdVolumeAvailabilityStateChange,{adVolumeAvailabilityState:e.data});break;case"onAdPodCloseStateChange":this.emit(mr.AdPodCloseStateChange,{adPodCloseState:e.data});break;case"onAdPodDurationChange":this.emit(mr.AdPodDurationChange,{adPodDuration:e.data});break;case"onAdPodCurrentTimeChange":this.emit(mr.AdPodCurrentTimeChange,{adPodCurrentTime:e.data});break;case"onAdPodTimeToSkipChange":this.emit(mr.AdPodTimeToSkipChange,{adPodTimeToSkip:e.data});break;case"onAdInteraction":this.emit(mr.AdInteraction,void 0);break;case"onNextAdRemainingTimeChange":this.emit(mr.NextAdRemainingTimeChange,{nextAdRemainingTime:e.data});break;case"onTimelineInfoChange":const{currentTime:r,duration:a,utcStartTime:i,dvrStartTime:o,dvrDuration:s}=e.data;this.emit(mr.CurrentTimeChange,{currentTime:r}),this.emit(mr.DurationChange,{duration:a}),this.emit(mr.UtcStartTimeChange,{utcStartTime:i}),this.emit(mr.DVRStartTimeChange,{dvrStartTime:o}),this.emit(mr.DVRDurationChange,{dvrDuration:s}),this.emit(mr.PlaybackRateRangeChange,{playbackRateRange:at({videoType:this.getState().videoType,currentTime:r,dvrStartTime:o,dvrDuration:s})});break;case"onPositionChange":const{watchedTime:l,liveLatency:c}=e.data;this.emit(mr.WatchedTimeChange,{watchedTime:l}),this.emit(mr.LiveLatencyChange,{liveLatency:c});break;case"onFullScreenChange":this.emit(mr.FullscreenStateChange,{isFullscreen:e.data});break;case"onVolumeChange":this.emit(mr.MutedChange,{muted:e.data.muted}),this.emit(mr.VolumeChange,{volume:e.data.volume}),this.emit(mr.VolumeChangeReasonChange,{volumeChangeReason:e.data.changeReason});break;case"onReady":this.emit(mr.Ready,this);break;case"onError":this.emitError(new Pa(e.data));break;case"onRecover":this.stats.logEvent({name:"RecoverStreamError",data:{details:e.data}}),this.emit(mr.RecoverStart,e.data);break;case"onVideoTrackChange":this.emit(mr.VideoTrackChange,{videoTrack:e.data});break;case"onVideoTracksChange":this.emit(mr.VideoTracksChange,{videoTracks:e.data});break;case"onAudioTrackChange":this.emit(mr.AudioTrackChange,{audioTrack:e.data});break;case"onAudioTracksChange":this.emit(mr.AudioTracksChange,{audioTracks:e.data});break;case"onTextTrackChange":this.emit(mr.TextTrackChange,{textTrack:e.data});break;case"onTextTracksChange":this.emit(mr.TextTracksChange,{textTracks:e.data});break;case"onSubtitlesChange":this.emit(mr.SubtitlesChange,{subtitles:e.data});break;case"onPlaybackRateChange":this.emit(mr.PlaybackRateChange,{playbackRate:e.data});break;case"onBufferingRangesChange":this.emit(mr.BufferedRangesChange,{bufferedRanges:e.data});break;case"onThumbnailTileGeneralMetaInfoChange":this.emit(mr.TileMetaInfoChange,{tileMetaInfo:e.data});break;case"onOriginalBroadcastAdStateChange":const{cueId:d,originalBroadcastAdDuration:u}=e.data;this.logEventInternal(void 0===d?"OriginalBroadcastAdEnd":"OriginalBroadcastAdStart",{cueId:d,originalBroadcastAdDuration:u});break;case"onDrmSystemChange":this.emit(mr.DrmSystemChange,{drmSystem:e.data});break;case"onChangeStream":e.data&&this.stats.setRootFields({streamUrl:e.data.url}),this.emit(mr.StreamChange,{stream:e.data}),this.emit(mr.TileMetaInfoUrlChange,{tileMetaInfoUrl:Qt(e.data?e.data.url:void 0)});break;case"onStreamsWithSupportInfoChange":this.emit(mr.StreamsWithSupportInfoChange,e.data);break;case"onContentImpression":this.emit(mr.ContentImpression,e.data);break;case"onResourcesIdle":this.emit(mr.ResourcesIdle,{});break;case"onVisualStateChange":this.emit(mr.PictureInPictureStateChange,{isPictureInPicture:e.data.isPip}),this.emit(mr.VisibleStateChange,{isVisible:e.data.isVisible}),this.stats.setRootFields({visualState:e.data});break;case"onEngineChange":this.stats.setRootFields({engine:e.data});break;case"onStartStageChange":this.emit(mr.StartStageChange,{startStage:e.data});break;case"onVideoSizeChange":this.emit(mr.VideoSizeChange,{videoSize:e.data});break;case"onVideoClickerEvent":this.emit(mr.VideoClickerEvent,e.data);break;case"onAdSDKVersionDefined":this.stats.setRootFields(e.data),this.logEventInternal("AdSDKVersionDefined",e.data);break;case"onNetworkStatusChange":this.emit(mr.NetworkStatusChange,e.data);break;case"onBandwidthEstimateChange":const h=e.data.value<=Al?Rl.SLOW:Rl.OK;this.getState().connectionQuality!==h&&this.emit(mr.ConnectionQualityChange,{connectionQuality:h});break;case"onLogEvent":this.stats.logEvent({name:e.data.event,data:In({},e.data.params,{additionalParams:In({},this.additionalParams)}),labels:e.data.additionalStatsLabels})}else this.debug.logInternals&&console.warn("// skip public and internal "+e.eventName+" because setSource is in progress",e.eventName,e.data)}),e}async requestExternalCsrfToken(){if(this.externalPlaybackCsrfToken)return this.externalPlaybackCsrfToken;try{this.logEventInternal(aa.ExternalPlaybackPlayerCsrfFetching);const{token:e}=await cl(this.externalRequestController).promise;return this.logEventInternal(aa.ExternalPlaybackPlayerCsrfFetchSuccess),this.updateExternalPlaybackCsrfToken(e),e}catch(nu){return this.logEventInternal(aa.ExternalPlaybackPlayerCsrfFetchError),""}}updateExternalPlaybackCsrfToken(e){this.externalPlaybackCsrfToken=e,void 0!==e&&(clearTimeout(this.externalPlaybackTokenExpireTimeout),this.externalPlaybackTokenExpireTimeout=window.setTimeout(()=>{this.externalPlaybackCsrfToken=void 0,this.logEventInternal(aa.ExternalPlaybackCsrfTokenExpired)},6e4))}logEventInternal(e,t,n){void 0===t&&(t={});const{watchedTime:r,duration:a,currentTime:i,utcStartTime:o,videoType:s,isFullscreen:l,volume:c,muted:d}=this.getState(),u=In({},t,{watchedSec:r,duration:a,time:i,utcTime:void 0===o?void 0:o+i,isFullscreen:l,isMuted:d||0===c}),h=function(e){switch(e){case Ss.Watched10Sec:case Ss.Watched20Sec:case Ss.Heartbeat30Sec:return!0;default:return!1}}(e)?Jt(this.playerApiSourceConfig,i):void 0;this.stats.logEvent({name:e,data:u,labels:{videoType:s},extraRootFields:In({},h,n)})}async destroyIFrame(e){const{iframe:t}=this;if(!t||!t.parentElement)return;const{isFullscreen:n}=this.getState();return n?new Promise(t=>{this.iframe.style.display="none",n&&(this.once(mr.FullscreenStateChange,()=>{this.destroyIFrame(e).then(t)}),this.exitVideoElementFullscreen())}):(await this.postMessenger.sendRequest(pl.destroy,{reason:e}),t.src="",(0,vr.L)(t),Promise.resolve())}subscribeExternalFullscreenChange(e){this.once(mr.Destroy,function(e){let{element:t,onChange:n}=e;const r=t.ownerDocument||window.document;let a=!1;n(a);const i=ed.map(e=>(a=a||zt(r,t),o(r,e.events.change,()=>{try{const e=zt(r,t);if(e===a)return;n(e),a=e}catch(e){}},{passive:!0})));return()=>{i.forEach(e=>e())}}({element:e,onChange:e=>{this.postMessenger.sendCommand(pl.setExternalVisualState,{isFullscreen:e})}}))}initPlaybackTracker(){const e=new As({onEvent:e=>this.logEventInternal(e)});this.on(mr.WatchedTimeChange,t=>{let{watchedTime:n}=t;return e.onWatchedTimeChange(n)}),this.on(mr.PlayingStateChange,t=>{let{playingState:n}=t;return e.onPlayingStateChange(n)})}initPlayerTracker(e){const t=new Ws({source:e.streamPlayerParams.source,vsid:this.getState().vsid,getAdState:()=>this.getState().adState,getVideoTrack:()=>this.getState().videoTrack,getAudioTrack:()=>this.getState().audioTrack,getTextTrack:()=>this.getState().textTrack,getVideoType:()=>this.getState().videoType,getIsFullscreen:()=>this.getState().isFullscreen,getDrmSystemName:()=>this.getState().drmSystem,getIsDrmSupported:()=>{var e;if(void 0!==(null==(e=this.getState().stream)?void 0:e.drmConfig))return void 0===this.getState().error},getMuted:()=>this.getState().muted||0===this.getState().volume,getDuration:()=>this.getState().duration||0,getPlayingState:()=>this.getState().playingState,getCurrentTime:()=>this.getState().currentTime,getUtcPosition:()=>{const{utcStartTime:e,currentTime:t}=this.getState();return void 0===e?0:Un(e,t)}});return t.setTrackings(e.sourceConfig.trackings),this.on(mr.Ready,t.onReady),this.on(mr.ErrorChange,e=>{let{error:n}=e;void 0!==n&&t.onError(n)}),this.on(mr.CurrentTimeChange,e=>{let{currentTime:n}=e;return t.onCurrentTimeChange(n)}),this.on(mr.WatchedTimeChange,e=>{let{watchedTime:n}=e;return t.onWatchedTimeChange(n)}),this.on(mr.AdStateChange,e=>{let{adState:n}=e;return t.onAdStateChange(n)}),this.on(mr.PlayingStateChange,e=>{let{playingState:n}=e;return t.onStateChange(n)}),this.on(mr.AdPodStart,()=>{t.onAdPodStart()}),this.on(mr.AdPodEnd,()=>{t.onAdPodEnd()}),this.on(mr.AdPodSkip,()=>{t.onAdPodSkip()}),t}requestSourceConfigForRecover(e){if(e.isFatal&&function(e){return e.category===Kn.DRM?e.code===Hn.SHAKA_EXPIRED_6014||e.code===Gn.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:e.category===Kn.REGIONAL||e.category===Kn.ACCESS}(e))return Promise.resolve().then(()=>{const e=this.playerApiSourceConfig.update();return Gr(e)&&(this.emit(mr.PlayingStateChange,{playingState:rr.BUFFERING,playingStateReason:ar.WaitForSourceConfigUpdate}),e.catch(e=>{throw this.emit(mr.PlayingStateChange,{playingState:rr.PAUSE,playingStateReason:ar.Unknown}),e})),e})}async tryRecoverSourceConfigInAsyncMode(e){const t=await this.requestSourceConfigForRecover(e);if(void 0===t)return!1;const n=(()=>{try{return Ae(t)}catch(e){const t=new Pa(In({},new Pa(e).toJSON(),{code:Hn.INVALID_CONFIG_IN_SOURCE_UPDATE,isFatal:!1}));return void this.emitError(t)}})();return void 0!==n&&(setTimeout(()=>{this.logEventInternal("UpdateSourceConfig"),this.setSourceInternal(n,{shouldSaveProgress:!0})}),!0)}tryRecoverSourceConfigInSyncMode(e){const t=this.getSourceConfigForRecover(e);return!!t&&(setTimeout(()=>{this.logEventInternal("UpdateSourceConfigSync"),this.setSourceInternal(t,{shouldSaveProgress:!0})}),!0)}async tryRecoverSourceConfig(e){try{if(this.tryRecoverSourceConfigInSyncMode(e))return!0;if(await this.tryRecoverSourceConfigInAsyncMode(e))return!0}catch(t){}return!1}async emitError(e,t){if((e=new Pa(In({},e.toJSON(),{isFatal:e.isFatal&&!this.destroyed}),this.vsid)).isFatal&&function(e){return-1===Qc.indexOf(e.category)}(e)){let t=dn(this.getState())?rr.PLAY:rr.PAUSE;const n=e=>{let{playingState:n}=e;t=n};this.on(mr.RequestPlayingState,n);const r=await this.tryRecoverSourceConfig(e);this.off(mr.RequestPlayingState,n),r&&(e=new Pa(In({},e.toJSON(),{isFatal:!1})),dn({playingState:t})&&this.play(ar.CompletedRecoverSourceConfig))}var n;e.isFatal&&(null==(n=this.setSourceDeferred)||n.reject(new Error("SetSource rejected cause fatal error")),this.emit(mr.ErrorChange,{error:e}));this.stats.logError({error:e,extraRootFields:t})}initPreloadSkin(e){if(!1===e.loadSkin)return;if(this.getState().playingState===rr.PLAY)return;const t=An({document:this.container.ownerDocument,poster:e.streamPlayerParams.source.params.preview,hiddenControls:e.originalHiddenControls,primaryColor:e.primaryColor,onReady:()=>{this.emit(mr.PosterReady,{})}}),n=(0,Fn.I)(()=>(0,vr.L)(t));this.container.appendChild(t),this.once(mr.SkinReady,n),this.once(mr.Destroy,n);const r=()=>{const e=this.getState();if(!e)return;const{playingState:t,adState:{state:a}}=e;(t===rr.PLAY||a===ia.PLAYING)&&(n(),this.off(mr.PlayingStateChange,r),this.off(mr.AdStateChange,r))};this.on(mr.PlayingStateChange,r),this.on(mr.AdStateChange,r)}updateStateForSetSource(e,t){let{shouldSaveProgress:n=!1}=void 0===t?{}:t;this.unsetFiltersForSourceRelatedEvents(),this.emit(mr.StreamChange,{stream:void 0}),this.emit(mr.SourceChange,{source:e}),this.emit(mr.StreamsWithSupportInfoChange,void 0),this.emit(mr.DrmSystemChange,{drmSystem:void 0}),this.emit(mr.VideoTrackChange,{videoTrack:void 0}),this.emit(mr.VideoTracksChange,{videoTracks:[]}),this.emit(mr.AudioTrackChange,{audioTrack:void 0}),this.emit(mr.AudioTracksChange,{audioTracks:[]}),this.emit(mr.TextTrackChange,{textTrack:void 0}),this.emit(mr.TextTracksChange,{textTracks:[]}),this.emit(mr.TileMetaInfoChange,{tileMetaInfo:void 0}),this.emit(mr.CurrentTimeChange,{currentTime:Oa.currentTime}),this.emit(mr.DurationChange,{duration:Oa.duration}),this.emit(mr.UtcStartTimeChange,{utcStartTime:Oa.utcStartTime}),this.emit(mr.DVRStartTimeChange,{dvrStartTime:Oa.dvrStartTime}),this.emit(mr.DVRDurationChange,{dvrDuration:Oa.dvrDuration}),n||this.emit(mr.WatchedTimeChange,{watchedTime:Oa.watchedTime}),this.emit(mr.VideoTypeChange,{videoType:Oa.videoType}),this.emit(mr.AdStateChange,{adState:Oa.adState}),this.setFiltersForSourceRelatedEvents()}setFiltersForSourceRelatedEvents(){this.setFilter(mr.CurrentTimeChange,e=>{let{currentTime:t}=e;return!qr()(t,this.getState().currentTime)}),this.setFilter(mr.WatchedTimeChange,e=>{let{watchedTime:t}=e;return!qr()(t,this.getState().watchedTime)}),this.setFilter(mr.DurationChange,e=>{let{duration:t}=e;return!qr()(t,this.getState().duration)}),this.setFilter(mr.UtcStartTimeChange,e=>{let{utcStartTime:t}=e;return!qr()(t,this.getState().utcStartTime)}),this.setFilter(mr.DVRStartTimeChange,e=>{let{dvrStartTime:t}=e;return!qr()(t,this.getState().dvrStartTime)}),this.setFilter(mr.DVRDurationChange,e=>{let{dvrDuration:t}=e;return!qr()(t,this.getState().dvrDuration)}),this.setFilter(mr.PlaybackRateRangeChange,e=>{let{playbackRateRange:t}=e;return!qr()(t,this.getState().playbackRateRange)}),this.setFilter(mr.AdStateChange,e=>{let{adState:t}=e;return!qr()(t,this.getState().adState)}),this.setFilter(mr.VolumeChange,e=>{let{volume:t}=e;return!qr()(t,this.getState().volume)}),this.setFilter(mr.VideoTracksChange,e=>{let{videoTracks:t}=e;return!(0===this.getState().videoTracks.length&&0===t.length)}),this.setFilter(mr.AudioTracksChange,e=>{let{audioTracks:t}=e;return!(0===this.getState().audioTracks.length&&0===t.length)}),this.setFilter(mr.TextTracksChange,e=>{let{textTracks:t}=e;return!(0===this.getState().textTracks.length&&0===t.length)})}unsetFiltersForSourceRelatedEvents(){this.unsetFilter(mr.CurrentTimeChange),this.unsetFilter(mr.WatchedTimeChange),this.unsetFilter(mr.DurationChange),this.unsetFilter(mr.UtcStartTimeChange),this.unsetFilter(mr.DVRStartTimeChange),this.unsetFilter(mr.DVRDurationChange),this.unsetFilter(mr.PlaybackRateRangeChange),this.unsetFilter(mr.VolumeChange),this.unsetFilter(mr.VideoTracksChange),this.unsetFilter(mr.AudioTracksChange),this.unsetFilter(mr.TextTracksChange)}applySourceInfoToStats(e){try{const{puid:n,from:r}=e.params.additionalParams;this.stats.setLabels({from:r}),this.stats.setRootFields({puid:n,additionalParameters:j(e.params.additionalParams),slots:(t=e.params.additionalParams,void 0===t?"":t.slots||""),testIds:Y(e.params.additionalParams),videoContentId:e.params.videoInfo.videoContentId,streamUrl:e.streams[0]?e.streams[0].url:void 0})}catch(xa){setTimeout(()=>{throw xa})}var t}createSourceConfigForRecoverGetter(e){let t,n=e;return this.on(mr.SourceChange,e=>{let{source:t}=e;n=t}),this.on(mr.StreamsWithSupportInfoChange,e=>{t=e}),e=>{const r=void 0===t?void 0:t.filter(B);if(!this.canRecoverBySourceUpdate(e,n,r))return;const a=function e(t,n){void 0===n&&(n={preserveConstructors:!0});let r=t;if((0,jr.k)(t)){return t.map(t=>e(t,n))}return wr(t)?new Date(t.getTime()):(!(0,or.m)(t)&&(0,lr.K)(t)&&(r=n.preserveConstructors?Vr(t):{},(0,sr.M)(t,(t,a)=>{r[a]=e(t,n)})),r)}(n),i=r.map(e=>{let{stream:t}=e;return t});return a.streams=this.removeCurrentStream(i),a}}canRecoverBySourceUpdate(e,t,n){if(!e.isFatal||!t||!n)return!1;const r=n.map(e=>{let{stream:t}=e;return t}),a=this.removeCurrentStream(r);return 0!==a.length&&a.length!==t.streams.length}removeCurrentStream(e){const{stream:t}=this.getState();return e.filter(e=>!qr()(e,t))}}const tu=e=>N(e,e=>new eu(e));Mn.create=tu,Dn.init=tu})()})();