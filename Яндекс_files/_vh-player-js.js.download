/*! For license information please see _vh-player-js.js.LICENSE.txt */
!function(){var e={3274:function(){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){void 0===e&&(e=window),"Ya"in e||(e.Ya={}),"OTT"in e.Ya||(e.Ya.OTT={}),"PlayerLoader"in e.Ya.OTT||(e.Ya.OTT.PlayerLoader={})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(2)),a=o(n(3)),u=(c.prototype.init=function(e){var t=(e.source||{}).context;if(!t)return this.useBasePlayer(e);var n=t.contentTypeId,r=t.licenses,i=(void 0===r?[]:r)[0];if(i&&!("active"in i))return this.usePlaceholder(e);if(20===n||21===n)return this.useWrapper(e);var o="production"===e.envName?"production":"testing",a=window.Ya.OTT.buildTrackings(e.source.context,{env:o});return e.source.trackings=s.default(a,e.source.trackings),this.useBasePlayer(e,!0)},c.prototype.usePlaceholder=function(e){var t=e.source,n=t.context,o=n.container,s=void 0===o?{}:o,u=n.licenses[0],c=i(n,["container","licenses"]),d=t.preview;e.element="string"==typeof e.element?document.getElementById(e.element):e.element;var l=this.getPlaceholderUrl();return(this.placeholderExists(s)?Promise.resolve():a.default(l,document.head)).then((function(){return window.Ya.OTT.Placeholder.main(r(r(r({container:s,thumbnail:d},c),u),{config:e}))})).then((function(t){return t.render(e.element)}))},c.prototype.useBasePlayer=function(e,t){void 0===t&&(t=!1);var n=e.version,r=e.useBetaStatic,i=this.getPlayerBundle(n,r);return(this.baseApiExists()?Promise.resolve():a.default(i,document.head)).then((function(){return window.Ya.playerApi.init(e)})).then((function(e){return{api:e,withWrapper:!1,withTrackings:t}}))},c.prototype.useWrapper=function(e){var t=this.getWrapperUrl();return(this.wrapperExists()?Promise.resolve():a.default(t,document.head)).then((function(){return window.Ya.OTT.Player.init(e)})).then((function(e){return{api:e,withWrapper:!0,withTrackings:!0}}))},c.prototype.baseApiExists=function(){return!!window.Ya&&!!window.Ya.playerApi},c.prototype.wrapperExists=function(){return!(!window.Ya||!window.Ya.OTT||!window.Ya.OTT.Player)},c.prototype.placeholderExists=function(e){return(void 0===e?{}:e).context,!!(window.Ya&&window.Ya.OTT&&window.Ya.OTT.Placeholder)&&!!window.Ya.OTT.Placeholder.main},c.prototype.getWrapperUrl=function(){return"https://yastatic.net/s3/kinopoisk-frontend/ott/player-wrapper/"+c.WRAPPER_VERSION+"/ott-player-wrapper.js"},c.prototype.getPlaceholderUrl=function(){return"https://yastatic.net/s3/kinopoisk-frontend/ott/player-placeholder/"+c.PLACEHOLDER_VERSION+"/ott-player-placeholder.js"},c.prototype.getPlayerBundle=function(e,t){return("http:"===location.protocol?"http://":"https://")+(t?"betastatic.yastatic.net":"yastatic.net")+(e?"/yandex-video-player-iframe-api-bundles/"+e+"/js/player-api-loader.js":"/yandex-video-player-iframe-api/js/player-api-loader.js")},c.WRAPPER_VERSION="4.0.1",c.PLACEHOLDER_VERSION="1.0.1",c);function c(){}t.default=u},function(e,t,n){"use strict";function r(e){return i.apply(void 0,e.map((function(e){return{trackingEvents:e}}))).trackingEvents}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0]?e[0].trackingEvents:{};Array.isArray(n)&&(n=r(n));for(var i=1;i<e.length;i++)!function(t){var i=e[t]?e[t].trackingEvents:{};Array.isArray(i)&&(i=r(i)),Object.keys(i).forEach((function(e){var t=i[e];Array.isArray(t)&&(e in n?Array.isArray(n[e])&&(n[e]=n[e].concat(t)):n[e]=t)}))}(i);return{trackingEvents:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise((function(n,r){var i=document.createElement("script");i.type="text/javascript",i.src=e,i.crossOrigin="anonymous",i.onload=n,i.onerror=r,t.appendChild(i)}))}},function(e,t,n){"use strict";n.r(t);var r="__VAL__",i=["yandexuid","position","serviceName","reqid","path","sid","uuid","kpId","kpTrailerId","contentTypeId","monetizationModel","subscriptionType","puid","page","domain","vars","testIds","eventId","subProfileId","buildTimestamp","pathId","deviceId","appVersion","platformOs","platformVersion","platformVendor","platformModel","platformVendorDeviceId","platformName","psid","fromBlock","fromBlockPosition","fromBlockItemPosition","fromBlockAction","fromBlockMLSessionId","fromBlockStartPage","fromBlockEndPage","fromBlockExternalLink","isLive"],o=["setSource","init","error","adStart","adEnd","heartbeat","watchedTime","viewed"],s={film:{default:o,kp:o},trailer:{default:o},channel:{default:o},episode:{default:o},"vod-broadcast-episode":{default:o},"music-clip":{default:o},"short-video":{default:o},"ott-trailer":{default:o}},a={1:"channel-family",2:"channel",3:"episode",4:"vod-library",5:"vod-episode",6:"tv-series",7:"tv-season",8:"black-window",9:"out-of-tv-channel",10:"type-folder",11:"zen-namespace",12:"zen-library",13:"zen-episode",14:"yandex-disribution-library",15:"yandex-disribution-episode",16:"emergency-black-window",17:"cv-black-window",18:"yandex-market-library",19:"yandex-market-episode",20:"ott-movie",21:"ott-episode",22:"kd-feed-episode",24:"sport-episode",25:"announce",30:"ntv-vod-library",31:"ntv-vod-movie",32:"ntv-vod-series",33:"ntv-vod-series-season",34:"ntv-vod-series-season-episode",35:"ott-multipart",36:"ott-part",37:"ott-trailer",38:"ott-collection",39:"ott-collection-item",40:"high-light",41:"user-episode",42:"vod-news",43:"vod-broadcast",44:"vod-news-episode",45:"vod-broadcast-episode",46:"snapshot-tv-episode",47:"kp-trailer",48:"ya-news",49:"self-service-bw-window",50:"main-black-window",51:"music-clip",82:"ott_linked_video",83:"ott_music_karaoke",84:"ott_linked_video_parent",85:"ott_music_karaoke_parent",86:"ott-vod-library",87:"ott_linked_trailer",88:"ott_linked_music_clip",122:"ott-video-episode"},u="content_duration_",c=[["1","content_start"],["10000",u+"10"],["20000",u+"20"],["30000",u+"30"],["40000",u+"40"],["50000",u+"50"],["60000",u+"60"],["120000",u+"120"]],d="VIDEO_",l=[["25",d+"25"],["50",d+"50"],["75",d+"75"],["90",d+"90"],["99",d+"END"]];t.default=function(e,t){var n;"contentTypeID"in(n=e)&&(n.contentTypeId=n.contentTypeID),e=function(e){for(var t=0;t<i.length;t++){var n=i[t];void 0===e[n]&&(e[n]="domain"===n?document.location.hostname:"buildTimestamp"===n?Date.now():"-")}return e}(e=n);var o,u,d,h,p,f,_=(u={testing:{counterId:45961911,kpCounterId:48924764,vpCounterId:45151398,spCounterId:51357310},production:{counterId:45913512,kpCounterId:48924740,vpCounterId:31713861,spCounterId:51357310}})[o=t.env]?u[o]:u.testing,y=(h={testing:{ottTrackingsBackend:"https://tracking-testing.ott.yandex.net/v1/",metrikaBackend:"https://mc.yandex.ru/watch/",redirlogBackend:"https://yandex.ru/clck/jclck/"},production:{ottTrackingsBackend:"https://tracking.ott.yandex.net/v1/",metrikaBackend:"https://mc.yandex.ru/watch/",redirlogBackend:"https://yandex.ru/clck/jclck/"}})[d=t.env]?h[d]:h.testing,m={},v=e.serviceName,g=(p=e.contentTypeId)in(f={47:"trailer",20:"film",21:"film",51:"music-clip",87:"channel",88:"channel",122:"short-video",37:"ott-trailer",3:"episode",45:"vod-broadcast-episode"})?f[String(p)]:"film";return(v in s[g]?s[g][v]:s[g].default).forEach((function(e){m[e]=function(e,t,n){var r,i,o,s,a,u,d=[];"trailer"===t?(r="{{metrikaBackend}}{{vpCounterId}}?page-ref=yandex.ru&page-url=goal://{{domain}}/","init"===e?d.push('{{metrikaBackend}}{{vpCounterId}}?page-ref=yandex.ru&site-info={"kp_trailers":{"host":{"{{serviceName}}":{"{{kpId}}":{"{{uuid}}":"{{kpTrailerId}}"}}}}}&page-url=goal://{{domain}}/TRAILER_START'):"adStart"===e?d.push(r+"TRAILER_AD_START"):"adEnd"===e?d.push(r+"TRAILER_AD_END"):"viewed"===e&&d.push([r+"TRAILER_50",{percent:50}],[r+"TRAILER_90",{percent:90}])):(i='{{metrikaBackend}}<<COUNTER_NAME>>?page-ref=yandex.ru&site-info={"{{serviceName}}":{"{{fromBlock}}":{"<<EVENT_NAME>>":{"{{uuid}}":{"{{position}}":"{{monetizationModel}}"}}}}}',"setSource"!==e&&"init"!==e||(a=(s=i.replace("<<EVENT_NAME>>","video_start")).replace("<<COUNTER_NAME>>","{{counterId}}"),d.push(a+"&page-url=goal://{{domain}}/VIDEO_START"),"init"===e&&"kp"===n&&(o=s.replace("<<COUNTER_NAME>>","{{kpCounterId}}"),d.push(o+"&page-url=goal://{{domain}}/VIDEO_START"))),"adStart"!==e&&"adEnd"!==e||(a=(s=i.replace("<<EVENT_NAME>>",h="adStart"===e?"VIDEO_AD_START":"VIDEO_AD_END")).replace("<<COUNTER_NAME>>","{{counterId}}"),d.push(a),"kp"===n&&(u=s.replace("<<COUNTER_NAME>>","{{kpCounterId}}"),d.push(u))),"watchedTime"===e&&c.forEach((function(e){var t={offset:Number(e[0])},r=i.replace("<<EVENT_NAME>>",e[1]),o=r.replace("<<COUNTER_NAME>>","{{counterId}}");d.push([o,t]),"kp"===n&&d.push([r.replace("<<COUNTER_NAME>>","{{kpCounterId}}"),t]),"ya-sport"===n&&"120000"===e[0]&&d.push([r.replace("<<COUNTER_NAME>>","{{spCounterId}}")+"&page-url=goal://"+n+"/VIDEO_STREAM_2MIN",t])})),"viewed"===e&&l.forEach((function(e){var t={percent:Number(e[0])},r=(i+"&page-url=goal://{{domain}}/<<EVENT_NAME>>").replace(/<<EVENT_NAME>>/g,e[1]),o=r.replace("<<COUNTER_NAME>>","{{counterId}}");d.push([o,t]),"kp"===n&&d.push([r.replace("<<COUNTER_NAME>>","{{kpCounterId}}"),t])})));var h,p='{{ottTrackingsBackend}}watch?data={"position":"{{position}}","fromBlock":"{{fromBlock}}","serviceName":"{{serviceName}}","uuid":"{{uuid}}","puid":"{{puid}}","sid":"{{sid}}","vSid":"{{vsid}}","yaUID":"{{yandexuid}}","monetizationModel":"{{monetizationModel}}","contentTypeName":"{{contentTypeName}}","device-type":"{{device-type}}","device-type-tns":"{{device-type-tns}}","subscriptionType":"{{subscriptionType}}","page":"{{page}}","testIds":"{{testIds}}","eventId":"{{eventId}}","subProfileId":"{{subProfileId}}","deviceId":"{{deviceId}}","appVersion":"{{appVersion}}","platformOs":"{{platformOs}}","platformVersion":"{{platformVersion}}","platformVendor":"{{platformVendor}}","platformModel":"{{platformModel}}","platformVendorDeviceId":"{{platformVendorDeviceId}}","platformName":"{{platformName}}","psid":"{{psid}}","buildTimestamp":"{{buildTimestamp}}","pathId":"{{pathId}}","fromBlockPosition":"{{fromBlockPosition}}","fromBlockItemPosition":"{{fromBlockItemPosition}}","fromBlockAction":"{{fromBlockAction}}","fromBlockMLSessionId":"{{fromBlockMLSessionId}}","fromBlockStartPage":"{{fromBlockStartPage}}","fromBlockEndPage":"{{fromBlockEndPage}}","fromBlockExternalLink":"{{fromBlockExternalLink}}","isLive":"{{isLive}}"';if("setSource"!==e&&"init"!==e||d.push(p+',"eventType":"video_start","eventCount":"-","audio-track-lang":"{{audio-track-lang}}","audio-track-name":"{{audio-track-name}}","text-track-lang":"{{text-track-lang}}","text-track-name":"{{text-track-name}}"}'),"error"===e&&d.push(p+',"errorCode":"{{error-code}}","eventType":"player_error","eventCount":"-"}'),"adStart"!==e&&"adEnd"!==e||(h="adStart"===e?"VIDEO_AD_START":"VIDEO_AD_END",d.push(p+',"eventType":"'+h+'","eventCount":"-"}')),"heartbeat"===e){var f=void 0;switch(t){case"channel":case"short-video":case"ott-trailer":case"trailer":f=1e4;break;case"music-clip":f=3e4;break;default:f=6e4}d.push([p+',"timestamp":"{{timestamp}}","vts":"{{vts}}","fts":"{{fts}}","fullscreen":"{{fullscreen}}","eventType":"heartbeat","eventCount":"'+f+'","audio-track-name":"{{audio-track-name}}","audio-track-lang":"{{audio-track-lang}}","text-track-name":"{{text-track-name}}","text-track-lang":"{{text-track-lang}}","mute":"{{muted}}"}',{delay:f,offset:f}])}return"watchedTime"===e&&c.forEach((function(e){var t={offset:Number(e[0])};d.push([p+',"eventType":"'+e[1]+'","eventCount":"'+e[0]+'","audio-track-lang":"{{audio-track-lang}}","audio-track-name":"{{audio-track-name}}","text-track-lang":"{{text-track-lang}}","text-track-name":"{{text-track-name}}"}',t])})),"viewed"===e&&l.forEach((function(e){var t={percent:Number(e[0])};d.push([p+',"eventType":"'+e[1]+'","eventCount":"'+("99"==e[0]?"100":e[0])+'"}',t])})),d}(e,g,v)})),e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=1;r<e.length;r++){var i=e[r];if("object"==typeof i)for(var o in i)n[o]=i[o]}return n}(e,_,y,{contentTypeName:a[e.contentTypeId]||"unknown"}),{trackingEvents:JSON.parse(function(e,t,n){void 0===t&&(t={});var i={}.macros,o=void 0===i?"{{"+r+"}}":i,s={};Object.keys(t).forEach((function(e){var n=o.replace(r,e);s[n]=t[e]}));var a=new RegExp("("+Object.keys(s).join("|")+")","ig");return("string"==typeof e?e:JSON.stringify(e)).replace(a,(function(e){return e in s?encodeURI(s[e]):e}))}(m,e))}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),o=r(n(0)),s=r(n(1));o.default(),window.Ya.OTT.buildTrackings=i.default,window.Ya.OTT.PlayerLoader={init:function(e){return(new s.default).init(e)}}}])},4727:function(){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s="./src/entry/sandbox.ts")}({"../../node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return d})),n.d(t,"__generator",(function(){return l})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return _})),n.d(t,"__spread",(function(){return y})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return g})),n.d(t,"__asyncDelegator",(function(){return E})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return S})),n.d(t,"__importStar",(function(){return T})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return R})),n.d(t,"__classPrivateFieldSet",(function(){return C}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):d(o[0][2],n)}catch(e){d(o[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"../../node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"../../tmpl/common/blocks/i-polyfill/__object-assign/i-polyfill__object-assign.js":function(e,t){!function(){if(!Object.assign){var e=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n};try{Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}catch(t){Object.assign=e}}}()},"../../tmpl/stream-react/src/lib/backoff/index.ts":function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"Backoff",(function(){return i}));var i=function(){function e(e){void 0===e&&(e={}),r(this,"reset",(function(){this.attempts=0})),r(this,"_reconnectionDelayMin",void 0),r(this,"_reconnectionDelayMax",void 0),r(this,"_reconnectionFactor",void 0),r(this,"_reconnectionJitter",void 0),r(this,"_reconnectionMaxAttempts",void 0),r(this,"_attemptsDone",void 0),this._reconnectionDelayMin=e.reconnectionDelayMin||100,this._reconnectionDelayMax=e.reconnectionDelayMax||1e4,this._reconnectionFactor=e.reconnectionFactor||2,this._reconnectionJitter=e.reconnectionJitter>0&&e.reconnectionJitter<=1?e.reconnectionJitter:0,this._reconnectionMaxAttempts=e.reconnectionMaxAttempts||1/0,this._attemptsDone=0}return e.prototype.duration=function(){var e=this._reconnectionDelayMin*Math.pow(this._reconnectionFactor,this._attemptsDone++);if(this._reconnectionJitter){var t=Math.random(),n=Math.floor(t*this._reconnectionJitter*e);e=Math.floor(10*t)>=5?e-n:e+n}return Math.abs(Math.min(e,this._reconnectionDelayMax))},e.prototype.shouldRetry=function(){return Boolean(this._attemptsDone<this._reconnectionMaxAttempts)},e}()},"../../tmpl/stream-react/src/lib/error/index.ts":function(e,t,n){"use strict";function r(e){return e instanceof Error}function i(e){return!r(e)}function o(e){return e instanceof SyntaxError}n.r(t),n.d(t,"isError",(function(){return r})),n.d(t,"isSyntaxError",(function(){return o})),n.d(t,"isNotErrorData",(function(){return i}))},"../../tmpl/stream-react/src/lib/extractPartialFields/index.ts":function(e,t,n){"use strict";function r(e,t){return t.reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})}n.r(t),n.d(t,"extractPartialFields",(function(){return r}))},"../../tmpl/stream-react/src/lib/parseJSONSafe/index.ts":function(e,t,n){"use strict";function r(e){var t;try{t=JSON.parse(e)}catch(e){return e}return t}n.r(t),n.d(t,"parseJSONSafe",(function(){return r}))},"../../tmpl/stream-react/src/lib/url/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"addQueryToUrl",(function(){return c})),n.d(t,"makeUrl",(function(){return u})),n.d(t,"parseUrl",(function(){return a})),n.d(t,"parseSearch",(function(){return o})),n.d(t,"redirectPageToUrl",(function(){return d}));var r=/^(?:(.*?):)?\/\/([^/?#\s]+)(\/?.*)$/,i=/^(\/?[^?#\s]*)(?:\?([^#]+))?(?:#(.*))?$/;function o(e,t){return e.split("&").reduce((function(e,n){if(!n)return{};var r,i,o=n.match(/([^=]*)=(.*)/);if(o)try{r=decodeURIComponent(o[1]),i=decodeURIComponent(o[2])}catch(t){return e}else{try{r=decodeURIComponent(n)}catch(t){return e}i=""}return r in e&&t?("string"==typeof e[r]&&(e[r]=[e[r]]),e[r].push(i)):e[r]=i,e}),{})}function s(e){var t=[];if(!e)return"";for(var n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]&&null!==e[n]){var r=e[n];"object"!=typeof r&&(r=[r]);for(var i=0;i<r.length;++i)t.push(encodeURIComponent(n)+(""!==r[i]?"="+encodeURIComponent(r[i]):""))}return t.length?"?"+t.join("&"):""}function a(e,t){var n,s=e.match(r);if(s?n=s[3].match(i):(s=[],n=e.match(i)),!s&&!n)throw new TypeError('Invalid url "'+e+'"');var a={scheme:s[1]||"",host:s[2]||"",path:n&&n[1]||"",search:n&&n[2]||"",hash:n&&n[3]||"",query:{}};return a.query=o(a.search,t&&t.multi),a}function u(e){var t="";return!e.scheme||!e.host&&e.path||(t+=e.scheme+"://"),e.host&&(e.scheme||(t+="//"),t+=e.host),t&&(e.path&&0!==e.path.indexOf("/")||!e.path)&&"/"!==t.charAt(t.length-1)&&(t+="/"),t+=e.path||"",t+=s(e.query),e.hash&&(t+="#"+e.hash),t}function c(e,t){return e.replace(i,(function(e,n,r,i){var a=r?o(r):{};for(var u in t)t.hasOwnProperty(u)&&(a[u]=t[u]);return n+s(a)+(i?"#"+i:"")}))}var d=function(e){Ya.streamModules.utils.redirectPageToUrl(e)}},"./src/core/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"EtherCms",(function(){return o}));var r=n("./src/modules/init/index.ts");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t){if(i(this,"_inited",!1),i(this,"forbidden",{}),i(this,"settings",{exp:{}}),i(this,"apiUrl","https://frontend.vh.yandex.ru/v23/"),i(this,"graphqlUrl","https://frontend.vh.yandex.ru/graphql"),i(this,"_errorLib",{logError:function(e,t){t&&console.error(t),console.log(e)}}),i(this,"_rumLib",{timeEnd:function(e,t){console.log(e,t)},getTime:function(){return Number(new Date)}}),i(this,"_sessionParams",void 0),i(this,"_baseParams",void 0),i(this,"reqparamsCms",void 0),t)return Object.assign(t,this),Object.getOwnPropertyNames(e.prototype).forEach((function(n){"constructor"!==n&&(t.constructor.prototype[n]=e.prototype[n])})),t}return e.prototype.init=function(e){this._inited||(Object(r.init)(this,e),this._inited=!0)},e}()},"./src/entry/sandbox.ts":function(e,t,n){"use strict";n.r(t),function(e){n("../../tmpl/common/blocks/i-polyfill/__object-assign/i-polyfill__object-assign.js");var r=n("./src/modules/instance/index.ts");n.d(t,"etherCmsInstance",(function(){return r.etherCmsInstance}));var i=n("./src/modules/ajax/index.ts"),o=n("./src/modules/error/index.ts"),s=n("./src/modules/vhnotify/index.ts");Object.assign(r.etherCmsInstance.constructor.prototype,{ajax:i.ajax,onError:o.onError,initXiva:s.initXiva,subscribe:s.subscribe,unsubscribe:s.unsubscribe}),e.Ya=e.Ya||{},e.Ya.streamCms=r.etherCmsInstance}.call(this,n("../../node_modules/webpack/buildin/global.js"))},"./src/modules/ajax/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ajax",(function(){return d})),n.d(t,"getMetaToVhError",(function(){return l})),n.d(t,"getApiUrl",(function(){return u})),n.d(t,"sendFetchTimeMark",(function(){return c}));var r=n("../../node_modules/tslib/tslib.es6.js"),i=n("./src/modules/instance/index.ts"),o=n("./src/modules/error/index.ts"),s=n("./src/modules/load/index.ts"),a=n("./src/modules/data-error/index.ts");function u(e,t){var n=i.etherCmsInstance.apiUrl,r={serverdata:"/efir/api/appdata",timestamp:"/efir/api/timestamp",channels:"/portal/tvstream_json/channels",player:"".concat(n,"player/").concat(t,".json"),episodes:"".concat(n,"episodes.json"),mychannel:"".concat(n,"mychannel/episodes.json"),doc2doc:"".concat(n,"doc2doc"),feed:"".concat(n,"feed.json"),carousel:"".concat(n,"carousel_videohub.json"),collection:"".concat(n,"collection"),blogger:"".concat(n,"blogger"),live_feed:"".concat(n,"live_feed"),theme:"".concat(n,"theme"),search:"".concat(n,"search"),series_seasons:"".concat(n,"series_seasons.json"),series_episodes:"".concat(n,"series_episodes.json"),my_subscriptions:"".concat(n,"my_subscriptions"),filter_identities:"".concat(n,"filter_identities"),favorites:"".concat(n,"favorites"),top_carousels:"".concat(n,"top_carousels.json")};if(r[e])return r[e];Object(o.onError)({method:"getApiUrl",message:"wrong api name: "+e,source:"code",meta:{name:e}})}function c(e,t){var n="cms.fetch."+e;i.etherCmsInstance._rumLib.timeEnd(n,t)}function d(e,t){var n,d=i.etherCmsInstance._baseParams,l=["channels","serverdata","timestamp"].indexOf(e)<0,h=t&&t.content_id,p=u(e,h),f=Object(r.__assign)(Object(r.__assign)({},t),d);return p?(t&&t.from&&(f.from=t.from),"serverdata"===e&&(delete f.reqid,delete f.hash),n=i.etherCmsInstance._rumLib.getTime(),Object(s.load)({url:p,name:e,data:f,xhrFields:{withCredentials:!0}}).then((function(t){return n&&c(e,n),l&&Object(a.checkErrors)(t),t}))):Promise.reject(Object(o.onError)({message:"ajax: no url"}))}function l(e){var t={};return e&&(t.reqid=e.reqid,t.apphostReqid=e["apphost-reqid"],e["search-reqid"]&&(t.searchReqid=e["search-reqid"])),t}},"./src/modules/data-error/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"checkErrors",(function(){return i}));var r=n("./src/modules/instance/index.ts");function i(e){var t=e.errors,n={invalid_region:"region",no_licenses:"licenses",old_browser:"browser",future_vod_release:"future_vod"},i=["invalid_region","no_licenses","old_browser"];r.etherCmsInstance.settings.disableFutureVod||i.push("future_vod_release"),i.map((function(i){var o=t&&t[i]?t[i]:[];e.error===i&&e.content&&o.push(e.content.content_id),o.forEach((function(e){r.etherCmsInstance.forbidden[e]=n[i]}))}))}},"./src/modules/error/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"onError",(function(){return a})),n.d(t,"getErrorParams",(function(){return s}));var r=n("../../node_modules/tslib/tslib.es6.js"),i=n("./src/modules/instance/index.ts"),o=n("./src/modules/session/index.ts");function s(e,t){var n=Object(r.__assign)(Object(r.__assign)({},t.meta),e.meta),i=Object(o.getSessionParams)();return i&&(n.from=i.from,n.from_block=i.from_block),t.message&&t.message!==e.message&&(e.message=(e.message?e.message+"; ":"")+t.message||""),e.block=e.block||"stream-cms",e.method=e.method||"onError",e.sourceType=e.sourceType||"logic",e.meta=n,Object.assign(t,e),e}function a(e,t,n){t||(t=new Error(e.message||e.method||"onError")),e=s(e,t);var r=function(){e.message===t.message&&delete e.message,i.etherCmsInstance._errorLib.logError(e,t)};return n?setTimeout(r,0):r(),t}},"./src/modules/init/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return s}));var r=n("../../node_modules/tslib/tslib.es6.js"),i=n("./src/modules/session/index.ts"),o=n("./src/modules/error/index.ts");function s(e,t){var n,s;if(t.errorLib&&(e._errorLib=t.errorLib),t.rumLib&&(e._rumLib=t.rumLib),n=t.disabled,s=t.isPartialServerData,t.settings){if(e.settings=t.settings,e.settings.isMorda){var a=e.settings.exp||{};a.ether_graphql=!1,a.ether_graphql_queue=!1}t.settings.apiUrl&&(e.apiUrl=e.settings.apiUrl+"/"),t.settings.graphqlUrl&&(e.graphqlUrl=e.settings.graphqlUrl)}n||s||t.settings?(e.reqparamsCms=t.reqparamsCms||{},e._sessionParams=t.sessionParams,e._baseParams=Object(r.__assign)({},e.reqparamsCms),Object(i.setSessionParams)()):Object(o.onError)({method:"_init",message:"stream-cms._init: no settings !!!"})}},"./src/modules/instance/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"etherCmsInstance",(function(){return o}));var r=n("./src/core/index.ts"),i="undefined"!=typeof Ya&&Ya.streamCms,o=new r.EtherCms(i||void 0)},"./src/modules/load/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"load",(function(){return s}));var r=n("../../node_modules/tslib/tslib.es6.js"),i=n("../../tmpl/stream-react/src/lib/url/index.ts"),o=n("./src/modules/error/index.ts");function s(e){var t,n=e.method||"GET";return new Promise((function(s,a){var u,c="GET"===n?Object(i.addQueryToUrl)(e.url,e.data||{}):e.url,d=new XMLHttpRequest,l=function(t,i){a(Object(o.onError)({message:(e.name?e.name+" ":"")+"load: "+t,method:"load",source:"vh",sourceMethod:e.name,meta:Object(r.__assign)({response:"wrong JSON"===t&&d.responseText,status:d.status},"GET"===n?e.data:{})},i,!0))};d.open(n,c,!0),e.xhrFields&&Object.assign(d,e.xhrFields),d.onload=function(){var e;if(d.status>=200&&d.status<400){if(!d.responseText)return l("empty response");try{return e=JSON.parse(d.responseText),void s(e)}catch(e){return l("wrong JSON",e)}}return l("bad status")},d.onerror=function(){return l("bad response")},"GET"!==n&&(u=e.data,t="string"==typeof u?e.data:JSON.stringify(e.data)),d.send(t||"")}))}},"./src/modules/session/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"setSessionParams",(function(){return a})),n.d(t,"getSessionParams",(function(){return u}));var r=n("../../node_modules/tslib/tslib.es6.js"),i=n("../../tmpl/stream-react/src/lib/extractPartialFields/index.ts"),o=n("./src/modules/instance/index.ts"),s=["reqid","service","from","from_block","locale","hash","distr_id"];function a(e){void 0===e&&(e={}),o.etherCmsInstance._sessionParams=Object(r.__assign)(Object(r.__assign)({},o.etherCmsInstance._sessionParams),e),o.etherCmsInstance._baseParams=Object(r.__assign)(Object(r.__assign)({},o.etherCmsInstance._baseParams),Object(i.extractPartialFields)(o.etherCmsInstance._sessionParams,s))}function u(){return o.etherCmsInstance._sessionParams}},"./src/modules/vhnotify/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"initXiva",(function(){return m})),n.d(t,"subscribe",(function(){return b})),n.d(t,"unsubscribe",(function(){return S}));var r,i=n("../../node_modules/tslib/tslib.es6.js"),o=n("../../tmpl/stream-react/src/lib/parseJSONSafe/index.ts"),s=n("../../tmpl/stream-react/src/lib/error/index.ts"),a=n("./src/modules/xiva/index.ts"),u=n("./src/modules/error/index.ts"),c={},d=[],l={service:"vhnotify",client:"ether"};function h(e){var t=e.detail;Object(u.onError)({message:"xiva closed connection, "+t.errorText,meta:{closeCode:t.closeCode,isFatal:t.isFatal}})}function p(e){return e.handler+"*"+e.id}function f(e,t){c[e]&&c[e].forEach((function(e){return e(t)}))}function _(e,t){return Object(u.onError)({message:"error on xiva, vhnotify",source:"vh",sourceMethod:e},t)}function y(e){var t,n=e.detail,r=n.message,i=n.tags,a=n.operation,u=i.filter((function(e){return e!==a}))[0],c=p({handler:a,id:u});switch(a){case"streams":if(t=Object(o.parseJSONSafe)(r),Object(s.isError)(t))return void _("streams",t);f(c,t);break;case"viewers":if(t=Object(o.parseJSONSafe)(r),Object(s.isError)(t))return void _("viewers",t);f(c,t)}}function m(e){if(e.session&&e.user){var t=Object(i.__assign)(Object(i.__assign)({},l),e);r||((r=new a.Xiva).connect(t),r.addEventListener("error",h),r.addEventListener("message",y))}else Object(u.onError)({message:"initXiva: no session or user",method:"initXiva",source:"code",sourceMethod:"xiva",meta:{session:e.session,user:e.user}})}function v(e,t){return e+":"+t.join("+")}function g(e){r||Object(u.onError)({message:"Xiva is not inited",source:"code",sourceMethod:"xiva",method:e})}function E(e){r.reconnect({service:v("vhnotify",e)})}function b(e,t){if(g("subscribe"),"function"==typeof t){var n=p(e);c[n]||(c[n]=[],d.push(n),E(d)),c[n].push(t)}}function S(e,t){g("subscribe");var n=p(e),i=c[n];i&&t&&i.splice(i.indexOf(t),1),i.length&&t||(delete c[n],d.splice(d.indexOf(n),1),d.length?E(d):r.disconnect())}},"./src/modules/xiva/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Xiva",(function(){return d}));var r=n("../../node_modules/tslib/tslib.es6.js"),i=n("../../tmpl/stream-react/src/lib/url/index.ts"),o=n("../../tmpl/stream-react/src/lib/backoff/index.ts"),s=n("../../tmpl/stream-react/src/lib/parseJSONSafe/index.ts"),a=n("../../tmpl/stream-react/src/lib/error/index.ts");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={api:"wss://push.yandex.ru/v2/subscribe/websocket",reconnectParams:{reconnectionDelayMin:100,reconnectionDelayMax:1e4,reconnectionFactor:1.5,reconnectionJitter:.1,reconnectionMaxAttempts:1/0}},d=function(){function e(e,t){u(this,"_ws",void 0),u(this,"_apiUrl",void 0),u(this,"_eventer",void 0),u(this,"_sessionParams",void 0),u(this,"_retries",void 0),u(this,"_timerResubscribe",void 0),u(this,"addEventListener",void 0),u(this,"removeEventListener",void 0);var n=t&&t.reconnectParams||c.reconnectParams;this._retries=new o.Backoff(n),this._apiUrl=t&&t.api||c.api,e&&(this._sessionParams=e),this._eventer=document.createDocumentFragment(),this.addEventListener=this._eventer.addEventListener.bind(this._eventer),this.removeEventListener=this._eventer.removeEventListener.bind(this._eventer),this._onOpen=this._onOpen.bind(this),this._onClose=this._onClose.bind(this),this._onMessage=this._onMessage.bind(this),this._onError=this._onError.bind(this)}return e.prototype.connect=function(e){if(!((e=e||this._sessionParams)&&e.user&&e.service))throw new Error("no session params or no user/service on Xiva.init");this._sessionParams=e,this._connect()},e.prototype.reconnect=function(e){this._sessionParams=Object(r.__assign)(Object(r.__assign)({},this._sessionParams),e),this._connect()},e.prototype.disconnect=function(){clearTimeout(this._timerResubscribe),this._unbindeEvents(),this._ws&&(this._ws.close(1e3),this._ws=null)},e.prototype.send=function(e){this._ws.send(e)},e.prototype._connect=function(){"function"==typeof WebSocket&&(this.disconnect(),this._ws=new WebSocket(this._prepareUrl()),this._bindEvents())},e.prototype._prepareUrl=function(){return Object(i.addQueryToUrl)(this._apiUrl,this._sessionParams)},e.prototype._unbindeEvents=function(){var e=this._ws;e&&(e.removeEventListener("open",this._onOpen),e.removeEventListener("close",this._onClose),e.removeEventListener("message",this._onMessage),e.removeEventListener("error",this._onError))},e.prototype._bindEvents=function(){var e=this._ws;e.addEventListener("open",this._onOpen),e.addEventListener("close",this._onClose),e.addEventListener("message",this._onMessage),e.addEventListener("error",this._onError)},e.prototype._onOpen=function(e){this._retries.reset(),this._dispatchEvent(e)},e.prototype._onClose=function(e){var t=this,n=this._retries.shouldRetry();this._ws=null,clearTimeout(this._timerResubscribe),n||setTimeout((function(){t._connect()}),this._retries.duration()),this._dispatchEvent(e);var r,i=e.code;1e3!==i&&(r=4400===i||4401===i||4500===i?e.reason:"unknown close code",this._dispatch("xivaError",{closeCode:i,errorText:r,isFatal:n}))},e.prototype._onMessage=function(e){var t=this,n=Object(s.parseJSONSafe)(e.data);if(!Object(a.isError)(n))return"ping"===n.operation?(clearTimeout(this._timerResubscribe),void(this._timerResubscribe=setTimeout((function(){return t._ws.close(1e3)}),1e3*(n["server-interval-sec"]+2)))):void this._dispatch("message",n);this._dispatch("error",n)},e.prototype._onError=function(e){this._dispatchEvent(e)},e.prototype._dispatch=function(e,t){var n=new CustomEvent(e,{detail:t});this._eventer.dispatchEvent(n)},e.prototype._dispatchEvent=function(e){var t=new CustomEvent(e.type,e);this._eventer.dispatchEvent(t)},e}()}})},3699:function(e,t,n){"use strict";n.r(t)},8274:function(e,t,n){"use strict";n.r(t)},2425:function(e,t,n){"use strict";n.r(t)},1107:function(e,t,n){!function(){"use strict";function e(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}var t=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function i(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}a(t.promise,r)}else(1===e._state?a:u)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void l((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}var r,i}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn((function(){e._handled||o._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e((function(e){n||(n=!0,a(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new d(e,t,n)),n},o.prototype.finally=e,o.all=function(e){return new o((function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function s(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){s(e,t)}),n)}i[e]=r,0==--o&&t(i)}catch(e){n(e)}}for(var a=0;a<i.length;a++)s(a,i[a])}))},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,s=e.length;i<s;i++)o.resolve(e[i]).then(t,n)}))},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){t(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();"Promise"in h?h.Promise.prototype.finally||(h.Promise.prototype.finally=e):h.Promise=o}()},7507:function(e,t){"use strict";var n=function(){function e(){}return e.getCookies=function(){return document.cookie},e.get=function(t){var n=new RegExp(t+"=([^;]+)","i"),r=e.getCookies().match(n);return r&&r[1]?decodeURIComponent(r[1]):""},e}();t.Z=n},5764:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6874),i=function(){function e(t,n,i){var o,s={},a={};if((0,r.isObject)(n))for(var u in n)if(n.hasOwnProperty(u)){var c=n[u];(0,r.isObject)(c)?((0,r.isUndefined)(c.value)||(this[u]=c.value),(0,r.isFunction)(c.set)&&(s[u]=c.set),c.unsafe&&(a[u]=!0)):(0,r.isUndefined)(c)||(this[u]=c)}if(t){var d=(0,r.isObject)(t)?t:e.parse(t);for(var u in d)if(d.hasOwnProperty(u)){var l=this[u],h=s[u];s.hasOwnProperty(u)&&(0,r.isFunction)(h)?h.call(this,d[u],u):this[u]=d[u],this[u]!==l&&a[u]&&((o=o||{})[u]=this[u])}}o&&(0,r.isFunction)(i)&&i(o,this)}return e.parse=function(t,n,i){var o={};if(!t||!(0,r.isString)(t))return o;var s=t;"?"!==s[0]&&"#"!==s[0]||(s=s.slice(1));for(var a=s.split(n||"&"),u=0;u<a.length;u++){var c=a[u].indexOf("=");-1!==c?o[decodeURIComponent(a[u].slice(0,c))]=e.parseJSON(decodeURIComponent(a[u].slice(c+1))):i&&(o[decodeURIComponent(a[u])]=!0)}return o},e.parseJSON=function(e){try{return JSON.parse(e)}catch(t){return e}},e.prototype.toString=function(e,t,n){void 0===e&&(e="&"),void 0===t&&(t=!1),void 0===n&&(n=[]);var i,o=encodeURIComponent,s=this,a=Object.keys(s).filter((function(e){return!(0,r.isUndefined)(s[e])})).map((function(e){return i=s[e],(0,r.isObject)(i)&&(i=JSON.stringify(i)),n.indexOf(e)>-1?e+"="+i:o(e)+"="+o(i)})).join(e);return t&&(a+=e),a},e.prototype.appendTo=function(e){var t=this.toString();return t?(e+=e.indexOf("?")>-1?"&":"?",e+=t):e},e}();t.default=i},721:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.links=void 0,n(2091),t.links={SANDBOX_NAME:"vh-player-js",VERSION:"0x227bae77315",BUCKET:n(2446)},t.links.BUCKET.url=("http:"===location.protocol?"http:":"https:")+t.links.BUCKET.url},6163:function(e,t,n){"use strict";t.B=void 0;var r=n(6064),i=n(5265),o=n(6874),s=function(){function e(t,n){e.GUID++;var o="announce-release"+e.GUID;this.container=t,this.container.insertAdjacentHTML("beforeend",'<div id="'+o+'"></div>'),this.lang=n,this.store=new i.Bender(document.getElementById(o),{hidden:!0,small:!1,background:"",shadowColor:"",title:"",subTitle:(0,r.I18N)("REMINDER",this.lang),release:{month:null,day:null,time:null},link:{text:(0,r.I18N)("ETHER_SUBSCRIPTION",this.lang),videoId:""}},this.template)}return e.prototype.template=function(){if(this.hidden)return"";var e='style="display: none;"',t='style="display: inline;"',n='style="display: block;"',r={announceClasses:"",announceStyle:"",contentStyle:"",badgeStyle:e,monthContent:"",dayContent:"",titleStyle:e,titleContent:"",timeStyle:e,timeContent:"",subTitleStyle:e,subTitleContent:"",buttonAttrs:e,buttonContent:""};if(this.background&&(r.announceStyle='style="background-image: url(${url});"'.replace("${url}",i.Bender.escape(this.background))),this.shadowColor&&(r.contentStyle='style="background-color: ${color};"'.replace("${color}",i.Bender.escape(this.shadowColor))),this.title&&(r.titleStyle=t,r.titleContent=i.Bender.escape(this.title)),this.subTitle&&(r.subTitleContent=this.subTitle),this.release.month&&this.release.day&&(r.badgeStyle=n,r.monthContent=this.release.month,r.dayContent=this.release.day),this.release.time&&(r.timeStyle=t,r.timeContent=this.release.time),this.link.videoId){var o="https://yandex.ru/efir/?stream_id="+this.link.videoId+"&from=efir&from_block=videohub";r.buttonAttrs="",r.buttonAttrs+=' href="${url}"'.replace("${url}",o),r.buttonAttrs+=' target="_blank"',r.buttonAttrs+=" "+n,r.subTitleStyle=n}return this.link.text&&(r.buttonContent=this.link.text),this.small&&(r.announceClasses="announce-release_small",r.badgeStyle=e,r.timeStyle=n,r.subTitleStyle=e,r.buttonAttrs=e),Object.keys(r).reduce((function(e,t){return e.replace("${"+t+"}",r[t])}),'<div class="announce-release ${announceClasses}" ${announceStyle}><div class="announce-release__content" ${contentStyle}><div class="announce-release__badge" ${badgeStyle}><div class="announce-release__month">${monthContent}</div><div class="announce-release__day">${dayContent}</div></div><div class="announce-release__text"><div class="announce-release__title" ${titleStyle}>${titleContent}</div><span class="announce-release__time" ${timeStyle}> ${timeContent}</span><div class="announce-release__sub-title" ${subTitleStyle}>${subTitleContent}</div></div><a class="announce-release__button" ${buttonAttrs}><span class="announce-release__button-text">${buttonContent}</span></a></div></div>')},e.prototype.isFutureDate=function(e){return!!e&&e>Math.floor(Date.now()/1e3)},e.prototype.setBackground=function(e,t){return this.store.state.background=e,this.store.state.shadowColor=t,this},e.prototype.setLabel=function(e){return this.store.state.title=e,this},e.prototype.setTime=function(e){return this.time=(0,o.isNumber)(e)&&e>0?e:0,this},e.prototype.setVideoId=function(e){return this.store.state.link.videoId=e,this},e.prototype.onStart=function(e,t){return this.onStartCallback=e.bind(t),this},e.prototype.update=function(){if(this.store.state.hidden)return this;if(this.diff=this.time-Math.floor(Date.now()/1e3),this.diff<1)return this.onStartCallback&&(this.onStartCallback(),this.store.state.hidden=!0),this;this.store.state.release.time=this.diff<3600?e.formatDiff(this.diff,this.lang):e.formatTime(this.time,this.lang);var t=new Date(1e3*this.time);this.store.state.release.month=t.toLocaleString(this.lang,{month:"short"}).replace(".",""),this.store.state.release.day=t.getDate(),this.store.state.small=this.isSmall();var n=this.diff<7200?1e3*this.diff/2:36e5;return setTimeout(this.update.bind(this),n),this},e.prototype.show=function(){return this.store.state.hidden=!1,this.update(),this},e.prototype.hide=function(){return this.store.state.hidden=!0,this},e.prototype.isSmall=function(){return this.container.clientWidth<450||this.container.clientHeight<300},e.formatDiff=function(e,t){var n=Math.floor(e/60),i=Math.floor(n/10),o=n%10;if(e<0)return(0,r.I18N)("ANNOUNCE_ALREADY",t);if(n<1)return(0,r.I18N)("ANNOUNCE_NOW",t);var s=(0,r.I18N)("TIME_THROUGH",t)+" "+n;return 1===o&&1!==i?s+" "+(0,r.I18N)("TIME_ONE_MINUTE",t):o>1&&o<5&&1!==i?s+" "+(0,r.I18N)("TIME_TWO_MINUTES",t):s+" "+(0,r.I18N)("TIME_FIVE_MINUTES",t)},e.formatTime=function(e,t){var n=new Date(1e3*e),i=new Date,o=i.getFullYear(),s=i.getMonth(),a=i.getDate();if(new Date(o,s,a+3)<n)return n.toLocaleString(t,{month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).replace(",","");var u=n.getHours(),c=n.getMinutes(),d=u<10?"0"+u:u.toString(),l=c<10?"0"+c:c.toString();return new Date(o,s,a+2)<n?(0,r.I18N)("TIME_AFTER_TOMORROW",t)+" "+d+":"+l:new Date(o,s,a+1)<n?(0,r.I18N)("TIME_TOMORROW",t)+" "+d+":"+l:(0,r.I18N)("TIME_TODAY",t)+" "+d+":"+l},e.GUID=0,e}();t.B=s},1074:function(e,t,n){"use strict";t.n=void 0;var r=n(6064),i=function(){function e(e,t){this.toLiveHandlers=[],this.toLiveHandlers=[],this.lang=t,this.domElem||(e.insertAdjacentHTML("beforeEnd",this.createHTML()),this.domElem=e.querySelector(".announce"),this.domElem&&(this.timeElem=this.domElem.querySelector(".announce__time"),this.labelElem=this.domElem.querySelector(".announce__label"),this.buttonElem=this.domElem.querySelector(".announce__button"),this.contentElem=this.domElem.querySelector(".announce__content"),this.buttonElem&&this.buttonElem.addEventListener("click",this.onButtonClick.bind(this))))}return e.prototype.setBackground=function(e,t){var n=this;return this.domElem&&e!==this.background?(this.preloadImage(e,(function(){n.domElem&&(n.domElem.style.backgroundImage='url("'+e+'")'),n.contentElem&&(n.contentElem.style.backgroundColor=t||""),n.background=e}),(function(){n.domElem.style="",n.contentElem.style="",n.background=void 0})),this):this},e.prototype.setLabel=function(e){return this.labelElem&&e!==this.label?(this.labelElem.style.display=e?"inline":"none",this.labelElem.textContent=e,this.label=e,this):this},e.prototype.setTime=function(t){if(!this.timeElem)return this;if(this.timeElem.style.display=t?"inline":"none",t){var n=t-Math.floor((new Date).getTime()/1e3),r=n<3600?e.formatDiff(n,this.lang):e.formatTime(t,this.lang);r!==this.formattedTime&&(this.timeElem.textContent=r,this.formattedTime=r)}return this},e.prototype.toggleLiveButton=function(e){return this.buttonElem&&(this.buttonElem.style.display=e?"block":"none"),this},e.prototype.show=function(){return this.domElem&&this.domElem.classList.remove("announce_hidden"),this},e.prototype.hide=function(){return this.domElem&&this.domElem.classList.add("announce_hidden"),this},e.prototype.onLiveButtonClick=function(e,t){return"function"==typeof e&&this.toLiveHandlers.push({callback:e,context:t||this}),this},e.prototype.createHTML=function(){return'<div class="announce announce_hidden"><div class="announce__content"><div class="announce__text"><span class="announce__label" style="display: none;"></span><span class="announce__time" style="display: none;"></span></div><button class="announce__button" style="display: none;"><span class="announce__button-text">'+(0,r.I18N)("ON_AIR_TITLE",this.lang)+"</span></button></div></div>"},e.prototype.preloadImage=function(t,n,r){if(t)if("boolean"!=typeof e._preloadedImages[t]){var i=new Image;n&&(i.onload=function(){e._preloadedImages[t]=!0,n&&n()}),r&&(i.onerror=function(){e._preloadedImages[t]=!1,r&&r()}),i.src=t,function r(o){if("boolean"!=typeof e._preloadedImages[t]&&!(o<=0))return i.complete&&0!==i.naturalHeight?(e._preloadedImages[t]=!0,void(n&&n())):void setTimeout(r.bind(this,o-1),500)}(6)}else e._preloadedImages[t]?n&&n():r&&r();else r&&r()},e.formatDiff=function(e,t){var n=Math.floor(e/60),i=Math.floor(n/10),o=n%10;if(e<0)return(0,r.I18N)("ANNOUNCE_ALREADY",t);if(n<1)return(0,r.I18N)("ANNOUNCE_NOW",t);var s=(0,r.I18N)("BROADCAST_START",t)+" "+(0,r.I18N)("TIME_THROUGH",t)+" "+n;return 1===o&&1!==i?s+" "+(0,r.I18N)("TIME_ONE_MINUTE",t):o>1&&o<5&&1!==i?s+" "+(0,r.I18N)("TIME_TWO_MINUTES",t):s+" "+(0,r.I18N)("TIME_FIVE_MINUTES",t)},e.formatTime=function(e,t){var n=new Date(1e3*e),i=new Date,o=i.getFullYear(),s=i.getMonth(),a=i.getDate();if(new Date(o,s,a+3)<n)return(0,r.I18N)("BROADCAST_START",t)+" "+n.toLocaleString();var u=n.getHours(),c=n.getMinutes(),d=u<10?"0"+u:u.toString(),l=c<10?"0"+c:c.toString();return new Date(o,s,a+2)<n?(0,r.I18N)("BROADCAST_START",t)+" "+(0,r.I18N)("TIME_AFTER_TOMORROW",t)+" "+d+":"+l:new Date(o,s,a+1)<n?(0,r.I18N)("BROADCAST_START",t)+" "+(0,r.I18N)("TIME_TOMORROW",t)+" "+d+":"+l:(0,r.I18N)("BROADCAST_START",t)+" "+(0,r.I18N)("TIME_TODAY",t)+" "+d+":"+l},e.prototype.onButtonClick=function(){for(var e=this.toLiveHandlers.length,t=0;t<e;t++){var n=this.toLiveHandlers[t];n.callback.call(n.context)}},e._preloadedImages={},e}();t.n=i},5265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bender=void 0;var r=n(6874),i=function(){function e(e,t,n){this.state={},this.container=e,this.toString=n.bind(this.state),this.createState(this.state,t)}return e.escape=function(t){return t.replace(e.ESCAPE.REGEXP,(function(t){return e.ESCAPE.MAP[t]}))},e.prototype.createState=function(e,t){var n=this,i={},o=function(e){if(!t.hasOwnProperty(e))return"continue";if((0,r.isObject)(t[e])&&!Array.isArray(t[e])){var o={};return s.createState(o,t[e]),i[e]={get:function(){return o}},"continue"}i[e]={get:function(){return t[e]},set:function(r){r!==t[e]&&(t[e]=r,n.render())}}},s=this;for(var a in t)o(a);Object.defineProperties(e,i)},e.prototype.render=function(e){var t=this;e?(this.planned&&(clearTimeout(this.planned),this.planned=null),this.container.innerHTML=this.toString()):this.planned||(this.planned=setTimeout((function(){t.render(!0),t.planned=null}),50))},e.ESCAPE={REGEXP:/[<>`'"]/g,MAP:{"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","`":"&#x60;"}},e}();t.Bender=i},4144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6874),o=n(721);!function(e){e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR"}(r||(r={}));var s=[{name:"player-async",exceptCSS:!0}],a=function(){function e(){}return e.loadBundleStyle=function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=n,e.loadResource(t,r)},e.loadBundleScript=function(t,n){var r=document.createElement("script");r.src=n,r.type="text/javascript",r.async=!0,e.loadResource(t,r)},e.loadBundles=function(){var t=o.links.BUCKET,n=t.url;t.version&&(n+="/"+t.version),n+="/bundles-common";for(var r,i=document.querySelector("head"),a=0,u=s;a<u.length;a++){var c=u[a];if("string"==typeof c)r={name:c,exceptCSS:!1,exceptJS:!1};else{if(!c||"object"!=typeof c)continue;r=c}r.exceptCSS||e.loadBundleStyle(i,n+"/"+r.name+"/_"+r.name+".css"),r.exceptJS||e.loadBundleScript(i,n+"/"+r.name+"/_"+r.name+".js")}},e.loadResource=function(t,n,o,s){var a=n.src||n.href;a in e.loadedScripts?this.loadedScripts[a].status===r.SUCCESS?(0,i.isFunction)(o)&&o():e.loadedScripts[a].status===r.ERROR?(0,i.isFunction)(s)&&s():((0,i.isFunction)(o)&&e.loadedScripts[a].onload.push(o),(0,i.isFunction)(s)&&e.loadedScripts[a].onerror.push(s)):(n.onload=function(){var t=e.loadedScripts[a];if(t){t.status=r.SUCCESS;for(var n=0,i=t.onload;n<i.length;n++)(0,i[n])();t.onload=[],t.onerror=[]}},n.onerror=function(){var t=e.loadedScripts[a];if(t){t.status=r.ERROR;for(var n=0,i=t.onerror;n<i.length;n++)(0,i[n])();t.onload=[],t.onerror=[]}},e.loadedScripts[a]={status:r.LOADING,onload:[],onerror:[]},(0,i.isFunction)(o)&&e.loadedScripts[a].onload.push(o),(0,i.isFunction)(s)&&e.loadedScripts[a].onerror.push(s),t.appendChild(n))},e.loadedScripts={},e}();t.default=a},7169:function(e,t,n){"use strict";var r=n(6874),i=n(1296),o=n(8208),s=n(721),a=function(){function e(){}return e.createVarsString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&t.push(n+"="+encodeURIComponent(e[n]).replace(/\*/g,"%2A"));return t.join(",")},e.normalizeError=function(e){var t=(0,r.isObject)(e.meta)?e.meta:{};try{t.query=decodeURIComponent((0,i.getLocation)().search),t.hash=decodeURIComponent((0,i.getLocation)().hash)}catch(e){}return{env:(0,o.getEnv)(),page:s.links.SANDBOX_NAME,version:s.links.VERSION,level:e.level||"error",reqid:e.reqid||"empty",yandexuid:e.yandexuid,service:e.service,file:e.filename||e.fileName,line:e.lineno||e.lineNumber,col:e.colno||e.colNumber,stack:e.error&&e.error.stack||e.stack||"",message:e.message,additional:t,path:"690.2361",slots:e.slots||""}},e.sendCounter=function(t){var n=["//yandex.ru/clck/jclck","dtype=stred","path="+t.path,"reqid="+t.reqid,"slots="+t.slots,"vars="+e.createVarsString({143:"28.1434","-env":t.env,"-yandexuid":t.yandexuid,"-service":t.service,"-version":t.version,"-page":t.page,"-level":t.level,"-msg":t.message,"-url":t.file,"-line":t.line,"-col":t.col,"-stack":t.stack,"-additional":JSON.stringify(t.additional),"-ua":navigator.userAgent,"-project":"video-player"}),"*"+(0,i.getLocation)().href].join("/");e.reportError(n)},e.reportError=function(e){try{-1===navigator.userAgent.indexOf("UCBrowser")&&navigator.sendBeacon&&navigator.sendBeacon(e," ")||(document.createElement("img").src=e)}catch(e){}},e.filterError=function(e){if(e){var t=e.stack||e.error&&e.error.stack;return[/\/video-player\/[^\/]*\/?bundles-common\//,/\/video-player\/[^\/]*\/?pages-common\//].some((function(e){return e.test(t)}))}},e.handleError=function(t){if(e.filterError(t)){var n=e.normalizeError(t);e.sendCounter(n)}},e.eventListenerAdded=!1,e}();t.Z=a},7817:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9725),o=r(n(5764)),s=function(){function e(){}return e.parse=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.getDefault(),i=t.filter(Boolean).join(";"),s=o.default.parse(i,";",!0);return new o.default(s,r)},e.getDefault=function(){return{"videoplayer-version":void 0,version:void 0,force_unmute:{value:void 0,set:i.setAsBoolean},restore_playback_progress:{value:void 0,set:i.setAsBoolean},use_friendly_frame:{value:void 0,set:i.setAsBoolean},progress:{value:void 0,set:i.setAsBoolean},start_position_confirmation:{value:void 0,set:i.setAsBoolean},hide_brand_play_button:{value:void 0,set:i.setAsBoolean},disable_autoplay_slow_connection:{value:!1,set:i.setAsBoolean},disable_autoplay_save_data:{value:!1,set:i.setAsBoolean},max_buffer_length:{value:void 0,set:i.setIsNumber},bandwidth_estimate_offset:{value:void 0,set:i.setIsNumber},soft_max_res_height:{value:void 0,set:i.setIsNumber},poll_id:{value:void 0,set:i.setAsString},poll_timeout:{value:21600,set:i.setIsNumber},poll_show_before_midroll:{value:!1,set:i.setAsBoolean}}},e}();t.default=s},2954:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TANKER_LANGS=void 0,t.TANKER_LANGS=["be","en","id","kk","ru","tr","tt","uk","uz"]},326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keysets=void 0;var r=n(3047),i=n(8253),o=n(748),s=n(5701),a=n(3722),u=n(7229),c=n(3202),d=n(7805),l=n(9262);t.keysets={ru:r.ru,be:i.be,en:o.en,id:s.id,kk:a.kk,tr:u.tr,tt:c.tt,uk:d.uk,uz:l.uz}},8253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be=void 0,t.be={ACCESS_ERROR_FUTURE_VOD_RELEASE:"  ",ACCESS_ERROR_INVALID_REGION:"    ",ACCESS_ERROR_NOT_FOUND:"     ",ACCESS_ERROR_NO_LICENSE:"  ",ACCESS_ERROR_OLD_BROWSER:"      .      .",ACCESS_ERROR_UNEXPECTED:"        .      .",ACCESS_ERROR_UNSUPPORTED_BROWSER:"    ,        .    .",ANNOUNCE_ALREADY:" ",ANNOUNCE_NOW:" ",BROADCAST_START:"",ETHER_SUBSCRIPTION:"   ",ON_AIR_TITLE:" ",REMINDER:"  ,      ",TIME_AFTER_TOMORROW:" ",TIME_FIVE_MINUTES:"",TIME_ONE_MINUTE:"",TIME_THROUGH:"",TIME_TODAY:" ",TIME_TOMORROW:" ",TIME_TWO_MINUTES:"",UGC_LIVE_CANCELLED:" ",UGC_LIVE_OFFLINE:"   "}},748:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en=void 0,t.en={ACCESS_ERROR_FUTURE_VOD_RELEASE:"Content will be available",ACCESS_ERROR_INVALID_REGION:"Broadcast isn't available in your region",ACCESS_ERROR_NOT_FOUND:"No video found at this address",ACCESS_ERROR_NO_LICENSE:"No licenses available",ACCESS_ERROR_OLD_BROWSER:"Your browser doesn't support playing protected videos. Try opening the link in another browser.",ACCESS_ERROR_UNEXPECTED:"We are aware of the problem and are working on it. Try refreshing this page in a few minutes.",ACCESS_ERROR_UNSUPPORTED_BROWSER:"Your browser doesn't support the technologies used to load videos quickly and easily. Install the latest version of the browser.",ANNOUNCE_ALREADY:"in progress",ANNOUNCE_NOW:"about to start",BROADCAST_START:"will start",ETHER_SUBSCRIPTION:"Subscribe in Yandex.Live",ON_AIR_TITLE:"Live",REMINDER:"We can send you a reminder so you don't miss it",TIME_AFTER_TOMORROW:"in two days at",TIME_FIVE_MINUTES:"minutes",TIME_ONE_MINUTE:"minute",TIME_THROUGH:"in",TIME_TODAY:"today at",TIME_TOMORROW:"tomorrow at",TIME_TWO_MINUTES:"minutes",UGC_LIVE_CANCELLED:"Broadcast canceled",UGC_LIVE_OFFLINE:"Broadcast hasn't started yet"}},5701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0,t.id={ACCESS_ERROR_FUTURE_VOD_RELEASE:"Konten akan tersedia",ACCESS_ERROR_INVALID_REGION:"Siaran tidak tersedia di wilayah Anda",ACCESS_ERROR_NOT_FOUND:"Video tidak ditemukan di alamat ini",ACCESS_ERROR_NO_LICENSE:"Lisensi tidak tersedia",ACCESS_ERROR_OLD_BROWSER:"Browser Anda tidak memiliki dukungan pemutaran video yang tidak dilindungi. Coba buka tautan di browser lainnya.",ACCESS_ERROR_UNEXPECTED:"Kami menyadari bahwa telah terjadi sebuah kesalahan dan kami sedang berusaha memperbaikinya. Coba muat ulang halaman ini dalam beberapa menit.",ACCESS_ERROR_UNSUPPORTED_BROWSER:"Browser Anda tidak memiliki dukungan teknologi untuk memuat video secara mudah dan cepat. Instal versi terbaru browser.",ANNOUNCE_ALREADY:"sedang berlangsung",ANNOUNCE_NOW:"akan segera dimulai",BROADCAST_START:"akan mulai",ETHER_SUBSCRIPTION:"Berlangganan di Yandex.Live",ON_AIR_TITLE:"Siaran Langsung",REMINDER:"Kami dapat mengirimkan pengingat agar Anda tidak melewatkannya",TIME_AFTER_TOMORROW:"dalam dua hari pada pukul",TIME_FIVE_MINUTES:"menit",TIME_ONE_MINUTE:"menit",TIME_THROUGH:"dalam",TIME_TODAY:"hari ini pada pukul",TIME_TOMORROW:"besok pada pukul",TIME_TWO_MINUTES:"menit",UGC_LIVE_CANCELLED:"Siaran dibatalkan",UGC_LIVE_OFFLINE:"Siaran belum dimulai"}},3722:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk=void 0,t.kk={ACCESS_ERROR_FUTURE_VOD_RELEASE:"  ",ACCESS_ERROR_INVALID_REGION:"   ",ACCESS_ERROR_NOT_FOUND:"   ",ACCESS_ERROR_NO_LICENSE:"  ",ACCESS_ERROR_OLD_BROWSER:"    .     .",ACCESS_ERROR_UNEXPECTED:"         .      .",ACCESS_ERROR_UNSUPPORTED_BROWSER:"        .    .",ANNOUNCE_ALREADY:"   ",ANNOUNCE_NOW:" ",BROADCAST_START:"",ETHER_SUBSCRIPTION:"  ",ON_AIR_TITLE:" ",REMINDER:"      ",TIME_AFTER_TOMORROW:"  .",TIME_FIVE_MINUTES:"",TIME_ONE_MINUTE:"",TIME_THROUGH:",",TIME_TODAY:" .",TIME_TOMORROW:" .",TIME_TWO_MINUTES:"",UGC_LIVE_CANCELLED:" ",UGC_LIVE_OFFLINE:"   "}},3047:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru=void 0,t.ru={ACCESS_ERROR_FUTURE_VOD_RELEASE:"  ",ACCESS_ERROR_INVALID_REGION:"    ",ACCESS_ERROR_NOT_FOUND:"     ",ACCESS_ERROR_NO_LICENSE:"  ",ACCESS_ERROR_OLD_BROWSER:"      .      .",ACCESS_ERROR_UNEXPECTED:"        .      .",ACCESS_ERROR_UNSUPPORTED_BROWSER:"    ,        .    .",ANNOUNCE_ALREADY:" ",ANNOUNCE_NOW:" ",BROADCAST_START:"",ETHER_SUBSCRIPTION:"   ",ON_AIR_TITLE:" ",REMINDER:"  ,      ",TIME_AFTER_TOMORROW:" ",TIME_FIVE_MINUTES:"",TIME_ONE_MINUTE:"",TIME_THROUGH:"",TIME_TODAY:" ",TIME_TOMORROW:" ",TIME_TWO_MINUTES:"",UGC_LIVE_CANCELLED:" ",UGC_LIVE_OFFLINE:"   "}},7229:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr=void 0,t.tr={ACCESS_ERROR_FUTURE_VOD_RELEASE:"erik birazdan eriime alacak",ACCESS_ERROR_INVALID_REGION:"Bulunduunuz yerden bu yayn izleyemezsiniz",ACCESS_ERROR_NOT_FOUND:"Balantdaki video mevcut deil",ACCESS_ERROR_NO_LICENSE:"Kullanlabilir lisans yok",ACCESS_ERROR_OLD_BROWSER:"Taraycnz korumal videolar oynatmay desteklemiyor. Ltfen, balanty baka bir taraycda amay deneyin.",ACCESS_ERROR_UNEXPECTED:"Hatann farkndayz ve zm zerinde almaya baladk. Ltfen, sayfay bir sre sonra tekrar amay deneyin.",ACCESS_ERROR_UNSUPPORTED_BROWSER:"Videolar hzl ve kolay bir ekilde indirmeyi salayan teknolojiler taraycnz tarafndan desteklenmiyor. Ltfen, taraycnn en son srmn indirip kurun.",ANNOUNCE_ALREADY:"balad",ANNOUNCE_NOW:"balamak zere",BROADCAST_START:"balyor",ETHER_SUBSCRIPTION:"Yandex Yayn'da abone ol",ON_AIR_TITLE:"Canl yayn",REMINDER:"Yayn karmamanz iin size hatrlatmada bulunacaz",TIME_AFTER_TOMORROW:"br gn, balama saati:",TIME_FIVE_MINUTES:"dk.",TIME_ONE_MINUTE:"dk.",TIME_THROUGH:",",TIME_TODAY:"bugn, balama saati:",TIME_TOMORROW:"yarn, balama saati:",TIME_TWO_MINUTES:"dk.",UGC_LIVE_CANCELLED:"Yayn iptal edildi",UGC_LIVE_OFFLINE:"Yayn henz balamad"}},3202:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt=void 0,t.tt={ACCESS_ERROR_FUTURE_VOD_RELEASE:"   ",ACCESS_ERROR_INVALID_REGION:"     ",ACCESS_ERROR_NOT_FOUND:"    ",ACCESS_ERROR_NO_LICENSE:"   ",ACCESS_ERROR_OLD_BROWSER:"      .       .",ACCESS_ERROR_UNEXPECTED:"         .     .",ACCESS_ERROR_UNSUPPORTED_BROWSER:"            .    .",ANNOUNCE_ALREADY:" ",ANNOUNCE_NOW:" ",BROADCAST_START:"",ETHER_SUBSCRIPTION:"  ",ON_AIR_TITLE:" ",REMINDER:"   ,     ",TIME_AFTER_TOMORROW:"",TIME_FIVE_MINUTES:"",TIME_ONE_MINUTE:"",TIME_THROUGH:"",TIME_TODAY:"",TIME_TOMORROW:"",TIME_TWO_MINUTES:"",UGC_LIVE_CANCELLED:"  ",UGC_LIVE_OFFLINE:"  "}},7805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk=void 0,t.uk={ACCESS_ERROR_FUTURE_VOD_RELEASE:"  ",ACCESS_ERROR_INVALID_REGION:"    ",ACCESS_ERROR_NOT_FOUND:"     ",ACCESS_ERROR_NO_LICENSE:"  ",ACCESS_ERROR_OLD_BROWSER:"      .      .",ACCESS_ERROR_UNEXPECTED:"        .      .",ACCESS_ERROR_UNSUPPORTED_BROWSER:"    ,        .    .",ANNOUNCE_ALREADY:" ",ANNOUNCE_NOW:" ",BROADCAST_START:"",ETHER_SUBSCRIPTION:"   ",ON_AIR_TITLE:" ",REMINDER:"  ,      ",TIME_AFTER_TOMORROW:" ",TIME_FIVE_MINUTES:"",TIME_ONE_MINUTE:"",TIME_THROUGH:"",TIME_TODAY:" ",TIME_TOMORROW:" ",TIME_TWO_MINUTES:"",UGC_LIVE_CANCELLED:" ",UGC_LIVE_OFFLINE:"   "}},9262:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz=void 0,t.uz={ACCESS_ERROR_FUTURE_VOD_RELEASE:"Kontentdan foydalanish mumkin boladi",ACCESS_ERROR_INVALID_REGION:"Sizning mintaqangizda efirga uzatilmaydi",ACCESS_ERROR_NOT_FOUND:"Havolangizda video mavjud emas",ACCESS_ERROR_NO_LICENSE:"Litsenziyalar mavjud emas",ACCESS_ERROR_OLD_BROWSER:"Brauzeringiz himoyalangan video qoyilishini qollab-quvvatlamaydi. Havolani boshqa brauzerda ochishga urinib koring.",ACCESS_ERROR_UNEXPECTED:"Biz muammo haqida bilamiz va uning yechimi ustida ishlamoqdamiz. Bir oz vaqtdan keyin sahifani yangilashga urinib koring.",ACCESS_ERROR_UNSUPPORTED_BROWSER:"Brauzeringiz videolarni tez va qulay yuklab olish uchun ishlatiladigan texnologiyani qollab-quvvatlamaydi. Brauzerning songgi versiyasini ornating.",ANNOUNCE_ALREADY:"ketmoqda",ANNOUNCE_NOW:"hozir boshlanadi",BROADCAST_START:"boshlanadi",ETHER_SUBSCRIPTION:"Yandex Efirga obuna bolish",ON_AIR_TITLE:"Jonli efir",REMINDER:"Uni korishni esingizdan chiqmasligi uchun biz eslatishimiz mumkin",TIME_AFTER_TOMORROW:"ertadan keyin soat",TIME_FIVE_MINUTES:"daqiqa",TIME_ONE_MINUTE:"daqiqa",TIME_THROUGH:"quyidagidan keyin",TIME_TODAY:"bugun soat",TIME_TOMORROW:"ertaga soat",TIME_TWO_MINUTES:"daqiqa",UGC_LIVE_CANCELLED:"Efirga uzatish bekor qilindi",UGC_LIVE_OFFLINE:"Efirga uzatish hali boshlanmadi"}},4231:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6874),a=o(n(5764)),u=o(n(7492)),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.responseCode=void 0,r.apiUrl=n.apiUrl,r.responseCode=n.responseCode,r}return i(t,e),t}(Error),d=function(){function e(e,t){this.withCredentials=!0,this.contentId=e,this.tld=this.getTld(t),t&&(this.apiHost=t.apiHost)}return e.prototype.load=function(e,t){var n=this.getUrl(e,t);return this.getRequest(n)},e.prototype.loadTest=function(e){var t=this.getBackendUrl()+"/"+e+"/"+this.contentId+".json";return this.withCredentials=!1,this.getRequest(t)},e.prototype.getRequest=function(e){var t=this;return new Promise((function(n,r){var i=function(t,n){var i=new c("VH.Provider: "+t,{apiUrl:e,responseCode:n});r(i)},o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=t.withCredentials,o.onload=function(){t.parseJSON(o.responseText,(function(e){if(o.status>=200&&o.status<400)n(e);else{var t=(null==e?void 0:e.error)?"Invalid response data: ".concat(e.error," ").concat(e.error_cause):"Invalid response data";i(t,o.status)}}),(function(){i("Invalid response data",o.status)}))},o.onerror=function(){i("No data was received. Check the request")},o.send()}))},e.prototype.parseJSON=function(e,t,n){try{t(JSON.parse(e))}catch(e){n("Data parsing error")}},e.prototype.getUrl=function(e,t){if((0,s.isString)(e)){var n=this.getBackendUrl()+"/"+e;return(n+="player"===e?"/"+this.contentId+".json":"")+(t?"?"+new a.default(t).toString():"")}},e.prototype.getBackendUrl=function(){return this.apiHost?e.PROTOCOL+"//"+this.apiHost:e.PROTOCOL+"//"+e.DEFAULT_API_HOST+"."+this.tld},e.prototype.getTld=function(t){if(t&&(0,s.isString)(t.tld))return t.tld;var n,r=u.default.getLocation();return r&&(0,s.isString)(r.hostname)&&(n=r.hostname.split(".").pop()),n||e.DEFAULT_TLD},e.PROTOCOL="http:"===location.protocol?"http:":"https:",e.DEFAULT_TLD="ru",e.DEFAULT_API_HOST="frontend.vh.yandex",e}();t.default=d},7456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getNamespace=t.getURL=t.NAMESPACES=t.THUMBNAIL_SIZE=void 0;var r=n(6874);function i(e){return(e=e.replace(/https?:\/\//i,"").replace(/\/\//i,"")).split("/")[1]||null}t.THUMBNAIL_SIZE=[{width:240,height:135,sizeString:"240x135"},{width:320,height:180,sizeString:"320x180"},{width:480,height:270,sizeString:"480x270"},{width:640,height:360,sizeString:"640x360"},{width:936,height:524,sizeString:"936x524"},{width:1920,height:1080,sizeString:"1920x1080"}],t.NAMESPACES=["get-ott","get-vh"],t.getURL=function(e,n,o,s){if((0,r.isString)(e)){if(!n||!o)return e;var a=(s||0)<1.5?1:2,u=i(e);if(!u||-1===t.NAMESPACES.indexOf(u))return e;var c=n<=o?n:o,d=n<=o?"width":"height",l=t.THUMBNAIL_SIZE.reduce((function(e,t){return!e&&c*a<=t[d]?t:e}),void 0);return l?e.replace("orig",l.sizeString):e}},t._getNamespace=i},6064:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.I18N=void 0;var r=n(326),i=n(2954);t.I18N=function(e,t){return-1===i.TANKER_LANGS.indexOf(t)&&(t="ru"),r.keysets[t]&&r.keysets[t][e]?r.keysets[t][e]:""}},2206:function(e,t,n){"use strict";t.XZ=t.Dh=t.mz=t.XB=t.X=t.PF=t.fH=void 0;n(6874);function r(e,t){return e.querySelector("#inner-container"+t)}function i(e){return document.getElementById("player-container"+e)}t.fH=function(e,t){var n=document.createElement("div");return n.id=e+t,n.className=e,n},t.PF=r,t.X=function(e){return document.getElementById("announce-container"+e)},t.XB=i,t.mz=function(e){var t=i(e);null!==t&&(t.innerHTML="")},t.Dh=function(e,t){var n=r(e,t);null!==n&&(n.innerHTML="")},t.XZ=function(e,t){e.innerHTML='<div id="inner-container'+t+'"class="inner-container"><div id="player-container'+t+'"class="player-container"></div><div id="announce-container'+t+'"class="announce-container"></div></div>',e===document.body&&(document.documentElement.style.backgroundColor="#000",document.body.style.backgroundColor="#000")}},2966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomain=void 0;var r=n(152);t.getDomain=function(){return(0,r.getTopUrl)().replace(/https?:\/\//i,"").split(/[/?#]/)[0]}},8208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=t.ENV=void 0;var r=n(721);t.ENV={PRODUCTION:"production",TESTING:"testing",DEVELOPMENT:"development"},t.getEnv=function(){var e;return(null===(e=null===r.links||void 0===r.links?void 0:r.links.BUCKET)||void 0===e?void 0:e.env)?r.links.BUCKET.env:t.ENV.PRODUCTION}},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTopUrl=void 0;var r=n(1296);t.getTopUrl=function(){var e=(0,r.getAncestorOrigins)();return e&&e.length?e[e.length-1]:(0,r.getDocumentReferrer)()||""}},6732:function(e,t,n){"use strict";t.k=void 0;var r=n(2966),i=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.com.ge","yandex.com.am","yandex.co.il","yandex.ua","yandex.by","yandex.kz","yandex.uz","yandex.az","yandex.kg","yandex.lv","yandex.lt","yandex.md","yandex.tj","yandex.tm","yandex.fr","yandex.ee","yastatic.net","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","chef.yandex","yadi.sk","kinopoisk.ru","kinopoisk.ua","kinopoisk.by","kinopoisk.tel","iframe-toloka.com"];t.k=function(e){if(!e)return!0;var t=(0,r.getDomain)();return!!t&&i.some((function(e){var n="."+e;return e===t||t.substring(t.length-n.length,t.length)===n}))}},1296:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDocumentReferrer=t.getLocationProtocol=t.getLocationSearch=t.getAncestorOrigins=t.getLocation=void 0,t.getLocation=function(){return window.location},t.getAncestorOrigins=function(){return window.location.ancestorOrigins},t.getLocationSearch=function(){return location.search},t.getLocationProtocol=function(){return window.location.protocol},t.getDocumentReferrer=function(){return document.referrer}},6874:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=t.isFunction=t.isString=t.isNumber=t.isBoolean=t.isUndefined=void 0,t.isUndefined=function(e){return void 0===e},t.isBoolean=function(e){return"boolean"==typeof e},t.isNumber=function(e){return"number"==typeof e&&e==e},t.isString=function(e){return"string"==typeof e},t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return Boolean(e)&&"object"==typeof e}},9312:function(e,t,n){"use strict";t.Y=void 0;var r=n(6874);t.Y=function(e,t){e.version=e["videoplayer-version"]||t.version,e.progress=(0,r.isBoolean)(e.progress)?e.progress:t.progress,e.start_position_confirmation=(0,r.isBoolean)(e.start_position_confirmation)?e.start_position_confirmation:t.start_position_confirmation,e.force_unmute=(0,r.isBoolean)(e.force_unmute)?e.force_unmute:t.force_unmute,e.restore_playback_progress=(0,r.isBoolean)(e.restore_playback_progress)?e.restore_playback_progress:t.restore_playback_progress,e.hide_brand_play_button=(0,r.isBoolean)(e.hide_brand_play_button)?e.hide_brand_play_button:t.hide_brand_play_button}},842:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VHConfig=void 0;var i=n(7456),o=n(6874),s=n(3351),a=n(9725),u=r(n(5764)),c=function(){function e(e){this.params=e.params,this.query=e.query,this.ids=e.ids,this.expFlags=e.expFlags,this.container=e.container,this.player=e.player,this.requestInfo=e.requestInfo||{},this.serverError=e.serverError}return e.prototype.prepareVHParams=function(){var e=Object.create(this.params.data.content),t=this.params.data.content.actual_episode;if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.stream&&(e.withCredentials=Boolean(e.stream.withCredentials)),e.loop=Boolean(e.loop);var r=this.container.offsetWidth,o=this.container.offsetHeight,s="undefined"!=typeof window?window.devicePixelRatio:1;return e.meta&&(e.meta.announce_thumbnail=(0,i.getURL)(e.meta.announce_thumbnail,r,o,s)),e.thumbnail=(0,i.getURL)(e.thumbnail,r,o,s),e.onto_poster=(0,i.getURL)(e.thumbnail,r,o,s),e.cover=(0,i.getURL)(e.cover,r,o,s),e},e.prototype.getHiddenControls=function(e){if(this.query.tv)return"*";var t=[];(0,o.isObject)(e.auto_fields)&&e.auto_fields.player_controls_hidden&&(t=e.auto_fields.player_controls_hidden);var n=[].concat(t,this.query.hidden.split(","));return Object.keys(n.reduce((function(e,t){return t=t.trim(),(0,o.isString)(t)&&t&&(e[t]=!0),e}),{})).join(", ")},e.prototype.getLiveOffset=function(e){return(0,o.isNumber)(this.query.live_offset)?this.query.live_offset:e.ugc_live?15:void 0},e.prototype.isVHConfigRequired=function(e){return!(this.serverError||e.ugc_live&&("offline"===e.ugc_live_status||"cancelled"===e.ugc_live_status||"ready"===e.ugc_live_status&&!e.reload_on_ready))},e.prototype.getSkinConfig=function(e){var t=this.getFeatureParams(e),n=this.getHiddenControls(e),r=this.getLogoConfig(e),i=this.getTitleSettings(),o=this.getSubscribeButton();return{showReportButton:this.query.report,showUnmuteButtonForAll:this.expFlags.force_unmute,logoConfig:r,features:t,hiddenControls:n,showSubscribeButton:o,title:i}},e.prototype.getPlayerConfig=function(){var e=this.prepareVHParams();if(!this.isVHConfigRequired(e))return e;var t=this.getSourceConfig(e),n=this.getAutoplay(),r=this.getLiveOffset(e),i=this.getSkinConfig(e),o={element:"player-container"+this.ids.id,source:t,skinParams:{skinConfig:i},autoplay:n,volume:this.query.volume,muted:this.query.mute,lang:this.query.lang||this.requestInfo.lang,preload:this.query.preload,platform:this.query.platform,togglePlaybackOnVisibilityChange:this.query.play_on_visible,useAbdBundle:this.requestInfo.use_aab_bundle,useFriendlyFrame:this.query.use_friendly_frame,disableAndroidPlayer:this.query.disable_android_player,flags:this.expFlags,usePlayerApiMock:this.query.test_mode,liveOffset:r,slowConnection:this.requestInfo.slow_connection||this.query.slow_connection,maxBufferLength:this.expFlags.max_buffer_length,bandwidthEstimateOffset:this.expFlags.bandwidth_estimate_offset,logUrl:this.requestInfo.use_aab_bundle?this.requestInfo.logging_url:void 0,device:{id:this.query.device_id},backgroundColor:this.query.background_color,zenPreload:this.query.zen_preload,cacheSourcesCount:this.query.cache_sources_count,restoreTabSessionPlaybackProgress:this.expFlags.restore_playback_progress,loadSkin:this.query.skin};return this.params.disableOTTPlayerLoader&&(o.disableOTTPlayerLoader=!0),o},e.prototype.getSourceConfig=function(e){this.preparePlaybackParams(e),this.prepareAdParams(e);var t=String(this.getStreamParams(e)),n=this.getAdConfig(e),r=this.getVideoInfo(e),i=this.getTrackings(e),s=this.getOTTParams(e),a=this.getStartPosition(e),u=this.getAdditionalParams(e),c=this.getPreview(e),d=this.getStreamsConfig(e),l={streams:d=d.map((function(e){return e.url+=e.url.indexOf("?")>-1?"&":"?",e.url+=t,e})),adConfig:n,videoInfo:r,trackings:i,preview:c,startPosition:a,enableRemoteProgressSaving:this.query.remote_progress_saving||this.expFlags.progress,withCredentials:this.query.with_credentials||e.withCredentials,loop:e.loop||this.query.loop,additionalParams:u,context:s,passportRetpath:this.query.retpath};return this.params.data.scriptedEvents&&(l.scriptedEvents=this.params.data.scriptedEvents),(0,o.isString)(u.slots)&&(0,o.isObject)(l.context)&&(l.context.testIds=u.slots.split(";").map((function(e){return parseInt(e,10)})).join(",")),this.query.scriptedEvents&&(l.scriptedEvents=this.query.scriptedEvents,delete this.query.scriptedEvents),l},e.prototype.preparePlaybackParams=function(e){e.start_time=parseInt(e.start_time,10)||void 0,e.finish_time=parseInt(e.finish_time,10),e.finish_time=isNaN(e.finish_time)?void 0:e.finish_time-1,e.dvr=parseInt(e.dvr,10)||void 0},e.prototype.prepareAdParams=function(e){e.imp_id=1,(0,o.isObject)(e.adConfig)&&!e.adConfig.category&&(e.adConfig.category=1017)},e.prototype.getStreamParams=function(e){var t={clid:495,uuid:e.uuid,yandexuid:this.ids.yandexuid,slots:this.query.slots,from:this.query.from,audio_only:this.query.audio_only,start:e.start_time,end:e.finish_time,dvr:e.dvr,soft_max_res_height:this.expFlags.soft_max_res_height};function n(e,t){var n=parseFloat(e);n==n&&(this[t]=n)}function r(e,t){(0,o.isUndefined)(e)||(this[t]=e)}return(this.query.with_ad_insertion||this.requestInfo.with_ad_insertion)&&(t.imp_id=e.imp_id,t.video_category_id=(0,o.isObject)(e.adConfig)?e.adConfig.category:void 0,t.target_ref=this.ids.bundle,t.partner_id=(0,o.isObject)(e.adConfig)?e.adConfig.partner_id:void 0),new u.default(t,{uuid:{set:function(e,t){(0,o.isString)(e)&&(this[t]=e)}},audio_only:{set:function(e,t){e&&(this[t]=1)}},imp_id:{set:n},video_category_id:{set:n},partner_id:{set:n},yandexuid:{set:r},slots:{set:r},start:{set:r},end:{set:r},dvr:{set:r},target_ref:{set:r},soft_max_res_height:{set:n}})},e.prototype.getStreamsConfig=function(e){var t=Array.isArray(this.query.streams)?this.query.streams:e.streams;return(Array.isArray(t)?t:[]).reduce((function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);if(!n.url)return e;var i=n.id||"default";return e.defId||(e.defId=i),n.drmConfig=n.drmConfig||n.drm_config||void 0,delete n.id,delete n.options,delete n.drm_config,i===e.defId&&e.result.push(n),e}),{result:[],defId:""}).result},e.prototype.getAdConfig=function(e){if((0,o.isObject)(this.query.adConfig))return this.query.adConfig;var t=(0,o.isObject)(e.adConfig)?e.adConfig:{},n=t||{};if(t){n.partnerId=t.partner_id||t.partnerId,n.category=t.category,n.videoContentId=t.video_content_id||t.videoContentId,n.videoContentName=t.video_content_name||t.videoContentName,n.videoGenreId=t.video_genre_id,n.videoGenreName=t.video_genre_name,n.hasPreroll=(0,o.isBoolean)(this.query.has_preroll)?this.query.has_preroll:t.hasPreroll,n.distrId=this.query.distr_id||t.distr_id,n.useAdSession=(0,o.isBoolean)(this.query.use_ad_session)?this.query.use_ad_session:t.useAdSession;var r=parseInt(n.partnerId,10);r&&(n.partnerId=r);var i=parseInt(n.category,10);i&&(n.category=i),t.video_publisher_id&&(n.videoPublisherId=t.video_publisher_id),t.video_publisher_name&&(n.videoPublisherName=t.video_publisher_name)}return this.query.vmap_id&&(n.vmapId=this.query.vmap_id),this.query.vmap_scenario_id&&(n.vmapScenarioId=this.query.vmap_scenario_id),(0,o.isNumber)(this.query.preferable_width)&&(0,o.isNumber)(this.query.preferable_height)&&(n.preferableAdSize={width:this.query.preferable_width,height:this.query.preferable_height}),n},e.prototype.getVideoInfo=function(e){var t=(0,o.isObject)(e.adConfig)?e.adConfig:{},n={videoContentId:e.content_id,videoContentName:e.title,videoPublisherId:t.video_publisher_id||"",videoPublisherName:t.video_publisher_name||""};return n.videoGenreId=String(t.video_genre_id||""),n.videoGenreName=String(e.genres||t.video_genre_name||""),Object.keys(n).reduce((function(e,t){var r=n[t];return r&&(e[t]=r),e}),{})},e.prototype.getTrackings=function(e){var t=[];(0,o.isObject)(e.trackingEvents)&&(t=t.concat(e.trackingEvents)),(0,o.isObject)(e.stream)&&(0,o.isObject)(e.stream.trackings)&&(0,o.isObject)(e.stream.trackings.trackingEvents)&&(t=t.concat(e.stream.trackings.trackingEvents));var n=this.getYaVideoTrackings(e);return n&&(t=t.concat(n).filter(Boolean)),{trackingEvents:t}},e.prototype.getSubscribeButton=function(){return{type:this.query.subscribe_button}},e.prototype.getPreview=function(e){return this.query.preview_src?this.query.preview_src:this.query.preview&&!this.query.streams?e.thumbnail:""},e.prototype.getFeatureParams=function(e){var t={};return Array.isArray(e.skippableFragments)&&e.skippableFragments.length&&this.query.skippable_fragments&&(t.SkippableFragments={skippableFragments:e.skippableFragments,autoSkipTimeout:5,buttonTitles:e.skippableFragmentsButtonTitles||{},controlsShowDuration:5}),t},e.prototype.getLogoConfig=function(e){return e.logoConfig?e.logoConfig:(0,o.isObject)(e.watermark)&&(0,o.isString)(e.watermark.src)?e.watermark:void 0},e.prototype.getTitleSettings=function(){if(this.query.meta===a.META_VIEW_MODE.none)return null;var e={name:this.query.m_title,description:this.query.m_desc};switch(this.query.meta){case a.META_VIEW_MODE.always:e.isVisible=!0;break;case a.META_VIEW_MODE.start:case a.META_VIEW_MODE.restriction_age:e.isVisible=!0,e.duration=this.query.m_duration;break;case a.META_VIEW_MODE.ui:e.isVisible=!0,e.visibleWithSkinOnly=!0}return e},e.prototype.getOTTParams=function(e){var t=e.ottParams;return(0,o.isObject)(t)?(t.from=this.query.from,t.contentTypeID&&!t.contentTypeId&&(t.contentTypeId=t.contentTypeID),"cover"in e&&(t.cover=e.cover,t.thumbnailLogos=e.thumbnail_logos),t.container={context:this.query.platform||"",init:this.createOttEventTrigger.call(this,"placeholder:init"),mod:this.query.mod,paymentWidget:this.createOttEventTrigger.call(this,"placeholder:pay")},t):null},e.prototype.createOttEventTrigger=function(e){var t=this;return function(n){n.event===e&&t.player.trigger(n.event,[n])}},e.prototype.getStartPosition=function(e){return(0,o.isNumber)(this.query.t)?this.query.t:(0,o.isNumber)(e.progress)&&(0,o.isNumber)(e.duration)&&e.progress/e.duration>.95?0:this.expFlags.progress&&(0,o.isNumber)(e.progress)?e.progress:void 0},e.prototype.getYaVideoTrackings=function(e){if(!(0,o.isObject)(e))return null;var t={from:this.ids.from,from_block:this.ids.fromBlock,reqid:this.ids.reqid,yandexuid:this.ids.yandexuid,content_id:this.ids.contentId,channel_id:e.channel_id,stream_block:this.ids.streamBlock,duration:e.duration};return(0,o.isObject)(e.ottParams)&&(t.licence=e.ottParams.monetizationModel,t.svod=e.ottParams.subscriptionType),(0,s.getConfig)(t)},e.prototype.getAdditionalParams=function(e){var t=(0,o.isObject)(e.additionalParams)?e.additionalParams:{};if(this.ids.frontendVhReqid&&(t.frontend_vh_reqid=this.ids.frontendVhReqid),this.ids.reqid&&(t.reqid=this.ids.reqid),(e.puid||this.query.puid)&&(t.puid=e.puid||this.query.puid),e.content_id&&(t.content_id=e.content_id),this.ids.from&&(t.from=this.ids.from),this.ids.fromBlock&&(t.from_block=this.ids.fromBlock),this.ids.slots&&(t.slots=this.ids.slots),this.ids.streamBlock&&(t.stream_block=this.ids.streamBlock),e.channel_id&&(t.channel_id=e.channel_id),!Array.isArray(this.query["brand-safety-categories"])||(0,o.isObject)(e.adTags)&&e.adTags["brand-safety-categories"]||(t["brand-safety-categories"]=this.prepareCategory("brand-safety-categories")),(0,o.isObject)(e.adTags))for(var n in e.adTags)e.adTags.hasOwnProperty(n)&&(t[n]=this.prepareCategory(n,e.adTags[n]));return t.sandboxVersion=this.ids.sandboxVersion,t},e.prototype.prepareCategory=function(e,t){var n=this.query[e],r=[];if(Array.isArray(t)&&Array.isArray(n))r=t.concat(n);else if(Array.isArray(t))r=t;else{if(!Array.isArray(n))return null;r=n}return"brand-safety-categories"===e?"["+r.join(",")+"]":r.join("\n")},e.prototype.getAutoplay=function(){var e=navigator&&navigator.connection&&navigator.connection.saveData,t=this.requestInfo.slow_connection||this.query.slow_connection;return!(this.expFlags.disable_autoplay_slow_connection&&this.expFlags.disable_autoplay_save_data&&t&&e)&&!(this.expFlags.disable_autoplay_slow_connection&&!this.expFlags.disable_autoplay_save_data&&t)&&!(!this.expFlags.disable_autoplay_slow_connection&&this.expFlags.disable_autoplay_save_data&&e)&&((0,o.isBoolean)(this.query.allow_muted)?{allowMuted:this.query.allow_muted}:Boolean(this.query.autoplay))},e}();t.VHConfig=c},3744:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACCESS_ERROR_LABELS=void 0,t.ACCESS_ERROR_LABELS={no_licenses:{message:"ACCESS_ERROR_NO_LICENSE",code:151},invalid_region:{message:"ACCESS_ERROR_INVALID_REGION",code:153},old_browser:{message:"ACCESS_ERROR_OLD_BROWSER",code:5},future_vod_release:{message:"ACCESS_ERROR_FUTURE_VOD_RELEASE",code:100},unexpected:{message:"ACCESS_ERROR_UNEXPECTED",code:100},unsupported_browser:{message:"ACCESS_ERROR_UNSUPPORTED_BROWSER",code:412},not_found:{message:"ACCESS_ERROR_NOT_FOUND",code:404}}},9725:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonParamsDescriptor=t.setAsNumber=t.setIsNumber=t.setAsString=t.setIsTrue=t.setAsNotRequiredBoolean=t.setAsBoolean=t._postGetQuery=t.getQuery=t.isValidPresetName=t.PLATFORM=t.META_VIEW_MODE=void 0;var i=r(n(5764)),o=n(6874);t.META_VIEW_MODE={none:0,always:1,start:2,ui:3,restriction_age:4};var s={plain:0,colourful:1,with_subscribe_info:2,with_subscribe_label:3};t.PLATFORM=["desktop","touch","pad","app","tv","tvapp"];var a=["default","live","paid","avod","alive"];function u(e){return-1!==a.indexOf(e)}t.isValidPresetName=u;var c=["be","en","id","kk","ru","tr","tt","uk","uz"];function d(e){return e.reqid&&(0,o.isObject)(e.counters)&&!e.counters.reqid&&(e.counters.reqid=e.reqid),(0,o.isObject)(e.counters)&&e.counters.reqid&&!e.reqid&&(e.reqid=e.counters.reqid),(e.tv||e.nativeui||e.test_mode)&&(e.recommendations=""),function(e){var t={};(0,o.isString)(e.slots)&&e.slots.split(";").forEach((function(e){var n=e.split(",",1)[0];n&&(t[n]=e)})),Array.isArray(e["test-id"])&&e["test-id"].forEach((function(e){e&&(t[e]||(t[e]=e+",0,-1"))}));var n="",r=[];for(var i in t)t.hasOwnProperty(i)&&(n+=n.length>0?";"+t[i]:t[i],r.push(i));n&&(e.slots=n),r.length>0&&(e["test-id"]=r)}(e),e}function l(e,t){this[t]=Boolean(e)}function h(e,t){this[t]=void 0!==e?Boolean(e):void 0}function p(e,t){!0===e&&(this[t]=e)}function f(e,t){e&&(this[t]=String(e))}function _(e,t){(0,o.isNumber)(e)&&(this[t]=e)}function y(e,t){var n=Number(e);this[t]=(0,o.isNumber)(n)?n:0}t.getQuery=function(e,t){if(!(0,o.isFunction)(t))throw new Error("VHQuery: missing method for handling unsafe params.");return d(new i.default(e,g(),t.bind(this)))},t._postGetQuery=d,t.setAsBoolean=l,t.setAsNotRequiredBoolean=h,t.setIsTrue=p,t.setAsString=f,t.setIsNumber=_,t.setAsNumber=y;var m=!1;function v(e,t){!m&&Array.isArray(e)&&(m=!0,this[t]=e)}function g(){return{from:{value:"other",set:f},slots:null,"test-id":{value:[],set:function(e,t){var n=(0,o.isString)(e)?i.default.parseJSON(e):e;n&&(Array.isArray(n)?this[t]=n.filter(Boolean).map(String):(0,o.isString)(n)?this[t]=n.split(/[,_]/).filter(Boolean):(0,o.isNumber)(n)&&(this[t]=[String(n)]))}},distr_id:null,audio_only:!1,tv:{value:!1,set:l},loop:{value:!1,set:l},preload:{value:!1,set:l},report:{value:!0,set:l},preview:{value:!0,set:l},preview_src:{value:"",set:f},nativeui:{value:!1,set:l},use_friendly_frame:{value:!0,set:l},disable_android_player:{value:!1,set:l},branding_intro:{value:!1,set:l},restore_playback_progress:{value:!1,set:l},remote_progress_saving:{value:!1,set:l},progress:{value:!0,set:l},start_position_confirmation:{value:!1,set:l},force_unmute:{value:!0,set:l},stream_cms:{value:!0,set:l},beta:{value:!1,set:p},event_prefix:{value:"",set:f},from_block:{value:"other",set:f},hidden:{value:"",set:f},device_id:{value:"",set:f},autoplay:{value:!0,set:function(e,t){0===e&&(this[t]=!1)}},lang:{value:"",set:function(e,t){var n;n=e,-1!==c.indexOf(n)&&(this[t]=e)}},allow_muted:{set:l},mute:{value:!1,set:h},volume:{set:function(e,t){(0,o.isNumber)(e)&&e>=0&&e<=100&&(this[t]=e)}},play_on_visible:{set:function(e,t){(0,o.isNumber)(e)?e>0&&e<=1&&(this[t]={threshold:e}):(0,o.isUndefined)(e)||"undefined"===e||(this[t]=Boolean(e))}},adConfig:{set:function(e,t){(0,o.isObject)(e)&&(this[t]=e)},unsafe:!0},streams:{set:function(e,t){Array.isArray(e)&&(this[t]=e)}},vmap_id:{set:y,unsafe:!0},vmap_scenario_id:{set:y,unsafe:!0},meta:{value:t.META_VIEW_MODE.none,set:function(e,n){if((0,o.isString)(e)){var r=t.META_VIEW_MODE[e];(0,o.isNumber)(r)&&(this[n]=r)}}},subscribe_button:{value:void 0,set:function(e,t){if((0,o.isString)(e)){var n=s[e];(0,o.isNumber)(n)&&(this[t]=e)}}},m_duration:{value:3e3,set:function(e,t){(0,o.isNumber)(e)&&e>=0&&(this[t]=1e3*e)}},m_title:{value:null,set:f},m_desc:{value:null,set:f},live_offset:{set:function(e,t){(0,o.isNumber)(e)&&e>=0&&(this[t]=e)}},platform:{set:function(e,n){t.PLATFORM.indexOf(e)>-1&&(this[n]=e)}},mod:{value:"",set:f},t:{set:_},skippable_fragments:{value:!0,set:l},preferable_width:{set:_},preferable_height:{set:_},release_timeout:{value:0,set:_},retpath:{set:f},ya_station:{value:!0,set:l},share:{value:!0,set:l},has_preroll:{set:l,unsafe:!0},disable_update:{value:!1,set:l},velocity_metrics_sampled:{value:!0,set:l},test_mode:{value:!1,set:l},test_data:{value:"default",set:function(e,t){u(e)&&(this[t]=e)}},background_color:{set:f},zen_preload:{set:l},disable_postmessage_broadcast:{value:!1,set:l},cache_sources_count:{set:y},scriptedEvents:{set:v}}}t.getCommonParamsDescriptor=g},620:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createGetQuery=void 0;var i=n(6874),o=r(n(5764));t.createGetQuery=function(e,t){return function(n,r){if(!(0,i.isFunction)(r))throw new Error("VHQuery: missing method for handling unsafe params.");var s=new o.default(n,e(),r.bind(this));return t(s)}}},8392:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=t._getParamsDescriptor=void 0;var u=a(n(5764)),c=n(6874),d=o(n(9725)),l=n(620);function h(){var e=d.getCommonParamsDescriptor();return e.slow_connection={value:!1,set:d.setAsBoolean},e.with_credentials={value:!1,set:d.setIsTrue},e.with_ad_insertion={value:!1,set:d.setIsTrue},e.api_host={value:"",set:d.setAsString},e.tld={value:"",set:d.setAsString},e["brand-safety-categories"]={value:null,set:function(e,t){var n=(0,c.isString)(e)?u.default.parseJSON(e):e;Array.isArray(n)?this[t]=n:(0,c.isNumber)(n)?this[t]=[n]:(0,c.isString)(n)&&n&&(this[t]=n.split(","))}},e.use_ad_session={set:d.setAsBoolean},e.disable_unsafe_log={value:!1,set:d.setAsBoolean},e.skin={set:function(e,t){(0,c.isFunction)(e)&&(this[t]=e),e||(this[t]=Boolean(e))}},e}s(n(9725),t),t._getParamsDescriptor=h,t.getQuery=(0,l.createGetQuery)(h,d._postGetQuery)},8403:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=t._getParamsDescriptor=void 0;var a=o(n(9725)),u=n(620);function c(){return a.getCommonParamsDescriptor()}s(n(9725),t),t._getParamsDescriptor=c,t.getQuery=(0,u.createGetQuery)(c,a._postGetQuery)},3351:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getConfig=t._getDeepWatchDelay=void 0;var i=r(n(5764)),o="undefined"!=typeof window&&"http:"===location.protocol?"http:":"https:",s=["init","error","adStart","adEnd","start","play","pause","end","seek"],a=["rnd","fullscreen","mute","duration","timestamp","user_ts","watchedTime","vsid","error_code","position_from"],u="",c="";function d(e){return new i.default(e).toString("/",!0,a)}function l(e,t){var n={content_id:t.content_id,stream_block:t.stream_block,channel_id:t.channel_id,path:"player-events."+e};return"error"===e&&(n.error_code="{{error-code}}"),"seek"===e&&(n.position_from="{{old-position}}"),function(e){if(u&&e.reqid===c)return u;var t={reqid:c=e.reqid,yandexuid:e.yandexuid,select_event:"click",cid:73037,pid:197,dtype:"stred",source:e.from,from_block:e.from_block};return e.licence&&(t.licence=e.licence),e.svod&&(t.svod=e.svod),u=o+"//yandex.ru/clck/jclck/"+d(t)}(t)+d({rnd:"{{random}}",fullscreen:"{{fullscreen}}",mute:"{{muted}}",duration:"{{duration}}",timestamp:"{{timestamp}}",user_ts:"{{vts}}",watchedTime:"{{fts}}",vsid:"{{vsid}}"})+d(n)+"*"}function h(e){return e<=180?.57*e:e<=1200?72+.17*e:e<=3600?252+.02*e:216+.03*e}t._getDeepWatchDelay=h,t.getConfig=function(e){var t={};return t.heartbeat=[[l("heartbeat",e),{delay:3e4}],[l("deep_watch",e),{delay:1e3*h(e.duration),callsCount:1}]],s.forEach((function(n){t[n]=[l(n,e)]})),t}},6815:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6874),o=r(n(7492)),s=function(){function e(){this.sandboxName=o.default.StaticLinks.SANDBOX_NAME,this.logMethod=null,this.metrics={},this.isPerformanceNowAvailable=(0,i.isObject)(window.performance)&&(0,i.isFunction)(window.performance.now),"vh-player"===this.sandboxName&&(this.initSandbox=0,this.dataSource=e.DATA_SOURCES.dataObject)}return e.prototype.setLogMethod=function(e){var t=this;if((0,i.isFunction)(e)){this.logMethod=e;var n=function(e){Object.prototype.hasOwnProperty.call(r.metrics,e)&&setTimeout((function(){var n=t.metrics[e];t.send(e,n.sendSampled,n.details)}))},r=this;for(var o in this.metrics)n(o)}},e.prototype.send=function(t,n,r){if(this.setMetric(t,n,r),(0,i.isFunction)(this.logMethod)&&(0,i.isString)(t)&&(0,i.isObject)(this.metrics[t])&&!this.metrics[t].sent){var o=this.sandboxName+"."+this.dataSource+"."+e.METRICS_NAMES[t],s=(0,i.isString)(r)?o+"."+r:o,a={initSubpage:!0,sampled:n};(0,i.isNumber)(this.metrics[t].value)&&(0,i.isNumber)(this.initSandbox)&&(this.logMethod(s,this.metrics[t].value-this.initSandbox,a),this.metrics[t].sent=!0)}},e.prototype.setMetric=function(e,t,n){this.metrics[e]||this.isPerformanceNowAvailable&&(this.metrics[e]={value:window.performance.now(),sendSampled:t,details:n,sent:!1})},e.DATA_SOURCES={contentId:"content-id",dataObject:"data-object"},e.METRICS_NAMES={readyPlayerAPI:"ready",startedOrIdle:"start-idle",userReady:"user-ready",posterReady:"poster-ready"},e}();t.default=s},4112:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AD_STATE=t.PLAYING_STATE=t.STATE=t.EVENTS=void 0,t.EVENTS=["onReady","onStateChange","onAdStateChange","onVideoTrackChange","onVideoTracksChange","onAudioTrackChange","onAudioTracksChange","onTextTrackChange","onTextTracksChange","onSeek","onError","onCurrentTimeChange","onDurationChange","onFullScreenChange","onVolumeChange","onUserAction","onDVRChange","onSourceChange","onContentImpression","onResourcesIdle","onAdPodStart","onVideoSizeChange","onSubscribeButtonClick","onUserReady","onPosterReady"],t.STATE={UNAVAILABLE:0,INIT:1,INITED:2,SWITCH:5,SWITCHED:6,DESTROY:3,DESTROYED:4},t.PLAYING_STATE={play:1,pause:2,buffering:3,end:0},t.AD_STATE={PLAYING:1,NOT_PLAYING:2}},6791:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.YaPlayer=void 0;var i=r(n(4144)),o=r(n(7492)),s=n(6874),a=n(4112),u=window.Ya=window.Ya||{},c=function(){function e(e,t){var n=this;this.version=e,this.player=null,this.skin=null,this.EVENTS_TO_V1={Ready:{name:"onReady"},ResourcesIdle:{name:"onResourcesIdle"},ContentImpression:{name:"onContentImpression"},SourceChange:{name:"onSourceChange"},PlaybackRateChange:{name:"PlaybackRateChange"},AdPodStart:{name:"AdPodStart"},AdPodCloseStateChange:{name:"AdPodCloseStateChange"},UserReady:{name:"onUserReady"},PosterReady:{name:"onPosterReady"},AdPodCurrentTimeChange:{name:"AdPodCurrentTimeChange"},AdPodTimeToSkipChange:{name:"AdPodTimeToSkipChange"},AdVolumeAvailabilityStateChange:{name:"AdVolumeAvailabilityStateChange"},AdSkippableStateChange:{name:"AdSkippableStateChange"},PlaybackRateRangeChange:{name:"PlaybackRateRangeChange"},NextAdRemainingTimeChange:{name:"NextAdRemainingTimeChange"},BeforeAdPodStart:{name:"BeforeAdPodStart"},ConnectionQualityChange:{name:"ConnectionQualityChange"},AdPodDurationChange:{name:"AdPodDurationChange"},PlayingStateChange:{name:"onStateChange",map:function(e){return a.PLAYING_STATE[e.playingState]}},CurrentTimeChange:{name:"onCurrentTimeChange",map:function(e){var t=n.getState(),r=(0,s.isObject)(t)?t.watchedTime:void 0;return[e.currentTime,0,r]}},DurationChange:{name:"onDurationChange",map:function(e){return e.duration}},MutedChange:{name:"onVolumeChange",map:function(e){var t=n.getState();return e&&!e.muted?100*(t?t.volume:0):0}},FullscreenStateChange:{name:"onFullScreenChange",map:function(e){return e.isFullscreen}},VideoTracksChange:{name:"onVideoTracksChange",map:function(e){return[e.videoTracks]}},VideoTrackChange:{name:"onVideoTrackChange",map:function(e){return e.videoTrack}},AudioTracksChange:{name:"onAudioTracksChange",map:function(e){return[e.audioTracks]}},AudioTrackChange:{name:"onAudioTrackChange",map:function(e){return e.audioTrack}},TextTracksChange:{name:"onTextTracksChange",map:function(e){return[e.textTracks]}},TextTrackChange:{name:"onTextTrackChange",map:function(e){return e.textTrack}},AdStateChange:{name:"onAdStateChange",map:function(e){return e.adState}},SkinReady:{name:"SkinReady"}},this.v2=!0,this.bundle=this.getPlayerBundle(t),this.state=a.STATE.UNAVAILABLE,this.withOttTrackings=!1,this.withOttWrapper=!1;var r=function(){n.state=a.STATE.DESTROYED,n.trigger("PlayerApiAvailable")};(0,s.isObject)(window.Ya)&&(0,s.isObject)(window.Ya.playerApi)&&(0,s.isFunction)(window.Ya.playerApi.init)?r():this.loadScript(this.bundle,r,(function(){n.trigger("onError",[{message:"Player unavailable",isFatal:!0}])}))}return e._proxy=function(t){if(-1===e.METHODS.indexOf(t))throw new Error("Method '_proxy' is deprecated and PRIVATE. Don't use it for proxing player methods");return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this[t].apply(this,e)}},e.prototype.play=function(){if(this.isReady()&&(0,s.isFunction)(this.player.play))return this.player.play()},e.prototype.pause=function(){if(this.isReady()&&(0,s.isFunction)(this.player.pause))return this.player.pause()},e.prototype.seek=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.seek))return(e=this.player).seek.apply(e,t)},e.prototype.setVolume=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.setVolume))return(e=this.player).setVolume.apply(e,t)},e.prototype.changeAdditionalParams=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.changeAdditionalParams))return(e=this.player).changeAdditionalParams.apply(e,t)},e.prototype.setMuted=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.setMuted))return(e=this.player).setMuted.apply(e,t)},e.prototype.setVideoTrack=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.setVideoTrack))return(e=this.player).setVideoTrack.apply(e,t)},e.prototype.setAudioTrack=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.setAudioTrack))return(e=this.player).setAudioTrack.apply(e,t)},e.prototype.setTextTrack=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.setTextTrack))return(e=this.player).setTextTrack.apply(e,t)},e.prototype.insertInto=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.isReady()&&(0,s.isFunction)(this.player.insertInto)?(e=this.player).insertInto.apply(e,t):Promise.resolve()},e.prototype.openReportWindow=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.openReportWindow))return(e=this.player).openReportWindow.apply(e,t)},e.prototype.requestDebugInfo=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.requestDebugInfo))return(e=this.player).requestDebugInfo.apply(e,t)},e.prototype.sendReportLog=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.isReady()&&(0,s.isFunction)(this.player.sendReportLog)?(e=this.player).sendReportLog.apply(e,t):new Error("API unavailable")},e.prototype.setVideoStyle=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isReady()&&(0,s.isFunction)(this.player.setVideoStyle))return this.player.setVideoStyle.apply(this.player,e)},e.prototype.setNativeAdControlsVisibility=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.setNativeAdControlsVisibility))return(e=this.player).setNativeAdControlsVisibility.apply(e,t)},e.prototype.setPlaybackRate=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.setPlaybackRate))return(e=this.player).setPlaybackRate.apply(e,t)},e.prototype.skipAdPod=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.skipAdPod))return(e=this.player).skipAdPod.apply(e,t)},e.prototype.setFeed=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.setFeed))return(e=this.player).setFeed.apply(e,t)},e.prototype.playInrollAd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isReady())return new Error("API unavailable");try{var n=["playInrollAd"].concat(e);return this.callThroughDecorators.apply(this,n)}catch(e){return new Error("API unavailable")}},e.prototype.getState=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.getState))return(e=this.player).getState.apply(e,t)},e.prototype.requestVideoElementFullscreen=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.requestVideoElementFullscreen))return(e=this.player).requestVideoElementFullscreen.apply(e,t)},e.prototype.exitVideoElementFullscreen=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.exitVideoElementFullscreen))return(e=this.player).exitVideoElementFullscreen.apply(e,t)},e.prototype.preloadSource=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.preloadSource))return(e=this.player).preloadSource.apply(e,t)},e.prototype.setPictureInPictureAllowed=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isReady()&&(0,s.isFunction)(this.player.setPictureInPictureAllowed))return(e=this.player).setPictureInPictureAllowed.apply(e,t)},e.prototype.isReady=function(){return!(!this.player||!this.isPlayerReady||this.state!==a.STATE.INITED&&this.state!==a.STATE.SWITCH&&this.state!==a.STATE.SWITCHED)},e.prototype.startStageOnTimeout=function(e,t,n,r){t>=e.length?n(this):e[t].failed?r(e[t].name+" failed"):setTimeout(this.startCurrentStage.bind(this,e,t,n,r),e[t].timeout||0)},e.prototype.startCurrentStage=function(e,t,n,r){e[t].count=(e[t].count||0)+1;var i=e[t].call(this);i&&(t++,(0,s.isFunction)(i.then)&&(0,s.isFunction)(i.catch))?this.startStageOnPromise(i,e,t,n,r):this.startStageOnTimeout(e,t,n,r)},e.prototype.startStageOnPromise=function(e,t,n,r,i){var o=this;e.then((function(){n>=t.length?r(o):o.startCurrentStage(t,n,r,i)})).catch(i)},e.prototype.executeQueue=function(e,t){return void 0===t&&(t=0),e.forEach((function(e){e.count=0})),new Promise(this.startCurrentStage.bind(this,e,t||0))},e.prototype.on=function(e,t,n){var r=this;return(0,s.isObject)(e)?(n=t,Object.keys(e).forEach((function(t){r.on(t,e[t],n)})),this):((0,s.isString)(e)&&(0,s.isFunction)(t)&&(this.handlers=this.handlers||{},this.handlers[e]=this.handlers[e]||[],this.handlers[e].push({cb:t,ctx:(0,s.isObject)(n)?n:this})),this)},e.prototype.subscribeToSkinEvents=function(e,t,n){var r=this;return(0,s.isObject)(e)?(n=t,Object.keys(e).forEach((function(t){r.subscribeToSkinEvents(t,e[t],n)})),this):((0,s.isString)(e)&&(0,s.isFunction)(t)&&this.skin.on(e,t.bind(n)),this)},e.prototype.init=function(e){return this.executeQueue([function(){return this.state===a.STATE.INIT||this.state===a.STATE.INITED||this.state===a.STATE.SWITCH||this.state===a.STATE.SWITCHED||this.state!==a.STATE.UNAVAILABLE&&this.state!==a.STATE.DESTROY&&(this.state=a.STATE.INIT,e=this.prepareConfig(e),this.privateInit(e))}])},e.prototype.destroy=function(){return this.executeQueue([function(){return this.state===a.STATE.DESTROY||this.state===a.STATE.DESTROYED||this.state===a.STATE.UNAVAILABLE||this.state!==a.STATE.INIT&&this.state!==a.STATE.SWITCH&&(this.state=a.STATE.DESTROY,this.player?this.player.destroy():void 0)}.bind(this),function(){return this.state=a.STATE.DESTROYED,this.trigger("onDestroy"),!0}.bind(this)])},e.prototype.update=function(e){return this.executeQueue([this.destroy,this.init.bind(this,e),function e(){return e.timeout=500,this.state===a.STATE.INITED&&!!this.player&&(1===this.player.currentPlayingState||e.count>3||void this.player.play())}])},e.prototype.setSource=function(e){return this.state===a.STATE.SWITCH&&(this.state=a.STATE.INITED),this.executeQueue([function e(){if(e.timeout=500,!(e.count>100))return this.isReady();e.failed=!0},function(){var t=this;this.state=a.STATE.SWITCH;var n=this.player.setSource(e);return(n=n.then((function(){t.state=a.STATE.SWITCHED}))).catch((function(){t.state=a.STATE.SWITCHED}))}.bind(this)])},e.prototype.getPlayerBundle=function(e){return("http:"===location.protocol?"http://":"https://")+(e?"betastatic.yastatic.net":"yastatic.net")+(this.version?"/yandex-video-player-iframe-api-bundles/"+this.version+"/js/player-api-loader.js":"/yandex-video-player-iframe-api/js/player-api-loader.js")},e.prototype.loadScript=function(e,t,n){var r=document.createElement("script");r.src=e,i.default.loadResource(document.head,r,t,n)},e.prototype.trigger=function(e,t){if(this.handlers&&this.handlers[e]){var n,r=this.handlers[e];t=t||[];for(var i=0;i<r.length;i++)(n=r[i]).cb.apply(n.ctx,t)}},e.prototype.getEnvName=function(){return o.default.getEnv()===o.default.ENV.PRODUCTION?o.default.ENV.PRODUCTION:o.default.ENV.TESTING},e.prototype.callThroughDecorators=function(e){for(var t=Array.prototype.slice.call(arguments,1),n=this.player;n&&!(0,s.isFunction)(n[e]);)n=n.instance||n.api;return n[e].apply(n,t)},e.prototype.prepareConfig=function(e){return e.version=this.version,e.envName=this.getEnvName(),e},e.prototype.privateInit=function(e){var t,n=this;return this.player=null,this.skin=null,this.withOttWrapper=!1,this.withOttTrackings=!1,e.disableOTTPlayerLoader?(delete e.disableOTTPlayerLoader,t=u.playerApi.init(e).then((function(e){n.player=e}))):t=u.OTT.PlayerLoader.init(e).then((function(e){n.player=e.api,n.withOttWrapper=e.withWrapper,n.withOttTrackings=e.withTrackings})),(t=t.then((function(){n.player&&(0,s.isFunction)(n.player.on)&&(n.player.on("SkinReady",(function(){n.skin=n.player.skin})),n.player.on("ErrorChange",(function(e){e.error&&n.trigger("onError",[e.error])}))),n.state=a.STATE.INITED,n.bindEvents(),n.trigger("PlayerApiAvailable"),n.trigger("onSourceChange",e.source)}))).catch((function(e){if(n.state=a.STATE.DESTROYED,e)return Promise.reject(new Error(e.message))}))},e.prototype.bindEvents=function(){var e=this;this.player&&Object.keys(this.EVENTS_TO_V1).forEach((function(t){e.player.on(t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.EVENTS_TO_V1[t];n=(0,s.isFunction)(i.map)?i.map.apply(e.player,n):n,n=Array.isArray(n)?n:[n],e.trigger.call(e,i.name,n)}))}))},e.METHODS=["play","pause","seek","setVolume","changeAdditionalParams","setMuted","setVideoTrack","setAudioTrack","setTextTrack","insertInto","openReportWindow","requestDebugInfo","sendReportLog","setVideoStyle","setNativeAdControlsVisibility","setPlaybackRate","skipAdPod","setFeed","playInrollAd","getState","requestVideoElementFullscreen","exitVideoElementFullscreen","preloadSource","setPictureInPictureAllowed"],e}();t.YaPlayer=c},2091:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENV=void 0,t.ENV={PRODUCTION:"production",TESTING:"testing",DEVELOPMENT:"development"}},7492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(721),i=window.Sandbox||function(e){this.init?this.init(e):window.console&&window.console.error&&window.console.error("Sandbox was just declared but init is not defined yet")};i.StaticLinks=r.links,window.Sandbox=i,t.default=i},5622:function(e,t,n){n(7923),Sandbox.Cookies=n(7507).Z},98:function(){Sandbox.static((function(e){var t=e.Sandbox,n=t.ErrorHandler=t.ErrorHandler||{};n.createVarsString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&t.push(n+"="+encodeURIComponent(e[n]).replace(/\*/g,"%2A"));return t.join(",")},n.normalizeError=function(e){var n=t.isObject(e.meta)?e.meta:{};try{n.query=decodeURIComponent(t.getLocation().search),n.hash=decodeURIComponent(t.getLocation().hash)}catch(e){}return{env:t.getEnv(),page:t.StaticLinks.SANDBOX_NAME,version:t.StaticLinks.VERSION,level:e.level||"error",reqid:e.reqid||"empty",yandexuid:e.yandexuid,service:e.service,file:e.filename||e.fileName,line:e.lineno||e.lineNumber,col:e.colno||e.colNumber,stack:e.error&&e.error.stack||e.stack||"",message:e.message,additional:n,path:"690.2361",slots:e.slots||""}},n.sendCounter=function(e){var r=["//yandex.ru/clck/jclck","dtype=stred","path="+e.path,"reqid="+e.reqid,"slots="+e.slots,"vars="+n.createVarsString({143:"28.1434","-env":e.env,"-yandexuid":e.yandexuid,"-service":e.service,"-version":e.version,"-page":e.page,"-level":e.level,"-msg":e.message,"-url":e.file,"-line":e.line,"-col":e.col,"-stack":e.stack,"-additional":JSON.stringify(e.additional),"-ua":navigator.userAgent,"-project":"video-player"}),"*"+t.getLocation().href].join("/");n.reportError(r)},n.reportError=function(e){try{-1===navigator.userAgent.indexOf("UCBrowser")&&navigator.sendBeacon&&navigator.sendBeacon(e," ")||(document.createElement("img").src=e)}catch(e){}},n.filterError=function(e){var t=e.stack||e.error&&e.error.stack;return[/\/video-player\/[^\/]*\/?bundles-common\//,/\/video-player\/[^\/]*\/?pages-common\//].some((function(e){return e.test(t)}))},n.handleError=function(e){if(n.filterError(e)){var t=n.normalizeError(e);n.sendCounter(t)}},e.addEventListener("error",n.handleError)}))},6070:function(e,t,n){n(7923),n(98)},9243:function(e,t,n){n(7923),Sandbox.Query=n(5764).default},7923:function(e,t,n){n(7492),function(e){var t=e.Sandbox;t.static=function(n,r,i){var o=function(){try{return JSON.parse(localStorage.getItem("debugSandbox"))}catch(e){return!1}}();r&&!o?t.tryCatch(n,i):n.call(e.Sandbox,e,document)},t.getEnv=function(){return t.StaticLinks&&t.StaticLinks.BUCKET&&t.StaticLinks.BUCKET.env?t.StaticLinks.BUCKET.env:t.ENV.PRODUCTION},t.getLocation=function(){return e.location},t._getContainer=function(e){var n;return e&&e.container instanceof HTMLElement&&(n=e.container),e&&t.isString(e.container)&&(n=document.querySelector(e.container)),n||(n=document.body),n},t.tryCatch=function(n,r){var i=t.isFunction(r)?r:t.ErrorHandler.handleError,o=t.isFunction(n);try{o&&n.call(e.Sandbox,e,document)}catch(e){i(e)}};var r=n(6874);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}(window),n(6070)},3840:function(e,t,n){n(2813);var r,i,o=n(2966).getDomain,s=n(1296).getLocationSearch,a=n(9312).Y,u=n(2206).fH,c=n(2206).PF,d=n(2206).XB,l=n(2206).mz,h=n(7817).default,p=n(6064).I18N,f=n(3744).ACCESS_ERROR_LABELS,_=n(4112).PLAYING_STATE,y=n(4112).AD_STATE,m=n(4112).STATE;Sandbox.decl({PLAYER_EVENTS_SUPPORTED:!0,REPLACE_ENDED_EVENT:!1,UGC_LIVE:{STATUS:{offline:"offline",ready:"ready",onair:"onair",finished:"finished",cancelled:"cancelled"},TEXT:{cancelled:"UGC_LIVE_CANCELLED",offline:"UGC_LIVE_OFFLINE"}},MAX_RETRIES_COUNT:1,documentWasAlwaysActive:!0,_isPlayerDead:!0,init:function(){var e,t;this._vhPlayerInit(this),Sandbox.isUndefined(document.hidden)?Sandbox.isUndefined(document.webkitHidden)||(e="webkitHidden",t="webkitvisibilitychange"):(e="hidden",t="visibilitychange");var n=this;e&&t&&(this.documentWasAlwaysActive=!document[e],document.addEventListener(t,(function(){n.documentWasAlwaysActive&&(n.documentWasAlwaysActive=!1)})))},_vhPlayerInit:function(e){if(Sandbox.isObject(this.params)){var t,n=Sandbox.isObject(this.params.queryConfig)?this.params.queryConfig:s();if(this.query=Sandbox.VHQuery.getQuery(n,this._logUnsafeQueryParams.bind(this)),this.counters=this.query.counters,this.EVENT_PREFIX=this.query.event_prefix,this.query.test_mode){var r=this.query.test_data,i=Sandbox.presets&&Sandbox.presets[r];t=i?Promise.resolve(i):new Sandbox.VH.Provider(r,{apiHost:"playerweb-stands.s3.yandex.net"}).loadTest("mediabox-test-presets")}else t=Promise.resolve(this.params.data);t=t.then(function(e){this.params.data=e,this.data=e.content,this.userData=e.user_data,this.serverError=e.error,this.requestInfo=e.request_info||{},this.expFlags=h.parse(this.requestInfo.flags,this.query.mb_flags),a(this.expFlags,this.query),this.query.release_timeout&&(this.data.release_date=Math.floor(Date.now()/1e3+this.query.release_timeout)),this.player=new Sandbox.YaPlayer(this.expFlags.version,this.query.beta),this.player.on(this._playerEventAdapters,this),this.player.on(this._ottPlaceHolderEventAdapters,this),this.player.isAd=!1,this.ids=this._getIds(),this._videoDuration=Number.MAX_VALUE,this.retriesCount=0,this.defaultSkin=Sandbox.isUndefined(this.query.skin),this.isOnAir=!1,this.xivaSubscribed=!1,this.viewersNumberUgcLive=null,this.streamCms=this.query.stream_cms?Ya.streamCms:void 0,this.query.test_mode||(this.vhVelocityMetrics=new Sandbox.VHVelocityMetrics),this.streamCms&&this.streamCms.init({settings:{},sessionParams:{reqid:this.ids.reqid,service:this.query.service,from:this.query.from},errorLib:{logError:this._logError.bind(this)}}),Sandbox.initContainer(this.container,this.id)}.bind(this)),this.creatingPromise=t.then((function(){return e.initPlayer()}))}else this.creatingPromise=Promise.reject(new Error("Invalid sandbox params"))},trigger:(r=Sandbox.prototype.trigger,i=function(){},function(e,t){return t=t||{},this.player.isReady()&&(t.isMuted=this.player.getState().muted,Sandbox.isUndefined(t.time)&&(t.time=this.player.getState().currentTime)),r.call(this,e,t,this.query.disable_postmessage_broadcast?i:void 0)}),initPlayer:function(e){e&&(this.params=e,this.data=e.data.content,this.serverError=e.data.error),e&&e.queryConfig&&(this.query=Sandbox.VHQuery.getQuery(e.queryConfig,this._logUnsafeQueryParams.bind(this)),this.counters=this.query.counters),this.data.ottParams&&Sandbox.isNumber(this.data.restriction_age)&&(this.query.meta=Sandbox.VHQuery.META_VIEW_MODE.restriction_age,this.query.m_duration=8e3,this.query.m_title=this.data.restriction_age+"+"),this.query&&this.query.lang?this._lang=this.query.lang:this.requestInfo&&this.requestInfo.lang&&(this._lang=this.requestInfo.lang),this.vhConfig=new Sandbox.VHConfig(this);var t=this.vhConfig.getPlayerConfig(),n=this._getAnnounce(),r=this._getAnnounceRelease();if(this.data.release_date=parseInt(this.data.release_date,10),this.serverError)return this._showAccessError(this.serverError,t.thumbnail),Promise.resolve();if(this.data.ugc_live){if(this.isOnAir)return Promise.resolve();if(this.viewersNumberUgcLive=Sandbox.isNumber(this.data.viewers)?this.data.viewers:this.viewersNumberUgcLive,this.xivaSubscribed||this._subscribeXiva(t.thumbnail),this.isOnAir=this.data.ugc_live_status===this.UGC_LIVE.STATUS.onair,this.data.ugc_live_status===this.UGC_LIVE.STATUS.cancelled)return this._showUGCAnnounce(t.thumbnail,p(this.UGC_LIVE.TEXT.cancelled,this._lang)),Promise.resolve();if(this.data.ugc_live_status===this.UGC_LIVE.STATUS.offline||this.data.ugc_live_status===this.UGC_LIVE.STATUS.ready&&!this.data.reload_on_ready)return this._showUGCAnnounce(t.thumbnail,p(this.UGC_LIVE.TEXT.offline,this._lang)),Promise.resolve();if(!this.data.streams)return this._logError({message:"UGC-live: no streams",level:"error"}),this._showAccessError(f.unexpected,t.thumbnail),Promise.resolve()}return Sandbox.isObject(this.counters)&&(this.counters.licence=t.source.context&&Sandbox.isString(t.source.context.monetizationModel)?t.source.context.monetizationModel:"",this.counters.svod=t.source.context&&Sandbox.isString(t.source.context.subscriptionType)?t.source.context.subscriptionType:""),r&&r.isFutureDate(this.data.release_date)?(r.setBackground(this.data.thumbnail,"rgba(41, 43, 58, .6)").setTime(this.data.release_date).setLabel(this.data.title).setVideoId(this.data.can_play_on_efir?this.data.content_id:"").onStart(this.initPlayer,this).show(),Promise.resolve()):(t.source.update=this._getVHData.bind(this),this.player.init(t).then((function(){n&&n.hide()})))},_subscribeXiva:function(e){this.streamCms&&(this.streamCms.initXiva({session:this.ids.reqid,user:this.ids.yandexuid||"anonim"}),this.streamCms.subscribe({handler:"streams",id:this.data.xiva_id},this._onMessageStreams.bind(this,e)),this.streamCms.subscribe({handler:"viewers",id:this.data.xiva_id},this._onMessageViewers.bind(this)),this.xivaSubscribed=!0)},_onMessageStreams:function(e,t){if(t&&t.content&&(this.player.trigger("onLiveStatusChanged",[t.content.ugc_live_status]),this.ids.ugcLiveStatus=t.content.ugc_live_status,!this.isOnAir))if(t.content.ugc_live_status!==this.UGC_LIVE.STATUS.cancelled){var n=this;t.content.ugc_live_status===this.UGC_LIVE.STATUS.onair&&r(t),t.content.ugc_live_status===this.UGC_LIVE.STATUS.ready&&this.data.reload_on_ready&&new Sandbox.VH.Provider(this.data.content_id,{apiHost:this.query.api_host}).load("player",this.query).then((function(e){r(e)}))}else this._showUGCAnnounce(e,p(this.UGC_LIVE.TEXT.cancelled,this._lang));function r(e){n.player.isReady()&&n.destroyPlayer();var t=n._getAnnounce();t&&t.hide(),n.initPlayer({data:e})}},_onMessageViewers:function(e){e&&e.viewers&&(this.viewersNumberUgcLive=e.viewers,this.player.trigger("onViewersNumberChanged",[e.viewers]),this.trigger("viewersNumberChanged",e.viewers))},destroyPlayer:function(){return this._hasPlayerStarted=!1,this._isPlayerDead=!0,this.xivaSubscribed&&(this.streamCms.unsubscribe({handler:"streams",id:this.data.xiva_id}),this.streamCms.unsubscribe({handler:"viewers",id:this.data.xiva_id}),this.xivaSubscribed=!1),this.player.destroy()},updatePlayer:function(e){e&&(this.data=e.data.content,this.userData=e.data.user_data,this.serverError=e.data.error);var t=this.vhConfig.getPlayerConfig();return this.serverError?(this._showAccessError(this.serverError,t.thumbnail),this.destroyPlayer(),Promise.resolve()):(Sandbox.isObject(this.counters)&&(this.counters.licence=t.source.context&&Sandbox.isString(t.source.context.monetizationModel)?t.source.context.monetizationModel:"",this.counters.svod=t.source.context&&Sandbox.isString(t.source.context.subscriptionType)?t.source.context.subscriptionType:""),t.autoplay=!0,this.player.update(t))},updateSource:function(e){var t=e.id,n=e.params,r=new Sandbox.VH.Provider(t),i=this;r.load("player",n).then((function(e){var t,r={data:e,queryConfig:n};!i.player||i.serverError?t=i.creatingPromise=i.initPlayer(r):i.player.isReady()?t=i.setSourcePlayer(r).then((function(){i.trigger("inited")})):(i.player.destroy(),t=i.creatingPromise=i.initPlayer(r)),t.catch((function(){if(i.serverError){var t=i.vhConfig.getPlayerConfig();i.announce=void 0,i._showAccessError(i.serverError,t.thumbnail)}i.onError("Can not set source for player",e)}))})).catch((function(){i.onError("Can not load source for player",e)}))},_prepareVHData:function(e){this._hasPlayerStarted=!1,this.params=e,this.data=this.params.data.content,this.serverError=this.params.data.error;var t=e.queryConfig;return t&&(this.query=Sandbox.VHQuery.getQuery(t,this._logUnsafeQueryParams.bind(this))),this.data.ottParams&&Sandbox.isNumber(this.data.restriction_age)&&(this.query.meta=Sandbox.VHQuery.META_VIEW_MODE.restriction_age,this.query.m_duration=8e3,this.query.m_title=this.data.restriction_age+"+"),this.vhConfig=new Sandbox.VHConfig(this),this.vhConfig.prepareVHParams()},_prepareSourceConfig:function(e){if(this.serverError)return this._showAccessError(this.serverError,e.thumbnail),void this.pause();var t=this._getAnnounce();t&&t.hide();var n=this.vhConfig.getSourceConfig(e);return n.update=this._getVHData.bind(this),n},setSourcePlayer:function(e){var t=this._prepareVHData(e),n=this._prepareSourceConfig(t);if(!n)return Promise.reject();this.setSourcePromise=this.player.setSource(n),this.defaultSkin&&(this.player.skin?this.player.skin.reconfigure(this.vhConfig.getSkinConfig(t)):this.player.on("SkinReady",function(){this.player.skin.reconfigure(this.vhConfig.getSkinConfig(t))}.bind(this)));var r=this;return r.query&&Sandbox.isObject(r.query.counters)&&(this.setSourcePromise=this.setSourcePromise.then((function(){r.counters=r.query.counters,r.initCounters(),Sandbox.Timer.reset()}))),this.query.autoplay&&(this.setSourcePromise=this.setSourcePromise.then((function(){r.player.play()}))),this.setSourcePromise},_getVHData:function(){if(!(this.retriesCount>=this.MAX_RETRIES_COUNT||this.query.disable_update)){var e=new Sandbox.VH.Provider(this.ids.contentId,{apiHost:this.query.api_host}).load("player",this.query),t=this;return e=e.then((function(e){var n=t._prepareVHData({data:e});return t._prepareSourceConfig(n)})),this.retriesCount++,e}},_playerEventAdapters:{onReady:function(e){this._player_api=e,this.query.test_mode||(this.vhVelocityMetrics.setLogMethod(this._player_api.logDelta.bind(this._player_api)),this.vhVelocityMetrics.send("readyPlayerAPI",this.query.velocity_metrics_sampled)),this.player.isPlayerReady=!0,this._isPlayerDead=!1,this.trigger("inited")},onStateChange:function(e){switch(e){case _.play:var t=this._hasPlayerStarted?"resumed":"started",n=this.data||{},r=this.player.getState(),i={duration:Sandbox.isObject(r)?r.duration:void 0};if("started"===t&&(i.title=n.title,i.description=n.description,i.contentId=n.content_id),this.trigger(t,i),this.query.meta===Sandbox.VHQuery.META_VIEW_MODE.restriction_age&&this.player.skin&&this.defaultSkin&&(this._previousState===_.pause||!this._previousState)){var o=this.vhConfig.getTitleSettings();this.player.skin.configure({title:o}),clearTimeout(this._setTitleTimeout),this._setTitleTimeout=setTimeout(function(){this.player.skin.configure({title:{isVisible:!1}})}.bind(this),this.query.m_duration)}this._hasPlayerStarted=!0;break;case _.pause:this.trigger("paused");break;case _.end:this.trigger(this.REPLACE_ENDED_EVENT?"paused":"ended")}this._previousState=e},onAdStateChange:function(e){switch(e.state){case y.PLAYING:this.trigger("adShown");break;case y.NOT_PLAYING:this.trigger("adEnd")}},onAdPodStart:function(e){this.trigger("adPodStart",{adConfig:e&&e.adConfig,adType:e&&e.type})},BeforeAdPodStart:function(e){var t=e&&e.adPlaybackController;this.trigger("beforeAdPodStart",{assets:t&&t.getCurrentViewerAssets()})},onCurrentTimeChange:function(e,t,n){this.player.isReady()&&this.trigger("timeupdate",{time:e,utcTime:t,watchedTime:n,duration:this.player.getState().duration})},onVolumeChange:function(e){this.player.isReady()&&this.trigger("volumechange",{volume:e/100,muted:this.player.getState().muted})},onDurationChange:function(e){Sandbox.isNumber(e)&&e>0&&this.trigger("durationchange",{duration:e}),this._videoDuration=e},onVideoTracksChange:function(){this.setQuality({quality:this.query.maxQuality})},onError:function(e){(e=e||{}).isFatal&&(this.onError("Player API shut down after errors",{errorCode:e.details&&e.details.errorCode?e.details.errorCode:e.code,messageCode:e.details?e.details.messageCode:"",message:e.message,playerSrc:e.details?e.details.src:""}),this.trigger("error",{code:e.code})),e.isAccessError&&(this._logError({message:"Data error",meta:{errorCode:e.code,message:e.message},level:"warning"}),this.trigger("error",{code:e.code,message:e.message}))},onResourcesIdle:function(){this.trigger("resourcesIdle"),this.query.test_mode||this.vhVelocityMetrics.send("startedOrIdle",this.query.velocity_metrics_sampled)},onContentImpression:function(){this.query.test_mode||this.vhVelocityMetrics.send("startedOrIdle",this.query.velocity_metrics_sampled),this.trigger("contentImpression"),this.retriesCount=0},onUserReady:function(e){!this.query.test_mode&&this.documentWasAlwaysActive&&this.vhVelocityMetrics.send("userReady",this.query.velocity_metrics_sampled,e.type)},onPosterReady:function(){!this.query.test_mode&&this.documentWasAlwaysActive&&this.vhVelocityMetrics.send("posterReady",this.query.velocity_metrics_sampled)},onDestroy:function(){l(this.id)},onVideoSizeChange:function(e){if(e&&0!==e.videoWidth&&0!==e.videoHeight){var t=this.player.getState(),n=t?t.adState:void 0,r={videoHeight:e.videoHeight,videoWidth:e.videoWidth,isAd:!!Sandbox.isObject(n)&&n.state===y.PLAYING};this.trigger("sizeChange",r)}},SkinReady:function(){this.defaultSkin&&(this.player.skin.updateExternalPlayerConfig(this.data.yastation_cast_cfg),this.query.meta!==Sandbox.VHQuery.META_VIEW_MODE.start&&this.query.meta!==Sandbox.VHQuery.META_VIEW_MODE.restriction_age||(this._setTitleTimeout=setTimeout(function(){this.player.skin.configure({title:{isVisible:!1}})}.bind(this),this.query.m_duration)),this.player.subscribeToSkinEvents(this._skinEventAdapters,this))}},_skinEventAdapters:{SubscribeButtonClick:function(){this.trigger("svodSubscribe"),this.setFullscreen(!1)},Seek:function(e){this.trigger("rewound",{time:e.newPosition,previousTime:e.oldPosition})}},_ottPlaceHolderEventAdapters:{"placeholder:init":function(e){this.trigger("placeholder:init",e)},"placeholder:pay":function(e){this.trigger("placeholder:pay",e)}},setAudioTrack:function(e){Sandbox.isString(e)&&this.player.setAudioTrack(e),Sandbox.isObject(e)&&this.player.setAudioTrack(e.value)},seek:function(e){Sandbox.isNumber(e)&&this.player.seek(e),Sandbox.isObject(e)&&this.player.seek(e.time)},seekForward:function(e){if(this.player.isReady()){var t=this.player.getState().currentTime,n=e&&e.interval||10;this.player.seek(t+n)}},seekBackward:function(e){if(this.player.isReady()){var t=this.player.getState().currentTime,n=e&&e.interval||10;this.player.seek(t-n)}},setVolume:function(e){if(Sandbox.isNumber(e)&&this.player.setVolume(e),Sandbox.isObject(e)){var t=e.volume>=0&&e.volume<=1?100*e.volume:e.volume;this.player.setVolume(t)}},mute:function(){this.setMuted(!0)},unmute:function(){this.setMuted(!1)},setQuality:function(e){var t={small:"240p",medium:"360p",large:"480p",hd720:"720p",hd1080:"1080p"}[e.quality]||e.quality,n=this.player.getState(),r=(n?n.videoTracks:[]).filter((function(e){return e.name===t}))[0];r&&r.value&&this.player.setVideoTrack(r.value)},setFullscreen:function(e){if(this.defaultSkin){var t=this;this.player.skin?n():this.player.on("SkinReady",n)}function n(){(Sandbox.isObject(e)?e.fullscreen:e)?t.player.skin.requestFullscreen():t.player.skin.exitFullscreen()}},getAudioTrack:function(){if(this.player.isReady())return this.player.getState().audioTrack},getAudioTracks:function(){if(this.player.isReady())return this.player.getState().audioTracks},getAdState:function(){if(this.player.isReady())return this.player.getState().adState},getDuration:function(){if(this.player.isReady())return this.player.getState().duration},getVersion:function(){if(this.player.isReady())return this.player.getState().version},getMuted:function(){if(this.player.isReady())return this.player.getState().muted},getVolume:function(){if(this.player.isReady())return 100*this.player.getState().volume},setHiddenControls:function(e){if(this.defaultSkin&&this.player&&Sandbox.isString(e)){var t=this;this.player.skin?n():this.player.on("SkinReady",n)}function n(){t.player.skin.configure({hiddenControls:e})}},insertInto:function(e){var t=Sandbox._getContainer({container:e});if(t===this.container)return Promise.resolve();if(t===document.body)throw new Error("A container for moving the player was not found");t.innerHTML="";for(var n=c(this.container,this.id),r=u("inner-container",this.id),i="player-container"+this.id,o=Boolean(this.player.player)&&this.player.state!==m.DESTROY&&this.player.state!==m.DESTROYED,s=0;s<n.childNodes.length;s++)o&&n.childNodes[s].id===i||(r.appendChild(n.childNodes[s]),s--);t.appendChild(r);var a=this.container;return this.container=t,o?this.player.insertInto(r).then((function(){a.innerHTML=""})):(a.innerHTML="",Promise.resolve())},getViewersNumber:function(){return Sandbox.isNumber(this.viewersNumberUgcLive)?this.viewersNumberUgcLive:null},getUGCLiveStatus:function(){return this.ids.ugcLiveStatus},onError:function(e,t){this._isPlayerDead=!0,this._logError({message:e,meta:t,level:"error"})},_logError:function(e){var t=new Error(e.message);t.yandexuid=this.ids.yandexuid,t.reqid=this.ids.reqid,t.service=this.ids.from,t.level=e.level,t.slots=this.ids.slots,t.meta=e.meta||{},t.meta.vsid=this.ids.vsid,t.meta.puid=this.ids.puid,t.meta.contentId=this.ids.contentId,t.meta.fromBlock=this.ids.fromBlock,t.meta.streamBlock=this.ids.streamBlock,t.meta.isPlayerBeta=this.ids.isPlayerBeta,t.meta.v2=this.ids.v2,t.meta.playerVersion=this.ids.playerVersion,t.meta.ottWrapperEnabled=this.player.withOttWrapper,t.meta.ottTrackingsEnabled=this.player.withOttTrackings,Sandbox.ErrorHandler.handleError(t)},_logUnsafeQueryParams:function(e,t){t&&t.disable_unsafe_log||setTimeout(this._logError.bind(this,{message:"Service uses unsafe params",meta:{host:o(),unsafeParams:e},level:"warning"}),1e3)},_getSlots:function(){var e={};[this.requestInfo.slots,this.query.slots].join(";").split(";").forEach((function(t){if(/^\d+,\d+,-?\d+$/.test(t)){var n=parseInt(t,10);e[n]=e[n]||t}}));var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t.join(";")},_getIds:function(){var e=this,t={yandexuid:Sandbox.Cookies.get("yandexuid"),reqid:this.query.reqid,from:this.query.from,isPlayerBeta:this.query.beta,v2:this.player.v2,id:this.id,bundle:this.player.bundle,sandboxVersion:Sandbox.StaticLinks.VERSION,ugcLiveStatus:this.data.ugc_live_status,slots:this._getSlots(),frontendVhReqid:this.params.data["apphost-reqid"]||this.userData&&this.userData.req_id};return!t.reqid&&this.counters&&(t.reqid=this.counters.reqid),!t.reqid&&this.userData&&(t.reqid=this.userData.req_id),t.reqid||(t.reqid=""),Object.defineProperties(t,{playerVersion:{enumerable:!0,get:function(){var t=e.player.getState();if(t)return t.version}},contentId:{enumerable:!0,get:function(){return e.data.actual_episode?e.data.actual_episode.content_id:e.data.content_id}},vsid:{enumerable:!0,get:function(){var t=e.player.getState();if(t)return t.vsid}},puid:{enumerable:!0,get:function(){return e.data.actual_episode?e.data.actual_episode.puid:e.data.puid}},fromBlock:{enumerable:!0,get:function(){return e.query.from_block}},streamBlock:{enumerable:!0,get:function(){return e.query.stream_block||e.data.streamBlock}}}),t},_showAccessError:function(e,t){var n=f[e]||f.unexpected,r=(e={isAccessError:!0,code:n.code,message:p(n.message,this._lang)},this._getAnnounce());r&&r.setTime(!1).setLabel(e.message).toggleLiveButton(!1).setBackground(t).show(),this._playerEventAdapters.onError.call(this,e)},_showUGCAnnounce:function(e,t){var n=this._getAnnounce();return n&&n.setLabel(t).toggleLiveButton(!1).setBackground(e).show(),n},_getAnnounce:function(){if(Sandbox.Announce){var e=Sandbox.getAnnounceContainer(this.id);if(null!==e)return this.announce||(this.announce=new Sandbox.Announce(e,this._lang)),this.announce}},_getAnnounceRelease:function(){if(Sandbox.AnnounceRelease){var e=d(this.id);if(null!==e)return this.announceRelease||(this.announceRelease=new Sandbox.AnnounceRelease(e,this._lang)),this.announceRelease}},play:function(){return this.player.play.apply(this.player)},pause:function(){return this.player.pause.apply(this.player)},changeAdditionalParams:function(){return this.player.changeAdditionalParams.apply(this.player,arguments)},setMuted:function(){return this.player.setMuted.apply(this.player,arguments)},setVideoTrack:function(){return this.player.setVideoTrack.apply(this.player,arguments)},setTextTrack:function(){return this.player.setTextTrack.apply(this.player,arguments)},openReportWindow:function(){return this.player.openReportWindow.apply(this.player,arguments)},requestDebugInfo:function(){return this.player.requestDebugInfo.apply(this.player,arguments)},sendReportLog:function(){return this.player.sendReportLog.apply(this.player,arguments)},setVideoStyle:function(){return this.player.setVideoStyle.apply(this.player,arguments)},setNativeAdControlsVisibility:function(){return this.player.setNativeAdControlsVisibility.apply(this.player,arguments)},setPlaybackRate:function(){return this.player.setPlaybackRate.apply(this.player,arguments)},skipAdPod:function(){return this.player.skipAdPod.apply(this.player,arguments)},setFeed:function(){return this.player.setFeed.apply(this.player,arguments)},playInrollAd:function(){return this.player.playInrollAd.apply(this.player,arguments)},getState:function(){return this.player.getState.apply(this.player,arguments)},requestVideoElementFullscreen:function(){return this.player.requestVideoElementFullscreen.apply(this.player,arguments)},exitVideoElementFullscreen:function(){return this.player.exitVideoElementFullscreen.apply(this.player,arguments)},preloadSource:function(){return this.player.preloadSource.apply(this.player,arguments)},setPictureInPictureAllowed:function(){return this.player.setPictureInPictureAllowed.apply(this.player,arguments)}})},6305:function(e,t,n){n(6311),n(7456),n(236),n(5622),n(2098),n(1256),n(3699),n(3840),n(3351),n(5817),n(6992),n(8525),n(7817),n(3744),n(4964)},3906:function(e,t,n){var r=n(2206).Dh,i=n(7169).Z,o=n(3744).ACCESS_ERROR_LABELS,s=n(4112).STATE;Sandbox.static((function(e,t){var n=e.Ya=e.Ya||{},a=n.VH=n.VH||{},u=e.Sandbox=e.Sandbox||{};u.presets={};var c=a.Error=function(e,t){Error.call(this,e.message),this.message=e.message,e.apiUrl&&(this.apiUrl=e.apiUrl),this.documentation="https://wiki.yandex-team.ru/video/sandbox/error-vh-player-js/",Error.captureStackTrace?Error.captureStackTrace(this,a.init):this.stack=(new Error).stack,t&&(this.level=t.level,this.service=t.service,this.meta={},this.meta.reason=t.reason)};c.prototype=Object.create(Error.prototype);var d=(a.PlayerJS=function(e,n,r){if((e=Sandbox._getContainer({container:e}))===t.body)throw new c(new Error("Container was not found"));this._container=e,this._sandboxInstance=null,this._onSandboxInstanceCreated=null,this._sandboxInstanceCreatingPromise=null,this._resetCreatingPromise(),this._contentId=null,this._promise=null,n&&(this.update(n,r),this._contentId=n)}).prototype;d._resetCreatingPromise=function(){var e=this,t=this._onSandboxInstanceCreated||function(){};this._sandboxInstanceCreatingPromise=new Promise((function(t){e._onSandboxInstanceCreated=t})),this._sandboxInstanceCreatingPromise.then(t)},d._vhReject=function(e){var t=new c(new Error(e));return i.handleError(t),Promise.reject(t)},d.update=function(e,t){if(!e||!u.isString(e)&&!u.isObject(e))return this._promise=this._vhReject("Incorrect data format"),this._promise;Sandbox.isObject(performance)&&Sandbox.isFunction(performance.now)&&(this._initJSAPI=performance.now());var n,r=this._augmentVHQueryConfig(t);if(r&&r.test_mode){var i=u.VHQuery.isValidPresetName(r.test_data)?r.test_data:"default";return u.isObject(u.presets[i])?this._update(u.presets[i],r):(n=new u.VH.Provider(i,{apiHost:"playerweb-stands.s3.yandex.net"}),this._promise=n.loadTest("mediabox-test-presets").then(function(e){return u.presets[i]=e,this._update(e,r)}.bind(this)),this._promise)}if(u.isString(e)){if(this._dataSource=Sandbox.VHVelocityMetrics.DATA_SOURCES.contentId,n=this._promise,e===this._contentId&&n)return n;n=new u.VH.Provider(e,{apiHost:Sandbox.isObject(r)?r.api_host:void 0,tld:Sandbox.isObject(r)?r.tld:void 0}),this._contentId=e;var o=this;return this._promise=n.load("player",r).then((function(e){return o._update(e,r)})).catch((function(e){var t=new c(e,{service:r&&r.from?r.from:"other"}),n=Sandbox.isNumber(e.responseCode)?o._getErrorLabel(e.responseCode):"";return e&&n?(o._sandboxInstance=u.init({data:{error:n,content:{}},container:o._container}),Promise.reject(t)):(u.ErrorHandler.handleError(t),Promise.reject(t))})),this._promise}if(Sandbox.isObject(e)){this._dataSource=Sandbox.VHVelocityMetrics.DATA_SOURCES.dataObject;var s=this.validateData(e);if(s){var a=new c(new Error(s),{service:r&&r.from?r.from:"other"});return this._promise=Promise.reject(a),this._promise}return this._contentId===e.content.content_id?(this._promise=Promise.resolve(this._sandboxInstance),this._promise):(this._contentId=e.content.content_id,this._promise=this._update(e,r),this._promise)}},d._update=function(e,t){var n={data:e,container:this._container,queryConfig:t},r=this,i=this._sandboxInstance;return i&&i.creatingPromise&&!i._isPlayerDead?i.creatingPromise.then((function(){return r._sandboxInstance.player.state!==s.UNAVAILABLE&&r._onSandboxInstanceCreated(),i.setSourcePlayer(n).then((function(){return i}))})):new Promise((function(e,o){var a=setTimeout((function(){o(new c(new Error("Player loading error")))}),15e3);return i=u.init(n),r._sandboxInstance=i,i.creatingPromise.then((function(){r._sandboxInstance.player.state!==s.UNAVAILABLE&&r._onSandboxInstanceCreated(),t&&!t.test_mode&&(r._sandboxInstance.vhVelocityMetrics.initSandbox=r._initJSAPI,r._sandboxInstance.vhVelocityMetrics.dataSource=r._dataSource),clearTimeout(a),i.player.isPlayerReady?e(i):i.player.on("onReady",(function(){e(i)}))})).catch((function(e){clearTimeout(a),o(e)}))}))},d.validateData=function(e){var t="";return u.isObject(e.content)?u.isString(e.content.content_id)?u.isObject(e.user_data)?u.isObject(e.request_info)?Array.isArray(e.content.streams)||e.error||e.content.ugc_live||(t="data.content.streams"):t='"request_info"':t='"user_data"':t="content.content_id":t='"content"',t?"Invalid data format: missing a required field "+t:""},d.insertInto=function(e){var t=this;if(t._sandboxInstance)return t._sandboxInstance.insertInto(e).then((function(){t._container=e}));var n=new c(new Error("VH.PlayerJS: Failed to move player"));return Sandbox.ErrorHandler.handleError(n),Promise.reject(n)},d.getViewersNumber=function(){var e=this;return this._promise.then((function(){return e._sandboxInstance.getViewersNumber()})).catch((function(e){var t=new c(new Error("VH.PlayerJS: Failed to get the number of users"),{reason:e});return Sandbox.ErrorHandler.handleError(t),Promise.reject(t)}))},d.getUGCLiveStatus=function(){var e=this;return this._promise.then((function(){return e._sandboxInstance.getUGCLiveStatus()})).catch((function(e){var t=new c(new Error("VH.PlayerJS: Failed to get status of ugc live"),{reason:e});return Sandbox.ErrorHandler.handleError(t),Promise.reject(t)}))},d.on=function(e){if(this._sandboxInstanceCreatingPromise){var t=this;this._sandboxInstanceCreatingPromise.then((function(){t._sandboxInstance.player.on(e)}))}else{var n=new c(new Error("VH.PlayerJS: Failed to subscribe to player and sandbox events"),{level:"warning",reason:new Error("Unexpected call of #on() before #update()")});Sandbox.ErrorHandler.handleError(n)}},d.destroy=function(){var e=this;return this._promise.then((function(){return e._sandboxInstance.destroyPlayer().then((function(){u.clear(e._sandboxInstance),e._sandboxInstance.container.innerHTML="",e._sandboxInstance=null}))})).catch((function(){r(e._sandboxInstance.container,e._sandboxInstance.id)}))},d._getErrorLabel=function(e){var t=o;for(var n in t)if(e===t[n].code)return n;return""},d._augmentVHQueryConfig=function(e){var t=e||{};if(!("adsdk-container-width"in t)||!("adsdk-container-height"in t)){var n=this._container.getBoundingClientRect();t["adsdk-container-width"]=n.width,t["adsdk-container-height"]=n.height}return t},a._loadCSS=function(){var e=Sandbox.StaticLinks.BUCKET,n=e.url;e.version&&(n+="/"+e.version+"/"),n+="pages-common/vh-player-js/_vh-player-js.css";var r=t.createElement("link");r.rel="stylesheet",r.href=n,t.getElementsByTagName("head")[0].appendChild(r)},a._loadCSS()}),!0)},8742:function(e,t,n){n(6305),Sandbox.VHQuery=n(8403),n(4009)},8525:function(e,t,n){n(948),n(6064),n(8274),window.Sandbox.AnnounceRelease=n(6163).B},6992:function(e,t,n){n(6064),n(2425),window.Sandbox.Announce=n(1074).n},948:function(e,t,n){var r=n(5265).Bender;window.Sandbox.Bender=r},4009:function(e,t,n){n(4727)},7306:function(e,t,n){n(5817),n(3274)},5817:function(e,t,n){n(1107)},1256:function(e,t,n){var r=n(4231).default;Sandbox.VH=Sandbox.VH||{},window.Sandbox.VH.Provider=r},6311:function(e,t,n){n(9243),n(6782)},6782:function(e,t,n){var r=n(4144).default,i=n(7169).Z,o=window.Sandbox,s=o.prototype;function a(){var e,t;for(t=o.initHandlers.length-1;t>-1;t--)(e=o.initHandlers[t]).calls=e.calls||{},e.calls[this.id]||(e.calls[this.id]=!0,e.call(this))}o.isUndefined(o._id)&&(o._id=0),o.ALLOWED_METHODS=["play","pause","seek","seekForward","seekBackward","setVolume","mute","unmute","setQuality","getAudioTrack","getAudioTracks","setAudioTrack","sendReportLog","playInrollAd","updateSource","setFullscreen"],o.INIT_TIME=(new Date).getTime(),o.initHandlers=[],o.instances=[],o._isDomReady=!1,s.callMethod=function(e){if(Sandbox.isObject(e)&&Sandbox.isString(e.method)&&0===e.method.indexOf(this.EVENT_PREFIX)){var t,n=e.method.substring(this.EVENT_PREFIX.length);if(o.ALLOWED_METHODS.indexOf(n)<0)this._returnMethodResult(n,e.id,void 0,"Method forbidden");else if(o.isFunction(this[n])){try{t=this[n].call(this,e)}catch(t){return void this._returnMethodResult(n,e.id,void 0,t.message)}if(Sandbox.isObject(t)&&Sandbox.isFunction(t.then)&&Sandbox.isFunction(t.catch))return t.then(function(t){this._returnMethodResult(n,e.id,t)}.bind(this)),void t.catch(function(t){t=Sandbox.isObject(t)?t.message:t,this._returnMethodResult(n,e.id,void 0,t)}.bind(this));this._returnMethodResult(n,e.id,t)}else this._returnMethodResult(n,e.id,void 0,"Method was not implemented")}},s._returnMethodResult=function(e,t,n,r){var i=e+":return",o={};t&&(o.id=t),Sandbox.isUndefined(n)||(o.result=n),r&&(o.error=r),this.trigger(i,o)},s.__props__={EVENT_PREFIX:"sandbox:"},s._isInIframe=function(){return window.top!==window},s.init=function(e){var t;return o.clone({source:this.__props__,destination:this}),o.isObject(e)?this.params=e:(t=[window.location.search.slice(1),window.location.hash.slice(1)].filter(Boolean).join("&"),this.params=new Sandbox.Query(t,this.getDefaultParams())),this.useIframe=this._isInIframe(),o.isObject(this.params.counters)&&(this.counters=this.params.counters,this.params.counters=void 0),this.container=Sandbox._getContainer(this.params),this.id=o._id++,a.call(this),this.on(this.callMethod),o.instances.push(this),this},o.init=function(e){return o._isDomReady||(o._isDomReady=!0),setTimeout((function(){r.loadBundles()}),1e3),i.eventListenerAdded||(window.addEventListener("error",i.handleError),o.ErrorHandler=i,i.eventListenerAdded=!0),new o(e)},o.decl=function(e,t){var n,r;for(n in Sandbox.isFunction(t)&&t.call(e,e),e)if(e.hasOwnProperty(n)){if(r=e[n],"init"===n&&o.isFunction(r)){o.initHandlers.push(r);continue}if(!o.isFunction(r)){s.__props__[n]=r;continue}s[n]=r}o._isDomReady&&o.instances.forEach((function(e){o.clone({source:s.__props__,destination:e,mergeFunction:function(e,t){return void 0!==e?e:t}}),a.call(e)}))},s.on=function e(t){function n(e){var t=e.data||{},n=o.instances;if(o.isString(t))try{t=JSON.parse(t)}catch(e){}n.forEach((function(e){e.handlers.forEach((function(n){n.call(e,t)}))}))}this.handlers=this.handlers||[],this.handlers.push(t),e.listen||(e.listen=!0,window.addEventListener?window.addEventListener("message",n):window.attachEvent("onmessage",n))},s.trigger=function(e,t,n){this.rememberEvent(e,t);var r=JSON.parse(JSON.stringify(t||{}));r.event=this.EVENT_PREFIX+e,r=JSON.stringify(r),(n=n||window.parent.postMessage.bind(window.parent))(r,"*")},s.rememberEvent=function(e,t){this.eventsStory=this.eventsStory||[],this.eventsStory.push([e,t]),this.eventsStory.length>100&&this.eventsStory.shift()},s.getDefaultParams=function(){return{}},o.appendIFrameParams=function(e,t){t&&e&&(e.src=new Sandbox.Query(t).appendTo(e.src))},o.clear=function(e){var t=o.instances.indexOf(e);-1!==t&&o.instances.splice(t,1)},o.clone=function e(t){var n=t.source,r=t.destination,i=t.mergeFunction||function(e,t){return t};if(Array.isArray(n)){r=r||[];for(var o=0;o<n.length;o++)r[o]=i(r[o],e({source:n[o],mergeFunction:i}));return r}if(Sandbox.isObject(n)){for(var s in r=r||{},n)n.hasOwnProperty(s)&&(r[s]=i(r[s],e({source:n[s],mergeFunction:i})));return r}return n}},2813:function(e,t,n){var r=n(2206).XZ,i=n(2206).X,o=n(6732).k;Sandbox.static((function(e){e.Sandbox.initContainer=r,e.Sandbox.getAnnounceContainer=i,e.Sandbox.isYandex=o}))},2098:function(e,t,n){window.Sandbox.VHConfig=n(842).VHConfig},4964:function(e,t,n){var r=n(6815).default;window.Sandbox.VHVelocityMetrics=r},236:function(e,t,n){n(5817),n(6311),n(7306),n(7492),window.Sandbox.YaPlayer=n(6791).YaPlayer,window.Sandbox.YaPlayer.STATE=n(4112).STATE,window.Sandbox.ENV=n(8208).ENV,window.Sandbox.getEnv=n(8208).getEnv},2446:function(e){"use strict";e.exports=JSON.parse('{"env":"production","url":"//yastatic.net/video-player","bucket":"video-player-static","endpoint":"s3.yandex.net","path":"/0x227bae77315","version":"0x227bae77315"}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8742),Sandbox.VHQuery=n(8392),n(1256),n(7923),n(3906)}();